(function(){"use strict";var e={2111:function(e,t,a){var n=a(9242),o=a(3396),l=a(7718),i=a(3140);function s(e,t,a,n,s,r){const d=(0,o.up)("MainView"),c=(0,o.up)("LogIn"),u=(0,o.up)("RegisterUser");return(0,o.wg)(),(0,o.j4)(l.q,null,{default:(0,o.w5)((()=>["auth"===e.status?((0,o.wg)(),(0,o.j4)(i.O,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1})):"unauth"===e.status?((0,o.wg)(),(0,o.j4)(i.O,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onRegister:r.register},null,8,["onRegister"])])),_:1})):((0,o.wg)(),(0,o.j4)(i.O,{key:2},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{onRegisterSuccess:r.registerSuccess},null,8,["onRegisterSuccess"])])),_:1}))])),_:1})}a(2801),a(7658);var r=a(3369);function d(e,t,a,n,l,i){const s=(0,o.up)("SideBar"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(r.K,{fluid:"",class:"d-flex flex-row align-start pa-0 align-stretch"},{default:(0,o.w5)((()=>[(0,o.Wm)(s),(0,o.Wm)(d,{class:"container"})])),_:1})}var c=a(4075),u=a(2329),m=a(8777),h=a(9657);function p(e,t,a,n,l,i){return(0,o.wg)(),(0,o.j4)(h.V,{"expand-on-hover":"",rail:"",permanent:"",onMouseover:t[2]||(t[2]=e=>l.drawer=!l.drawer),onMouseout:t[3]||(t[3]=t=>e.drwaer=!l.drawer)},{default:(0,o.w5)((()=>[(0,o.Wm)(u.i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m.l,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:l.username,subtitle:l.email},null,8,["title","subtitle"])])),_:1}),(0,o.Wm)(c.J),(0,o.Wm)(u.i,{density:"compact",nav:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m.l,{"prepend-icon":l.icons.mdiHome,onClick:t[0]||(t[0]=e=>i.to("projects")),title:"Home",value:"home"},null,8,["prepend-icon"]),(0,o.Wm)(m.l,{"prepend-icon":l.icons.mdiCalendar,onClick:t[1]||(t[1]=e=>i.to("calendar")),title:"Calendar",value:"calendar"},null,8,["prepend-icon"]),(0,o.Wm)(m.l,{"prepend-icon":l.icons.mdiLogout,onClick:i.Logout,title:"Log Out",value:"logout"},null,8,["prepend-icon","onClick"])])),_:1})])),_:1})}var w=a(70);function g(){let e=localStorage.getItem("access_token"),t={Authorization:`Bearer ${e}`};return t}var f=g,v=a(6526);let _="http://localhost:8000/api/user/";var y={data(){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth,drawer:!0,items:[{title:"Home",icon:"mdi-home-city"},{title:"My Account",icon:"mdi-account"},{title:"Users",icon:"mdi-account-group-outline"}],mini:!1,username:"",email:"",icons:{mdiAccountMultiple:v.zr,mdiFolder:v.in3,mdiStar:v.Vip,mdiCalendar:v.xnT,mdiLogout:v.GyE,mdiHome:v.vgA}}},methods:{parseParams:function(e){return{name:e}},Logout:function(){localStorage.removeItem("access_token"),location.reload()},to:function(e){this.$router.push({name:e})}},mounted(){window.onresize=()=>{this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth};let e=localStorage.getItem("user");(0,w.ZP)({method:"GET",url:_+e,headers:f(),params:{user_id:e}}).then((e=>{this.username=e.data.name,this.email=e.data.username})).catch((e=>{console.log("Failed",e)}))}},x=a(89);const b=(0,x.Z)(y,[["render",p],["__scopeId","data-v-61cee17a"]]);var k=b,W={name:"MainView",data:()=>({}),components:{SideBar:k}};const j=(0,x.Z)(W,[["render",d]]);var D=j,V=a(870),E=a(9752),S=a(1888),P=a(1334),C=a(6422),U=a(9234),T=a(6075),A=a(165);const z={class:"d-flex flex-column fill-height justify-center align-center text-white"};function H(e,t,n,l,i,s){return(0,o.wg)(),(0,o.j4)(T.B,{align:"center",height:e.windowHeight,src:a(3739)},{default:(0,o.w5)((()=>[(0,o._)("div",z,[(0,o.Wm)(E._,{class:"elevation-12 transparent-body",width:"50%"},{default:(0,o.w5)((()=>[(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C.O,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:e.user.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.user.username=t),class:"text-white",name:"username",label:"Email/ID",type:"text"},null,8,["modelValue"]),(0,o.Wm)(A.hw,{modelValue:e.user.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.user.password=t),id:"password",class:"text-white",name:"password",label:"Password",type:"password",color:"white"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(P.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(U.C),(0,o.Wm)(U.C),(0,o.Wm)(V.T,{color:"white",onClick:s.Login},{default:(0,o.w5)((()=>[(0,o.Uk)("Sign In")])),_:1},8,["onClick"]),(0,o.Wm)(U.C),(0,o._)("a",{id:"register",class:"ma-4",onClick:t[2]||(t[2]=(...e)=>s.Register&&s.Register(...e)),href:"#"}," or Register "),(0,o.Wm)(U.C),(0,o.Wm)(U.C)])),_:1})])),_:1})])])),_:1},8,["height","src"])}let I="http://127.0.0.1:8000/api/login/";var Z={data:()=>({user:{username:"",password:""},windowHeight:window.innerHeight}),methods:{Login:function(){console.log(this.user),(0,w.ZP)({method:"POST",url:I,data:this.user}).then((e=>{console.log(e.data),localStorage.setItem("authdata",e.data),localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("refresh_token",e.data.refresh_token),localStorage.setItem("user",e.data.user.id),console.log("done"),console.log(this.$router),this.$router.go(this.$router.currentRoute)})).catch((e=>{console.log("Failed to get userList",e.response)}))},Register:function(){this.$emit("register","register")}},mounted(){window.onresize=()=>{this.windowHeight=window.innerHeight}}};const R=(0,x.Z)(Z,[["render",H]]);var q=R,F=a(6572);const O={class:"d-flex flex-column fill-height justify-center align-center text-white"};function M(e,t,n,l,i,s){return(0,o.wg)(),(0,o.j4)(T.B,{align:"center",height:e.windowHeight,src:a(3739)},{default:(0,o.w5)((()=>[(0,o._)("div",O,[(0,o.Wm)(E._,{class:"elevation-12 transparent-body",width:"60%"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,{class:"text-white"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Register Form ")])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C.O,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:e.user.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.user.username=t),class:"text-white",name:"username",label:"Email/ID",type:"text"},null,8,["modelValue"]),(0,o.Wm)(A.hw,{modelValue:e.user.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.user.password=t),id:"password",class:"text-white",name:"password",label:"Password",type:"password",color:"white"},null,8,["modelValue"]),(0,o.Wm)(A.hw,{modelValue:e.user.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.user.name=t),id:"name",class:"text-white",name:"name",label:"Name",type:"text",color:"white"},null,8,["modelValue"]),(0,o.Wm)(P.h,{class:"text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{onClick:s.register},{default:(0,o.w5)((()=>[(0,o.Uk)(" REGISTER ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1},8,["height","src"])}let $="http://127.0.0.1:8000/api/register/";var G={name:"RegisterUser",data:()=>({user:{username:"",password:"",name:"",contact:""},windowHeight:window.innerHeight}),methods:{register:function(){(0,w.ZP)({method:"POST",url:$,data:this.user}).then((e=>{console.log("done"),this.$emit("registerSuccess","unauth")})).catch((e=>{console.log("Failed to register",e.response)}))}},mounted(){window.onresize=()=>{this.windowHeight=window.innerHeight}}};const K=(0,x.Z)(G,[["render",M]]);var N=K,L={name:"App",data:()=>({status:"unauth"}),created:function(){localStorage.getItem("access_token");if(localStorage.getItem("access_token")){const e=JSON.parse(atob(localStorage.getItem("access_token").split(".")[1])).exp;e>=Date.now()/1e3?(this.status="auth",this.$router.push({name:"projects"})):this.status="unauth"}},components:{MainView:D,LogIn:q,RegisterUser:N},methods:{register:function(e){this.status=e},registerSuccess:function(e){this.status=e}}};const B=(0,x.Z)(L,[["render",s]]);var J=B,Y=(a(9773),a(8957)),X=a(6517),Q=(0,Y.Rd)({icons:{defaultSet:"mdi",aliases:X.j,sets:{mdi:X.t}}});async function ee(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var te=a(2483),ae=a(4286),ne=a(8675),oe=a(2844);function le(e,t,a,n,l,i){const s=(0,o.up)("NewProject"),r=(0,o.up)("ProJect");return(0,o.wg)(),(0,o.j4)(ae.C,{class:"mx-auto","max-width":"100%"},{default:(0,o.w5)((()=>[(0,o.Wm)(ne.I,{modelValue:e.model,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),class:"pa-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(oe._,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s)])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.projects,(e=>((0,o.wg)(),(0,o.j4)(oe._,{key:e},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{img_src:"https://cdn.vuetifyjs.com/images/cards/docks.jpg",project_id:e.id,title:e.title,subtitle:"subtitle",desc:e.content},null,8,["project_id","title","desc"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})}var ie=a(7139),se=a(1332);const re={class:"blurred"};function de(e,t,a,n,l,i){return(0,o.wg)(),(0,o.j4)(E._,{class:"mx-6 blurred text-white","max-width":"400",image:a.img_src,width:"320px",height:"180px",cover:"",onClick:t[0]||(t[0]=e=>i.to())},{default:(0,o.w5)((()=>[(0,o._)("div",re,[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(a.title),1)])),_:1}),(0,o.Wm)(se.Q,{class:"pt-4"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(a.subtitle),1)])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(a.desc),1)])),_:1}),(0,o.Wm)(P.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{color:"orange"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Edit ")])),_:1}),(0,o.Wm)(V.T,{color:"orange"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Join ")])),_:1})])),_:1})])])),_:1},8,["image"])}var ce={name:"ProJect",data:()=>({}),props:["project_id","img_src","title","subtitle","desc"],methods:{to:function(){console.log(this.project_id),this.$router.push({name:"project_retreive",query:{project_id:this.project_id}})}}};const ue=(0,x.Z)(ce,[["render",de],["__scopeId","data-v-498f8ba9"]]);var me=ue,he=a(3289);const pe={class:"d-flex justify-center align-center fill-height blurred"};function we(e,t,a,n,l,i){return(0,o.wg)(),(0,o.j4)(E._,{class:"mx-6 blurred text-white","max-width":"400",width:"320px",height:"180px",her:"",onClick:t[0]||(t[0]=e=>i.to())},{default:(0,o.w5)((()=>[(0,o._)("div",pe,[(0,o.Wm)(he.t,{icon:e.icons.mdiPlus,size:"large"},null,8,["icon"])])])),_:1})}var ge={name:"NewProject",data:()=>({icons:{mdiPlus:v.qX5}}),methods:{to:function(){this.$router.push({name:"project_create"})}}};const fe=(0,x.Z)(ge,[["render",we]]);var ve=fe;let _e="http://127.0.0.1:8000/api/project/";var ye={name:"ProjectList",data:()=>({model:null,projects:[]}),components:{ProJect:me,NewProject:ve},mounted(){(0,w.ZP)({method:"GET",url:_e,headers:f(),params:{user_id:localStorage.getItem("user")}}).then((e=>{this.projects=e.data})).catch((e=>{console.log("Failed to get song list",e.response)}))}};const xe=(0,x.Z)(ye,[["render",le],["__scopeId","data-v-5e9ea203"]]);var be=xe,ke=a(6824),We=a(8521),je=a(4842);function De(e,t,a,n,l,i){return(0,o.wg)(),(0,o.j4)(r.K,{class:"posting-container"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{class:"text-h2 text-start active mb-2"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Start Project ")])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),placeholder:"Title",name:"title",type:"text"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(je.z,{modelValue:e.content,"onUpdate:modelValue":t[1]||(t[1]=t=>e.content=t),name:"input-7-4",value:e.content},null,8,["modelValue","value"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,{class:"text-start"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{class:"btn-container"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{class:"ma-2",outlined:"",color:"indigo",onClick:t[2]||(t[2]=e=>i.createProject())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Create! ")])),_:1})])),_:1})])),_:1})])),_:1})}let Ve="http://127.0.0.1:8000/api/project/";var Ee={name:"ProjectCreate",data:()=>({title:"",content:"",update:!1}),components:{},methods:{createProject:function(){(0,w.ZP)({method:"POST",url:Ve,headers:f(),params:{user_id:localStorage.getItem("user"),title:this.title,content:this.content}}).then(this.$router.push({name:"projects"}))}},mounted(){}};const Se=(0,x.Z)(Ee,[["render",De],["__scopeId","data-v-128e0afc"]]);var Pe=Se,Ce=a(1165),Ue=a(9870);const Te={class:"font-weight-medium text-white"};function Ae(e,t,a,n,l,i){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(r.K,{class:"mb-6"},{default:(0,o.w5)((()=>[(0,o.Wm)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(T.B,{id:"parralax",class:"rounded-xl",width:e.windowWidth,height:"200px"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,{class:"blurred rounded-xl ma-0",justify:"space-between",align:"center"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{class:"ma-4"},{default:(0,o.w5)((()=>[(0,o._)("h1",Te,(0,ie.zw)(e.project.title),1),e.manage_mode?((0,o.wg)(),(0,o.j4)(V.T,{key:0,onClick:t[0]||(t[0]=e=>i.to("project_manage"))},{default:(0,o.w5)((()=>[(0,o.Uk)(" MANAGE ")])),_:1})):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["width"])])),_:1}),(0,o.Wm)(Ce.d,{"show-arrows":"",modelValue:e.active_tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.active_tab=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tab_headers,(e=>((0,o.wg)(),(0,o.j4)(Ue.L,{key:e.text,onClick:t=>i.to(e.value)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.text),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(s)])),_:1})}let ze="http://127.0.0.1:8000/api/project/";var He={name:"ProjectRetrieve",data:()=>({windowHeight:window.innerHeight,windowWidth:window.innerWidth,manage_mode:!1,project:{id:0},tab_headers:[],active_tab:0}),components:{},methods:{retrieveProject:function(){(0,w.ZP)({method:"GET",url:ze+this.$route.query.project_id+"/",headers:f(),params:{user_id:localStorage.getItem("user")}}).then((e=>{this.project=e.data,parseInt(localStorage.getItem("user"))===this.project.leader&&(this.manage_mode=!0);let t=this.setTabs(this.project.status);this.$router.replace({name:t,query:{project_id:this.$route.query.project_id}})})).catch((e=>{console.log("Failed to get retreival",e.response)}))},setTabs:function(e){return"P"===e?(this.tab_headers=[{text:"Songs",value:"song_list"},{text:"Create Song",value:"song_create"}],"song_list"):"R"===e||"O"===e?(this.tab_headers=[{text:"Set List",value:"song_fixed_list"},{text:"Meeting Schedules",value:"project_meeting"}],"song_fixed_list"):(this.tab_headers=[{text:"Set List",value:"song_fixed_list"}],"song_fixed_list")},to:function(e){this.$router.push({name:e,query:{project_id:this.$route.query.project_id}})}},mounted(){this.retrieveProject(),window.onresize=()=>{this.windowHeight=window.innerHeight}}};const Ie=(0,x.Z)(He,[["render",Ae],["__scopeId","data-v-6cedfe19"]]);var Ze=Ie,Re=a(3601),qe=a(1544);const Fe={class:"ma-2"};function Oe(e,t,a,n,l,i){const s=(0,o.up)("VueCal"),d=(0,o.up)("Datepicker"),c=(0,o.up)("EasyDataTable");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(qe.r,{modelValue:l.activeView,"onUpdate:modelValue":t[0]||(t[0]=e=>l.activeView=e),items:l.activeViewOptions,"item-title":"name","item-value":"name",label:"View",density:"compact"},null,8,["modelValue","items"])])),_:1}),(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{class:"mr-1",onClick:t[1]||(t[1]=t=>e.$refs.vuecal.previous()),icon:l.icons.mdiArrowLeft,size:"small"},null,8,["icon"]),(0,o.Wm)(V.T,{onClick:t[2]||(t[2]=t=>e.$refs.vuecal.next()),icon:l.icons.mdiArrowRight,size:"small"},null,8,["icon"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{ref:"vuecal","selected-date":l.selectedDate,"onUpdate:selected-date":t[3]||(t[3]=e=>l.selectedDate=e),"active-view":l.activeView,"onUpdate:active-view":t[4]||(t[4]=e=>l.activeView=e),"hide-view-selector":"","hide-title-bar":"",events:l.events,"disable-views":l.disable_views,"time-from":l.time_from,"time-to":l.time_to,"time-step":l.time_step,"events-on-month-view":l.eomv,"on-event-click":i.onEventClick},{"weekday-heading":(0,o.w5)((({heading:e})=>[(0,o._)("div",{style:(0,ie.j5)(i.wdHeaderStyle(e))},(0,ie.zw)(i.wdHeaderText(e)),5)])),_:1},8,["selected-date","active-view","events","disable-views","time-from","time-to","time-step","events-on-month-view","on-event-click"])])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Re.B,{modelValue:l.openRetrieve,"onUpdate:modelValue":t[8]||(t[8]=e=>l.openRetrieve=e),fullscreen:"",scrim:!1,class:"justify-center align-center",transition:"dialog-bottom-transition"},{default:(0,o.w5)((()=>[l.isPrivate?((0,o.wg)(),(0,o.j4)(E._,{key:0,width:"600px"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Update Events ")])),_:1}),(0,o.Wm)(ke.o,{class:"ma-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:l.selectedEvent.title,"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedEvent.title=e),label:"Title"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(ke.o,{class:"ma-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(je.z,{modelValue:l.selectedEvent.content,"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedEvent.content=e),label:"Content"},null,8,["modelValue"])])),_:1}),(0,o._)("div",Fe,[(0,o.Wm)(d,{modelValue:l.selectedEDate,"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedEDate=e),range:""},null,8,["modelValue"])]),(0,o.Wm)(P.h,{class:"justify-space-around"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{color:"primary",width:"25%",variant:"outlined",onClick:i.updateEvent},{default:(0,o.w5)((()=>[(0,o.Uk)(" Update ")])),_:1},8,["onClick"]),(0,o.Wm)(V.T,{color:"error",width:"25%",variant:"outlined",onClick:i.deleteEvent},{default:(0,o.w5)((()=>[(0,o.Uk)(" Delete ")])),_:1},8,["onClick"])])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(E._,{key:1,width:"600px"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Project Meeting : "+(0,ie.zw)(l.selectedEvent.title),1)])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(l.selectedEvent.content),1)])),_:1}),(0,o.Wm)(c,{headers:l.headers,items:l.selectedEvent.blocks,"table-class-name":"customize-table","show-index":"","body-text-direction":"center","header-text-direction":"center","hide-rows-per-page":!0},{"item-artist":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.artist),1)])),"item-Vocal":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.Vocal),1)])),"item-Guitar1":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.Guitar1),1)])),"item-Guitar2":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.Guitar2),1)])),"item-Bass":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.Bass),1)])),"item-Drum":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.Drum),1)])),"item-Keyboard":(0,o.w5)((({song:e})=>[(0,o.Uk)((0,ie.zw)(e.Keyboard),1)])),_:1},8,["headers","items"])])),_:1}))])),_:1},8,["modelValue"])])),_:1})])),_:1})}var Me=a(3886),$e=a(9024);let Ge="http://127.0.0.1:8000/api/event/",Ke="http://127.0.0.1:8000/api/private/";var Ne={name:"ProjectMeeting",components:{VueCal:Me.Z,Datepicker:$e.Z},data(){return{icons:{mdiArrowLeft:v.J3k,mdiArrowRight:v.aIO},selectedDate:null,activeView:"month",activeViewOptions:["month","week","day"],disable_views:["years","year"],disable_days:[],time_from:480,time_to:1140,time_step:30,eomv:"short",weekdayHeadings:{Sunday:{short:"Sun",color:"red"},Monday:{short:"Mon",color:"black"},Tuesday:{short:"Tue",color:"black"},Wednesday:{short:"Wed",color:"black"},Thursday:{short:"Thu",color:"black"},Friday:{short:"Fri",color:"black"},Saturday:{short:"Sat",color:"blue"}},events:[],openAdd:!1,newDate:[new Date,new Date],newEvent:{title:"",content:""},openRetrieve:!1,selectedEvent:{},selectedEDate:[],isPrivate:!0,headers:[{text:"From",value:"start"},{text:"To",value:"end"},{text:"Artist",value:"artist"},{text:"Title",value:"title"},{text:"Vocal",value:"Vocal"},{text:"Guitar1",value:"Guitar1"},{text:"Guitar2",value:"Guitar2"},{text:"Bass",value:"Bass"},{text:"Drum",value:"Drum"},{text:"Keyboard",value:"Keyboard"}]}},methods:{wdHeaderStyle:function(e){return""===e.label?"":"color:"+this.weekdayHeadings[e.label].color},wdHeaderText:function(e){return""===e.label?"":this.weekdayHeadings[e.label].short},modal:function(){this.newDate[0]=this.selectedDate,this.newDate[1]=this.selectedDate,this.openAdd=!0},onlyDate:function(e){return e=new Date(e),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},parseEvent:function(e,t){return!0===e.allDay?(e.start=this.onlyDate(e.start),e.end=this.onlyDate(e.end)):(e.start=new Date(e.start),e.end=new Date(e.end)),e.class=e.cls,e.index=t,e},getEvents:function(){console.log({user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id,type:"public"}),(0,w.ZP)({method:"GET",url:Ge,headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id,type:"public"}}).then((e=>{this.events=e.data.map(((e,t)=>this.parseEvent(e,t)))})).catch((e=>{console.log("Failed to get song list",e.response)}))},createEvent:function(){(0,w.ZP)({method:"POST",url:Ke,headers:f(),params:{user_id:localStorage.getItem("user"),start:this.newDate[0],end:this.newDate[1],title:this.newEvent.title,content:this.newEvent.content,participants:JSON.stringify([localStorage.getItem("user")])}}).then((e=>{this.events.push(this.parseEvent(e.data)),this.openAdd=!1,this.newDate=[new Date,new Date]})).catch((e=>{console.log("Failed to get song list",e.response)}))},onEventClick:function(e){this.selectedEvent=e,this.selectedEDate=[e.start,e.end],this.openRetrieve=!0,this.isPrivate="private"===e.cls},updateEvent:function(){(0,w.ZP)({method:"PATCH",url:Ge+this.selectedEvent.id+"/",headers:f(),params:{event_id:this.selectedEvent.id,start:this.selectedEDate[0],end:this.selectedEDate[1],title:this.selectedEvent.title,content:this.selectedEvent.content}}).then((e=>{this.events[this.selectedEvent.index]=this.parseEvent(e.data,this.selectedEvent.index),this.selectedEvent={},this.selectedEDate=[],this.openRetrieve=!1})).catch((e=>{console.log("Failed to update private event",e.response)}))},deleteEvent:function(){(0,w.ZP)({method:"DELETE",url:Ge+this.selectedEvent.id+"/",headers:f(),params:{event_id:this.selectedEvent.id}}).then((e=>{this.openRetrieve=!1,this.events.splice(this.selectedEvent.index,1),this.events=this.events.map(((e,t)=>this.parseEvent(e,t)))})).catch((e=>{console.log("Failed to update private event",e.response)}))}},mounted(){this.getEvents()}};const Le=(0,x.Z)(Ne,[["render",Oe]]);var Be=Le;const Je={class:"font-weight-medium text-white"};function Ye(e,t,a,n,l,i){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(r.K,{class:"mb-6"},{default:(0,o.w5)((()=>[(0,o.Wm)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(T.B,{id:"parralax",class:"rounded-xl",width:e.windowWidth,height:"200px"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,{class:"blurred align-center justify-start rounded-xl ma-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{class:"ma-4"},{default:(0,o.w5)((()=>[(0,o._)("h1",Je," MANAGE MODE : "+(0,ie.zw)(e.project.title),1),(0,o.Wm)(V.T,{onClick:i.save},{default:(0,o.w5)((()=>[(0,o.Uk)(" SAVE ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["width"])])),_:1}),(0,o.Wm)(Ce.d,{"show-arrows":"",modelValue:e.active_tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.active_tab=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tab_headers,(e=>((0,o.wg)(),(0,o.j4)(Ue.L,{key:e.text,onClick:t=>i.to(e.value)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.text),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(s)])),_:1})}let Xe="http://127.0.0.1:8000/api/project/";var Qe={name:"ProjectManage",data:()=>({windowHeight:window.innerHeight,windowWidth:window.innerWidth,manage:!1,project:{id:-1},tab_headers:[{text:"Status",value:"manage_status"},{text:"Songs",value:"manage_songs"},{text:"Schedule",value:"project_schedule"}],active_tab:0}),components:{},methods:{retrieveProject:function(){(0,w.ZP)({method:"GET",url:Xe+this.$route.query.project_id+"/",headers:f(),params:{user_id:localStorage.getItem("user")}}).then((e=>{this.project=e.data,this.status=this.project.status,console.log("here"),this.$router.replace({name:"manage_status",query:{project_id:this.project.id}}),console.log("here")})).catch((e=>{console.log("Failed to get retreival",e.response)}))},to:function(e){if(this.project.id>-1){let t=this.project.id;console.log("cex",t),this.$router.push({name:e,query:{status:this.status,project_id:t}})}else{let t=this.$route.query.project_id;console.log("default",t),this.$router.push({name:e,query:{status:this.status,project_id:t}})}},save:function(){console.log("cx"),this.selectedSongs.map(((e,t)=>{this.songs[t].fix=e})),(0,w.ZP)({method:"PATCH",url:Xe+this.project.id+"/",headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.project.id,selectedSongs:JSON.stringify(this.songs),status:this.status,action:"song"}}).then((e=>{console.log(e)})).catch((e=>{console.log("Failed to fix the project",e.response)}))}},mounted(){this.retrieveProject(),window.onresize=()=>{this.windowHeight=window.innerHeight}},watch:{songs:{handler:function(e,t){},deep:!0,immediate:!0}}};const et=(0,x.Z)(Qe,[["render",Ye],["__scopeId","data-v-6f14419e"]]);var tt=et,at=a(1222);function nt(e,t,a,n,l,i){const s=(0,o.up)("PlayerSelect"),d=(0,o.up)("EasyDataTable");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{headers:e.headers,items:e.songs,"table-class-name":"customize-table","show-index":"","body-text-direction":"center","header-text-direction":"center","hide-rows-per-page":!0},{"item-fix":(0,o.w5)((t=>[(0,o.Wm)(at.x,{modelValue:e.selectedSongs[t.index],"onUpdate:modelValue":a=>e.selectedSongs[t.index]=a,density:"compact",class:"cbox"},null,8,["modelValue","onUpdate:modelValue"])])),"item-delete":(0,o.w5)((t=>[(0,o.Wm)(he.t,{icon:e.icons.mdiDelete,onClick:e=>i.modal(t),density:"compact"},null,8,["icon","onClick"])])),expand:(0,o.w5)((e=>[(0,o.Wm)(s,{song:e,onUpdatePlayers:i.updatePlayers},null,8,["song","onUpdatePlayers"])])),_:1},8,["headers","items"]),(0,o.Wm)(Re.B,{modelValue:e.openModal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.openModal=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(E._,{"max-width":"600px",class:"dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Delete Song ")])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Are you sure to delete "+(0,ie.zw)(e.delItem.title)+"? ",1)])),_:1}),(0,o.Wm)(P.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{color:"error",variant:"outlined",width:"100%",onClick:t[0]||(t[0]=t=>i.deleteSong(e.delItem))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Delete ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}function ot(e,t,a,n,l,i){const s=(0,o.up)("EasyDataTable");return(0,o.wg)(),(0,o.j4)(E._,{class:"elevation-0 pa-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{headers:e.player_header,items:i.serialize(a.song),"body-text-direction":"center","header-text-direction":"center","hide-rows-per-page":!0,"show-index":""},{"item-player":(0,o.w5)((t=>[(0,o._)("td",null,[(0,o.Wm)(qe.r,{modelValue:e.selectedPlayers[t.position],"onUpdate:modelValue":a=>e.selectedPlayers[t.position]=a,items:t.player,"item-title":"name","item-value":"id",density:"compact"},null,8,["modelValue","onUpdate:modelValue","items"])])])),_:1},8,["headers","items"]),(0,o.Wm)(P.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{width:"100%",onClick:t[0]||(t[0]=e=>i.updatePlayers())},{default:(0,o.w5)((()=>[(0,o.Uk)(" UPDATE ")])),_:1})])),_:1})])),_:1})}var lt={name:"PlayerSelect",data:()=>({player_header:[{text:"Positions",value:"position"},{text:"Select Player",value:"player"}],selectedPlayers:{}}),props:["song"],methods:{serialize:function(e){let t={},a={},n=e.players,o=Array();console.log(n);for(let l in n){let e=n[l],o=e.player,i=o.position;i in t||(t[i]=Array(),a[i]=""),e.fixed&&(console.log("playerselect",e.id),a[i]=e.id),t[i].push({id:e.id,name:o.name})}for(let l in e.instruments){let a=e.instruments[l];o.push({position:a,player:t[a],selected:""})}return this.selectedPlayers=a,o},updatePlayers:function(){console.log(this.selectedPlayers),this.$emit("updatePlayers",{song:this.song,players:this.selectedPlayers})}},mounted(){}};const it=(0,x.Z)(lt,[["render",ot],["__scopeId","data-v-02744b64"]]);var st=it;let rt="http://127.0.0.1:8000/api/project/",dt="http://127.0.0.1:8000/api/song/";var ct={name:"ManageSongs",data:()=>({project:"",songs:[],headers:[{text:"Artist",value:"artist"},{text:"Title",value:"title"},{text:"Vocal",value:"Vocal"},{text:"Guitar1",value:"Guitar1"},{text:"Guitar2",value:"Guitar2"},{text:"Bass",value:"Bass"},{text:"Drum",value:"Drum"},{text:"Keyboard",value:"Keyboard"},{text:"Fix",value:"fix"},{text:"Delete",value:"delete"}],manage_header:[{text:"Positions",value:"position"},{text:"Select Player",value:"player"}],selectedPlayers:{},selectedSongs:[],openModal:!1,delItem:{name:""},icons:{mdiDelete:v.x9U}}),methods:{parsePlayer:function(e){return e.players.map((t=>{t.fixed&&(e[t.player.position]=t.player.user.name)})),e},setIndex:function(e,t){return t.index=e.index,t=this.parsePlayer(t),t},retrieveProject:function(){(0,w.ZP)({method:"GET",url:rt+this.$route.query.project_id+"/",headers:f(),params:{user_id:localStorage.getItem("user")}}).then((e=>{this.project=e.data,this.songs=this.project.songs.map(((e,t)=>(e.index=t,e=this.parsePlayer(e),this.selectedSongs.push(e.fix),e))),this.status=this.project.status,parseInt(localStorage.getItem("user"))===this.project.leader&&(console.log("ture"),this.manage_mode=!0)})).catch((e=>{console.log("Failed to get retreival",e.response)}))},updatePlayers:function(e){console.log(this.selectedSongs,e.players),(0,w.ZP)({method:"PATCH",url:dt+e.song.id+"/",headers:f(),params:{user_id:localStorage.getItem("user"),selectedPlayers:JSON.stringify(e.players),action:"fix"}}).then((t=>{this.songs[e.song.index]=this.setIndex(e.song,t.data),this.manage=!1})).catch((e=>{console.log("Failed to fix this song",e.response)}))},save:function(){this.selectedSongs.map(((e,t)=>{this.songs[t].fix=e})),(0,w.ZP)({method:"PATCH",url:rt+this.$route.query.project_id+"/",headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id,selectedSongs:JSON.stringify(this.songs),status:this.status,action:"song"}}).then((e=>{console.log(e)})).catch((e=>{console.log("Failed to fix the project",e.response)}))},modal:function(e){this.openModal=!0,this.delItem=e},deleteSong:function(e){(0,w.ZP)({method:"DELETE",url:dt+e.id,headers:f()}).then((t=>{this.openModal=!1,this.songs.splice(e.index,1),this.selectedSongs.splice(e.index,1),this.songs=this.songs.map(((e,t)=>(e.index=t,e)))})).catch((e=>{console.log("Failed to delete song",e.response)}))}},components:{PlayerSelect:st},mounted(){this.retrieveProject()},watch:{selectedSongs:{handler:function(e,t){this.save()},deep:!0,immediate:!0}}};const ut=(0,x.Z)(ct,[["render",nt],["__scopeId","data-v-240777e4"]]);var mt=ut,ht=a(4846),pt=a(1275);const wt=(0,o._)("strong",null," Status of Project ",-1);function gt(e,t,a,n,l,i){return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(pt.r,{modelValue:e.status,"onUpdate:modelValue":t[0]||(t[0]=t=>e.status=t),inline:""},{label:(0,o.w5)((()=>[wt])),default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.statusOptions,(e=>((0,o.wg)(),(0,o.j4)(ht.R,{key:e.value,value:e.value,color:e.color},{label:(0,o.w5)((()=>[(0,o._)("strong",null,(0,ie.zw)(e.name),1)])),_:2},1032,["value","color"])))),128))])),_:1},8,["modelValue"])])),_:1})}let ft="http://127.0.0.1:8000/api/project/";var vt={name:"ManageStatus",data:()=>({project_id:-1,status:"P",statusOptions:[{name:"Prepare",value:"P",color:"orange"},{name:"Ready",value:"R",color:"success"},{name:"OnGoing",value:"O",color:"primary"},{name:"Done",value:"D",color:"error"}]}),methods:{getStatus:function(){(0,w.ZP)({method:"GET",url:ft+this.$route.query.project_id+"/",headers:f(),params:{user_id:localStorage.getItem("user")}}).then((e=>{this.status=e.data.status,this.project_id=e.data.id})).catch((e=>{console.log("Failed to get status",e.response)}))},updateStatus:function(){(0,w.ZP)({method:"PATCH",url:ft+this.project_id+"/",headers:f(),params:{project_id:this.project_id,status:this.status,action:"status"}}).then((e=>{console.log(e)})).catch((e=>{console.log("Failed to update status",e.response)}))}},mounted(){this.getStatus()},watch:{status:function(){this.updateStatus()}}};const _t=(0,x.Z)(vt,[["render",gt]]);var yt=_t,xt=a(1037),bt=a(2356),kt=a(7977),Wt=a(5689),jt=a(7379),Dt=a(7471),Vt=a(5030);const Et=["onClick"],St=["onClick"],Pt={key:1,class:"vuecal__cell-events-count"},Ct={key:2,class:"vuecal__no-event"},Ut=(0,o._)("div",{class:"text-h3"},"Time",-1),Tt=(0,o._)("div",{class:"text-h3"},"Songs",-1),At=(0,o._)("div",{class:"text-h3"},"Dates",-1);function zt(e,t,a,n,l,i){const s=(0,o.up)("VueCal"),d=(0,o.up)("EasyDataTable");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(qe.r,{modelValue:e.activeView,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeView=t),items:e.activeViewOptions,"item-title":"name","item-value":"name",label:"View",density:"compact"},null,8,["modelValue","items"])])),_:1}),(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{class:"mr-1",onClick:t[1]||(t[1]=t=>e.$refs.vuecal.previous()),icon:e.icons.mdiArrowLeft,size:"small"},null,8,["icon"]),(0,o.Wm)(V.T,{onClick:t[2]||(t[2]=t=>e.$refs.vuecal.next()),icon:e.icons.mdiArrowRight,size:"small"},null,8,["icon"])])),_:1}),(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.selectedDate),1)])),_:1}),(0,o.Wm)(We.D,{cols:"2"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{onClick:i.modal},{default:(0,o.w5)((()=>[(0,o.Uk)(" SEARCH ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(kt._,{multiple:""},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{ref:"vuecal","selected-date":e.selectedDate,"onUpdate:selected-date":t[3]||(t[3]=t=>e.selectedDate=t),"active-view":e.activeView,"onUpdate:active-view":t[4]||(t[4]=t=>e.activeView=t),"hide-view-selector":"","hide-title-bar":"",events:e.events,"disable-views":e.disable_views,"time-from":e.time_from,"time-to":e.time_to,"time-step":e.time_step,"events-on-month-view":e.eomv,"on-event-click":i.onEventClick,onCellClick:i.onCellClick},{"weekday-heading":(0,o.w5)((({heading:e})=>[(0,o._)("div",{style:(0,ie.j5)(i.wdHeaderStyle(e))},(0,ie.zw)(i.wdHeaderText(e)),5)])),"cell-content":(0,o.w5)((({cell:e,view:t,events:a,goNarrower:n})=>[(0,o._)("div",{class:"vuecal__flex vuecal__cell-content custom-cell",onClick:t=>i.onCellClick(e)},[(0,o.Wm)(Wt.D,null,{default:(0,o.w5)((({isSelected:t,toggle:a})=>[(0,o.Wm)(E._,{color:t?"primary":"",class:"d-flex align-center rounded-0 elevation-0",dark:"",onClick:n=>[i.onCellClick(t,e),a()],height:"100%",width:"100%"},{default:(0,o.w5)((()=>[(0,o.Wm)(S.Z,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.content)+" ",1)])),_:2},1024)])),_:2},1032,["color","onClick"])])),_:2},1024)],8,Et),"day"===t.id?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,ie.C_)(["vuecal__cell-date",t.id]),onClick:n},(0,ie.zw)(e.content),11,St)):(0,o.kq)("",!0),"month"===t.id&&a.length?((0,o.wg)(),(0,o.iD)("span",Pt,(0,ie.zw)(a.length),1)):(0,o.kq)("",!0),["week","day"].includes(t.id)&&!a.length?((0,o.wg)(),(0,o.iD)("span",Ct,"Nothing here ðŸ‘Œ")):(0,o.kq)("",!0)])),_:1},8,["selected-date","active-view","events","disable-views","time-from","time-to","time-step","events-on-month-view","on-event-click","onCellClick"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Re.B,{modelValue:e.openAddMeeting,"onUpdate:modelValue":t[8]||(t[8]=t=>e.openAddMeeting=t),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:(0,o.w5)((()=>[(0,o.Wm)(E._,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Dt.iv,{dark:"",color:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{icon:e.icons.mdiClose,dark:"",onClick:t[5]||(t[5]=t=>e.openAddMeeting=!1)},null,8,["icon"]),(0,o.Wm)(Vt.q,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Searching best meeting ")])),_:1})])),_:1}),"condition"===e.dialogView?((0,o.wg)(),(0,o.j4)(r.K,{key:0},{default:(0,o.w5)((()=>[Ut,(0,o.Wm)(jt.m,{min:9,step:"1","thumb-label":"always",max:24,modelValue:e.timeRange,"onUpdate:modelValue":t[6]||(t[6]=t=>e.timeRange=t),strict:""},null,8,["modelValue"]),Tt,(0,o.Wm)(bt.N,{modelValue:e.selectedSongs,"onUpdate:modelValue":t[7]||(t[7]=t=>e.selectedSongs=t),multiple:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.project.songs,(e=>((0,o.wg)(),(0,o.j4)(xt.v,{key:e,filter:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.title),1)])),_:2},1024)))),128))])),_:1},8,["modelValue"]),At,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.constrainedDates,(e=>((0,o.wg)(),(0,o.j4)(E._,{key:e,class:"ma-0 pa-0",onClick:t=>i.arrangeView(e),ripple:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e),1)])),_:2},1024),(0,o.Wm)(bt.N,{class:"ma-2"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.getSongs(e),(e=>((0,o.wg)(),(0,o.j4)(xt.v,{key:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.title),1)])),_:2},1024)))),128))])),_:2},1024),(0,o.Wm)(c.J)])),_:2},1032,["onClick"])))),128))])),_:1})):"arange"===e.dialogView?((0,o.wg)(),(0,o.j4)(r.K,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{headers:e.headers,items:i.getAvailableSongs(),"table-class-name":"customize-table","show-index":"","body-text-direction":"center","header-text-direction":"center","hide-footer":!0,"hide-rows-per-page":!0},{"item-song":(0,o.w5)((({song:e})=>[(0,o._)("td",null,(0,ie.zw)(e.title),1)])),"item-artist":(0,o.w5)((({song:e})=>[(0,o._)("td",null,(0,ie.zw)(e.artist),1)])),_:1},8,["headers","items"]),(0,o.Wm)(V.T,{onClick:i.createMeeting},{default:(0,o.w5)((()=>[(0,o.Uk)(" submit ")])),_:1},8,["onClick"])])),_:1})):(0,o.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}let Ht="http://127.0.0.1:8000/api/project/",It="http://127.0.0.1:8000/api/meeting/";var Zt={name:"YourComponent",data:()=>({icons:{mdiArrowLeft:v.J3k,mdiArrowRight:v.aIO,mdiClose:v.r5M},selectedDate:null,activeView:"month",activeViewOptions:["month","week","day"],disable_views:["years","year"],disable_days:[],time_from:480,time_to:1380,time_step:30,eomv:"short",weekdayHeadings:{Sunday:{short:"Sun",color:"red"},Monday:{short:"Mon",color:"black"},Tuesday:{short:"Tue",color:"black"},Wednesday:{short:"Wed",color:"black"},Thursday:{short:"Thu",color:"black"},Friday:{short:"Fri",color:"black"},Saturday:{short:"Sat",color:"blue"}},events:[{id:1,author:1,start:"2022-11-26 14:00",end:"2022-11-26 17:30",title:"Boring event",content:"CEX"},{start:"2022-11-26 12:00",end:"2022-11-26 14:00",title:"í•©ì£¼",class:"meeting",background:!0}],openAdd:!1,newDate:[new Date,new Date],newEvent:{title:"",content:""},openRetrieve:!1,selectedNewDates:new Set,openAddMeeting:!1,timeRange:[12,22],selectedSongs:[],dialogView:"condition",sph:3,selectedDateSchedule:"",schedule:[],headers:[{text:"Time",value:"start"},{text:"Title",value:"song"},{text:"Artist",value:"artist"}],users:[]}),components:{VueCal:Me.Z},methods:{wdHeaderStyle:function(e){return""===e.label?"":"color:"+this.weekdayHeadings[e.label].color},wdHeaderText:function(e){return""===e.label?"":this.weekdayHeadings[e.label].short},onEventClick:function(e){console.log("eventclick")},onCellClick:function(e,t){"boolean"===typeof e&&(e?this.selectedNewDates.delete(String(t.startDate)):(console.log(t.startDate),this.selectedNewDates.add(String(t.startDate))))},retrieveProject:function(){(0,w.ZP)({method:"GET",url:Ht+this.$route.query.project_id+"/",headers:f(),params:{user_id:localStorage.getItem("user")}}).then((e=>{this.project=e.data,this.project.songs.map(((e,t)=>(e.index=t,this.parsePlayer(e))))})).catch((e=>{console.log("Failed to get retreival",e.response)}))},parsePlayer:function(e){return e.players.map((t=>{t.fixed&&(e[t.player.position]=t.player.user.name)})),e},modal:function(){this.openAddMeeting=!0,this.dialogView="condition",console.log(this.selectedNewDates),this.getSongs()},getSongs:function(e){let t=Array();for(let a in this.project.songs){let n=this.project.songs[a];for(let a=this.timeRange[0];a<this.timeRange[1];a++)if(console.log(n.title,e,a,this.isAvailableAt(n,e,a)),this.isAvailableAt(n,e,a)){t.push(n);break}}return t},isAvailableAt(e,t,a){let n=new Date(t),o=new Date(t);n.setHours(a),o.setHours(a+1);for(let l in e.players){let t=e.players[l];if(!t.fixed)continue;let a=t.player.user.events;for(let e in a){let t=a[e],l=new Date(t.start),i=new Date(t.end);if(t.allDay){if(i.setHours(23,59,59),n<=i&&o>l)return!1}else if(n<=i&&o>l)return!1}}return!0},priorityCompare:function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0},priorityFunction:function(e,t,a,n,o){for(let c in n){let a=n[c];for(let n=e;n<this.timeRange[1]-t;n++)if(this.isAvailableAt(a,o,n)){a.priority++,console.log(a);break}}n.sort(this.priorityCompare);let l=n[n.length-1].priority,i=Array(),s=new Set,r=new Array(t).fill(0).map((()=>new Array(n.length).fill(0)));for(let c=e;c<e+t;c++){let n=a[c];n.sort(this.priorityCompare);let d=n.splice(0,this.sph);d.map(((a,n)=>{a.priority=a.priority+l;for(let o=Math.max(c-t-e,0);o<c+t-e;o++)r[o][a.index]=1;a.players.map((e=>{s.add(e.player.user.id)}));let d=new Date(o),u=new Date(o);d.setHours(c,this.sph*n),u.setHours(c,this.sph*(n+1)),i.push({start:d,end:u,song:a})}))}let d=r.map((e=>e.reduce(((e,t)=>e+t),0))).reduce(((e,t)=>e+t),0);return[d,i,s]},getAvailableSongs:function(){let e=this.selectedDateSchedule,t=this.project.songs;t=t.map((e=>(e.priority=0,e)));let a={};for(let r=this.timeRange[0];r<this.timeRange[1];r++)a[r]=Array();let n=0;for(let r in t){let o=t[r],l=!1;for(let t=this.timeRange[0];t<this.timeRange[1];t++)this.isAvailableAt(o,e,t)&&(a[t].push(o),l||(n++,l=!0))}let o=parseInt(n/this.sph),l=n%this.sph;0!==l&&o++;let i=-1,s={schedules:"",participants:"",title:"test title",content:"test content",start:"",end:""};for(let r=this.timeRange[0];r<this.timeRange[1]-o;r++){let n=this.priorityFunction(r,o,a,t,e);if(n[0]>i){let t=new Date(e),a=new Date(e);t.setHours(r),a.setHours(r+o),i=n[0],s.schedules=n[1],s.participants=Array.from(n[2]),s.start=t,s.end=a}}return this.meeting=s,s.schedules},getAvailableDays:function(e){this.selectedNewDates.map((e=>{}));let t=Array();return t},arrangeView:function(e){console.log(e),this.dialogView="arange",this.selectedDateSchedule=e},log:function(e){console.log(e)},createMeeting:function(){this.schedule,(0,w.ZP)({method:"POST",url:It,headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id,meeting:JSON.stringify(this.meeting),action:"meeting"}}).then((e=>{console.log(e)})).catch((e=>{console.log("Failed to get retreival",e.response)}))}},mounted(){this.retrieveProject()},computed:{constrainedDates(){if(0===this.selectedSongs.length)return this.selectedNewDates;{let e=new Set;for(let t of this.selectedNewDates)for(let a in this.selectedSongs){let n=this.project.songs[this.selectedSongs[a]];for(let a=this.timeRange[0];a<this.timeRange[1];a++)this.isAvailableAt(n,t,a)&&e.add(t)}return console.log(e),e}}}};const Rt=(0,x.Z)(Zt,[["render",zt]]);var qt=Rt,Ft=a(4413);const Ot=e=>((0,o.dD)("data-v-70ae477d"),e=e(),(0,o.Cn)(),e),Mt=Ot((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{class:"text-left"}," Name "),(0,o._)("th",{class:"text-center"}," requirement ")])],-1))),$t={class:"text-center"};function Gt(e,t,a,n,l,i){return(0,o.wg)(),(0,o.j4)(r.K,{class:"posting-container"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{class:"text-h2 text-start active mb-2"},{default:(0,o.w5)((()=>[(0,o.Uk)(" New Song ")])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),placeholder:"Title",name:"title",type:"text"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:e.artist,"onUpdate:modelValue":t[1]||(t[1]=t=>e.artist=t),placeholder:"Artist",name:"artist",type:"text"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(je.z,{modelValue:e.content,"onUpdate:modelValue":t[2]||(t[2]=t=>e.content=t),name:"input-7-4",value:e.content},null,8,["modelValue","value"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,{class:"text-start"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{class:"btn-container"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{class:"ma-2",outlined:"",color:"indigo",onClick:t[3]||(t[3]=e=>i.createSong())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Create! ")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(Ft.Y,null,{default:(0,o.w5)((()=>[Mt,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.positions,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.name},[(0,o._)("td",null,(0,ie.zw)(t.name),1),(0,o._)("td",$t,[(0,o.Wm)(V.T,{class:"elevation-0",icon:e.icons.mdiMinus,size:"small",onClick:e=>i.subtract(t)},null,8,["icon","onClick"]),(0,o.Uk)(" "+(0,ie.zw)(t.requirement)+" ëª… ",1),(0,o.Wm)(V.T,{class:"elevation-0",icon:e.icons.mdiPlus,size:"small",onClick:e=>i.add(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("+")])),_:2},1032,["icon","onClick"])])])))),128)),(0,o._)("tr",null,[(0,o._)("td",null,[(0,o.Wm)(A.hw,{modelValue:e.newPosition,"onUpdate:modelValue":t[4]||(t[4]=t=>e.newPosition=t),variant:"underlined"},null,8,["modelValue"])]),(0,o._)("td",null,[(0,o.Wm)(V.T,{class:"elevation-0",width:"100%",onClick:t[5]||(t[5]=e=>i.addPosition())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Add New Position ")])),_:1})])])])])),_:1})])),_:1})}let Kt="http://127.0.0.1:8000/api/song/";var Nt={name:"SongCreate",data:()=>({title:"",artist:"",content:"",newPosition:"",positions:[{name:"Vocal",requirement:0},{name:"Guitar",requirement:0},{name:"Bass",requirement:0},{name:"Drum",requirement:0},{name:"Keyboard",requirement:0}],icons:{mdiMinus:v.UHA,mdiPlus:v.qX5}}),components:{},methods:{subtract:function(e){e.requirement-1>=0&&(e.requirement=e.requirement-1)},add:function(e){e.requirement=e.requirement+1},addPosition:function(){let e=!1;for(let t in this.positions)this.positions[t].name===this.newPosition&&(this.positions[t].requirement+=1,e=!0);e||this.positions.push({name:this.newPosition,requirement:1}),this.newPosition=""},resetData:function(){this.title="",this.artist="",this.content="",this.newPosition="",this.positions=[{name:"Vocal",requirement:0},{name:"Guitar",requirement:0},{name:"Bass",requirement:0},{name:"Drum",requirement:0},{name:"Keyboard",requirement:0}]},createSong:function(){(0,w.ZP)({method:"POST",url:Kt,headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id,title:this.title,artist:this.artist,content:this.content,positions:JSON.stringify(this.positions)}}).then((e=>{console.log(e),this.resetData()})).catch((e=>{console.log("Failed to get retreival",e.response)}))}},mounted(){}};const Lt=(0,x.Z)(Nt,[["render",Gt],["__scopeId","data-v-70ae477d"]]);var Bt=Lt;const Jt=e=>((0,o.dD)("data-v-771f55ca"),e=e(),(0,o.Cn)(),e),Yt=Jt((()=>(0,o._)("h2",null," ë¹„ê³ ",-1))),Xt=Jt((()=>(0,o._)("h3",null," ì§€ì›í•˜ê¸° ",-1)));function Qt(e,t,a,n,l,i){const s=(0,o.up)("EasyDataTable");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{headers:e.headers,items:e.songs,onExpandRow:i.selectSong,"table-class-name":"customize-table","show-index":"","body-text-direction":"center","header-text-direction":"center","hide-rows-per-page":!0},{"item-fix":(0,o.w5)((({fix:t})=>[(0,o.Wm)(xt.v,{width:"100%",size:"small",color:e.colors[t]},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.texts[t]),1)])),_:2},1032,["color"])])),expand:(0,o.w5)((a=>[(0,o.Wm)(E._,{class:"elevation-0 pa-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o._)("h3",null,(0,ie.zw)(a.title),1),(0,o._)("h6",null,(0,ie.zw)(a.artist),1)])),_:2},1024),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[Yt])),_:1}),(0,o.Wm)(S.Z,{class:"text-start"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(a.content),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[Xt,(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(qe.r,{modelValue:e.selected_position,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_position=t),items:a.instruments,"item-title":"name","item-value":"name",label:"Position",density:"compact"},null,8,["modelValue","items"])])),_:2},1024),(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{class:"ma-2",outlined:"",color:"indigo",onClick:e=>i.applyPosition(a)},{default:(0,o.w5)((()=>[(0,o.Uk)(" Apply! ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),(0,o.Wm)(s,{headers:e.pos_headers,items:a.players,onClickRow:i.deleteModal,"body-text-direction":"center","header-text-direction":"center","hide-rows-per-page":!0,"show-index":""},{"item-name":(0,o.w5)((({player:e})=>[(0,o._)("td",null,(0,ie.zw)(e.name),1)])),"item-position":(0,o.w5)((({player:e})=>[(0,o._)("td",null,(0,ie.zw)(e.position),1)])),"item-fixed":(0,o.w5)((({fixed:e})=>[(0,o._)("td",null,(0,ie.zw)(e),1)])),_:2},1032,["headers","items","onClickRow"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},8,["headers","items","onExpandRow"])])),_:1}),(0,o.Wm)(Re.B,{modelValue:e.openModal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.openModal=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(E._,{"max-width":"600px",class:"dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Quit from "+(0,ie.zw)(e.delFrom.title),1)])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Are you sure to quit from "+(0,ie.zw)(e.delPosition.position)+" from "+(0,ie.zw)(e.delFrom.title)+"? ",1)])),_:1}),(0,o.Wm)(P.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{color:"error",variant:"outlined",width:"100%",onClick:i.quitPosition},{default:(0,o.w5)((()=>[(0,o.Uk)(" Quit ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}let ea="http://127.0.0.1:8000/api/song/";var ta={name:"SongList",data:()=>({songs:[],headers:[{text:"Artist",value:"artist"},{text:"Title",value:"title"},{text:"Vocal",value:"Vocal"},{text:"Guitar1",value:"Guitar1"},{text:"Guitar2",value:"Guitar2"},{text:"Bass",value:"Bass"},{text:"Drum",value:"Drum"},{text:"Keyboard",value:"Keyboard"},{text:"Fixed",value:"fix"}],delFrom:"",pos_headers:[{text:"Name",value:"name"},{text:"Position",value:"position"},{text:"Status",value:"fixed"}],selected_position:"",openModal:!1,delPosition:"",colors:{true:"primary",false:"error"},texts:{true:"Fixed",false:"Not Fixed"}}),props:["project"],components:{},methods:{parsePlayer:function(e){return e.players.map((t=>{console.log(t),t.fixed&&(e[t.player.position]=t.player.user.name)})),e},songList:function(){(0,w.ZP)({method:"GET",url:ea,headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id}}).then((e=>{this.songs=e.data.map(((e,t)=>(e.index=t,e=this.parsePlayer(e),e)))})).catch((e=>{console.log("Failed to get song list",e.response)}))},setIndex:function(e,t){return t.index=e.index,t=this.parsePlayer(t),t},to:function(e){this.$router.push({name:e,query:{project_id:this.$route.params.project_id}})},applyPosition:function(e){(0,w.ZP)({method:"PATCH",url:ea+e.id+"/",headers:f(),params:{user_id:localStorage.getItem("user"),position:this.selected_position,action:"apply"}}).then((t=>{this.songs[e.index]=this.setIndex(e,t.data)})).catch((e=>{console.log("Failed to update song",e.response)}))},selectSong:function(e){this.delFrom=this.songs[e]},deleteModal:function(e){e.player.user.id===parseInt(localStorage.getItem("user"))&&(this.delPosition=e,this.openModal=!0)},quitPosition:function(){(0,w.ZP)({method:"PATCH",url:ea+this.delFrom.id+"/",headers:f(),params:{user_id:localStorage.getItem("user"),position:this.delPosition.player.position,action:"quit"}}).then((e=>{this.openModal=!1,this.songs[this.delFrom.index]=this.setIndex(this.delFrom,e.data)})).catch((e=>{console.log("Failed to quit from the song",e.response)}))}},mounted(){this.songList()},watch:{project:{handler:function(e,t){this.songList()},deep:!0,immediate:!0},songs:{handler:function(e,t){},deep:!0,immediate:!0}}};const aa=(0,x.Z)(ta,[["render",Qt],["__scopeId","data-v-771f55ca"]]);var na=aa;const oa=e=>((0,o.dD)("data-v-485715be"),e=e(),(0,o.Cn)(),e),la=oa((()=>(0,o._)("h2",null," ë¹„ê³ ",-1)));function ia(e,t,a,n,l,i){const s=(0,o.up)("EasyDataTable");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{headers:e.headers,items:e.songs,"table-class-name":"customize-table","show-index":"","body-text-direction":"center","header-text-direction":"center","hide-rows-per-page":!0},{"item-fix":(0,o.w5)((({fix:t})=>[(0,o.Wm)(xt.v,{width:"100%",size:"small",color:e.colors[t]},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.texts[t]),1)])),_:2},1032,["color"])])),expand:(0,o.w5)((e=>[(0,o.Wm)(E._,{class:"elevation-0 pa-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o._)("h3",null,(0,ie.zw)(e.title),1),(0,o._)("h6",null,(0,ie.zw)(e.artist),1)])),_:2},1024),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[la])),_:1}),(0,o.Wm)(S.Z,{class:"text-start"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(e.content),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},8,["headers","items"])])),_:1})}let sa="http://127.0.0.1:8000/api/song/";var ra={name:"SongFixedList",data:()=>({songs:[],headers:[{text:"Artist",value:"artist"},{text:"Title",value:"title"},{text:"Vocal",value:"Vocal"},{text:"Guitar1",value:"Guitar1"},{text:"Guitar2",value:"Guitar2"},{text:"Bass",value:"Bass"},{text:"Drum",value:"Drum"},{text:"Keyboard",value:"Keyboard"},{text:"Fixed",value:"fix"}],delFrom:"",colors:{true:"primary",false:"error"},texts:{true:"Fixed",false:"Not Fixed"}}),props:["project"],components:{},methods:{parsePlayer:function(e){return e.players.map((t=>{t.fixed&&(e[t.player.position]=t.player.user.name)})),e},songList:function(){(0,w.ZP)({method:"GET",url:sa,headers:f(),params:{user_id:localStorage.getItem("user"),project_id:this.$route.query.project_id}}).then((e=>{this.songs=e.data.map(((e,t)=>(e.index=t,e=this.parsePlayer(e),console.log(e),e)))})).catch((e=>{console.log("Failed to get song list",e.response)}))},setIndex:function(e,t){return t.index=e.index,t=this.parsePlayer(t),t},to:function(e){this.$router.push({name:e,query:{project_id:this.$route.query.project_id}})}},mounted(){this.songList()},watch:{project:{handler:function(e,t){this.songList()},deep:!0,immediate:!0},songs:{handler:function(e,t){},deep:!0,immediate:!0}}};const da=(0,x.Z)(ra,[["render",ia],["__scopeId","data-v-485715be"]]);var ca=da;const ua={class:"ma-2"},ma={class:"ma-2"};function ha(e,t,a,n,l,i){const s=(0,o.up)("VueCal"),d=(0,o.up)("Datepicker");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ke.o,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(qe.r,{modelValue:l.activeView,"onUpdate:modelValue":t[0]||(t[0]=e=>l.activeView=e),items:l.activeViewOptions,"item-title":"name","item-value":"name",label:"View",density:"compact"},null,8,["modelValue","items"])])),_:1}),(0,o.Wm)(We.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{class:"mr-1",onClick:t[1]||(t[1]=t=>e.$refs.vuecal.previous()),icon:l.icons.mdiArrowLeft,size:"small"},null,8,["icon"]),(0,o.Wm)(V.T,{onClick:t[2]||(t[2]=t=>e.$refs.vuecal.next()),icon:l.icons.mdiArrowRight,size:"small"},null,8,["icon"])])),_:1}),(0,o.Wm)(We.D,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(l.selectedDate),1)])),_:1}),(0,o.Wm)(We.D,{cols:"2"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{onClick:i.modal},{default:(0,o.w5)((()=>[(0,o.Uk)(" Add ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{ref:"vuecal","selected-date":l.selectedDate,"onUpdate:selected-date":t[3]||(t[3]=e=>l.selectedDate=e),"active-view":l.activeView,"onUpdate:active-view":t[4]||(t[4]=e=>l.activeView=e),"hide-view-selector":"","hide-title-bar":"",events:l.events,"disable-views":l.disable_views,"time-from":l.time_from,"time-to":l.time_to,"time-step":l.time_step,"events-on-month-view":l.eomv,"on-event-click":i.onEventClick},{"weekday-heading":(0,o.w5)((({heading:e})=>[(0,o._)("div",{style:(0,ie.j5)(i.wdHeaderStyle(e))},(0,ie.zw)(i.wdHeaderText(e)),5)])),_:1},8,["selected-date","active-view","events","disable-views","time-from","time-to","time-step","events-on-month-view","on-event-click"])])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Re.B,{modelValue:l.openAdd,"onUpdate:modelValue":t[8]||(t[8]=e=>l.openAdd=e),class:"justify-center align-center",transition:"dialog-bottom-transition"},{default:(0,o.w5)((()=>[(0,o.Wm)(E._,{width:"600px"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Add Events ")])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Uk)("DE")])),_:1}),(0,o.Wm)(ke.o,{class:"ma-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:l.newEvent.title,"onUpdate:modelValue":t[5]||(t[5]=e=>l.newEvent.title=e),label:"Title"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(ke.o,{class:"ma-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(je.z,{modelValue:l.newEvent.content,"onUpdate:modelValue":t[6]||(t[6]=e=>l.newEvent.content=e),label:"Title"},null,8,["modelValue"])])),_:1}),(0,o._)("div",ua,[(0,o.Wm)(d,{modelValue:l.newDate,"onUpdate:modelValue":t[7]||(t[7]=e=>l.newDate=e),range:""},null,8,["modelValue"])]),(0,o.Wm)(P.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{color:"primary",variant:"outlined",width:"100%",onClick:i.createEvent},{default:(0,o.w5)((()=>[(0,o.Uk)(" Add Events! ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(ke.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Re.B,{modelValue:l.openRetrieve,"onUpdate:modelValue":t[12]||(t[12]=e=>l.openRetrieve=e),class:"justify-center align-center",transition:"dialog-bottom-transition"},{default:(0,o.w5)((()=>[l.isPrivate?((0,o.wg)(),(0,o.j4)(E._,{key:0,width:"600px"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Update Events ")])),_:1}),(0,o.Wm)(ke.o,{class:"ma-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(A.hw,{modelValue:l.selectedEvent.title,"onUpdate:modelValue":t[9]||(t[9]=e=>l.selectedEvent.title=e),label:"Title"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(ke.o,{class:"ma-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(je.z,{modelValue:l.selectedEvent.content,"onUpdate:modelValue":t[10]||(t[10]=e=>l.selectedEvent.content=e),label:"Content"},null,8,["modelValue"])])),_:1}),(0,o._)("div",ma,[(0,o.Wm)(d,{modelValue:l.selectedEDate,"onUpdate:modelValue":t[11]||(t[11]=e=>l.selectedEDate=e),range:""},null,8,["modelValue"])]),(0,o.Wm)(P.h,{class:"justify-space-around"},{default:(0,o.w5)((()=>[(0,o.Wm)(V.T,{color:"primary",width:"25%",variant:"outlined",onClick:i.updateEvent},{default:(0,o.w5)((()=>[(0,o.Uk)(" Update ")])),_:1},8,["onClick"]),(0,o.Wm)(V.T,{color:"error",width:"25%",variant:"outlined",onClick:i.deleteEvent},{default:(0,o.w5)((()=>[(0,o.Uk)(" Delete ")])),_:1},8,["onClick"])])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(E._,{key:1,width:"600px"},{default:(0,o.w5)((()=>[(0,o.Wm)(F.E,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Project Meeting : "+(0,ie.zw)(l.selectedEvent.title),1)])),_:1}),(0,o.Wm)(S.Z,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,ie.zw)(l.selectedEvent.content),1)])),_:1})])),_:1}))])),_:1},8,["modelValue"])])),_:1})])),_:1})}let pa="http://127.0.0.1:8000/api/event/",wa="http://127.0.0.1:8000/api/private/";var ga={name:"MyCalendar",components:{VueCal:Me.Z,Datepicker:$e.Z},data(){return{icons:{mdiArrowLeft:v.J3k,mdiArrowRight:v.aIO},selectedDate:null,activeView:"month",activeViewOptions:["month","week","day"],disable_views:["years","year"],disable_days:[],time_from:480,time_to:1140,time_step:30,eomv:"short",weekdayHeadings:{Sunday:{short:"Sun",color:"red"},Monday:{short:"Mon",color:"black"},Tuesday:{short:"Tue",color:"black"},Wednesday:{short:"Wed",color:"black"},Thursday:{short:"Thu",color:"black"},Friday:{short:"Fri",color:"black"},Saturday:{short:"Sat",color:"blue"}},events:[{id:1,author:1,start:"2022-11-26 14:00",end:"2022-11-26 17:30",title:"Boring event",content:"CEX"},{start:"2022-11-26 12:00",end:"2022-11-26 14:00",title:"í•©ì£¼",class:"meeting",background:!0}],openAdd:!1,newDate:[new Date,new Date],newEvent:{title:"",content:""},openRetrieve:!1,selectedEvent:{},selectedEDate:[],isPrivate:!0}},methods:{wdHeaderStyle:function(e){return""===e.label?"":"color:"+this.weekdayHeadings[e.label].color},wdHeaderText:function(e){return""===e.label?"":this.weekdayHeadings[e.label].short},modal:function(){this.newDate[0]=this.selectedDate,this.newDate[1]=this.selectedDate,this.openAdd=!0},onlyDate:function(e){return e=new Date(e),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},parseEvent:function(e,t){return!0===e.allDay?(e.start=this.onlyDate(e.start),e.end=this.onlyDate(e.end)):(e.start=new Date(e.start),e.end=new Date(e.end)),e.class=e.cls,e.index=t,e},getEvents:function(){(0,w.ZP)({method:"GET",url:pa,headers:f(),params:{user_id:localStorage.getItem("user"),type:"base"}}).then((e=>{this.events=e.data.map(((e,t)=>this.parseEvent(e,t)))})).catch((e=>{console.log("Failed to get song list",e.response)}))},createEvent:function(){(0,w.ZP)({method:"POST",url:wa,headers:f(),params:{user_id:localStorage.getItem("user"),start:this.newDate[0],end:this.newDate[1],title:this.newEvent.title,content:this.newEvent.content,participants:JSON.stringify([localStorage.getItem("user")])}}).then((e=>{this.events.push(this.parseEvent(e.data)),this.openAdd=!1,this.newDate=[new Date,new Date]})).catch((e=>{console.log("Failed to get song list",e.response)}))},onEventClick:function(e){this.selectedEvent=e,this.selectedEDate=[e.start,e.end],this.openRetrieve=!0,this.isPrivate="private"===e.cls},updateEvent:function(){(0,w.ZP)({method:"PATCH",url:pa+this.selectedEvent.id+"/",headers:f(),params:{event_id:this.selectedEvent.id,start:this.selectedEDate[0],end:this.selectedEDate[1],title:this.selectedEvent.title,content:this.selectedEvent.content}}).then((e=>{this.events[this.selectedEvent.index]=this.parseEvent(e.data,this.selectedEvent.index),this.selectedEvent={},this.selectedEDate=[],this.openRetrieve=!1})).catch((e=>{console.log("Failed to update private event",e.response)}))},deleteEvent:function(){(0,w.ZP)({method:"DELETE",url:pa+this.selectedEvent.id+"/",headers:f(),params:{event_id:this.selectedEvent.id}}).then((e=>{this.openRetrieve=!1,this.events.splice(this.selectedEvent.index,1),this.events=this.events.map(((e,t)=>this.parseEvent(e,t)))})).catch((e=>{console.log("Failed to update private event",e.response)}))}},mounted(){this.getEvents()}};const fa=(0,x.Z)(ga,[["render",ha]]);var va=fa;const _a=[{path:"/",name:"home",component:D},{path:"/register",name:"register",component:N},{path:"/login",name:"login",component:q},{path:"/projects",name:"projects",component:be},{path:"/project_create",name:"project_create",component:Pe},{path:"/projects/",name:"project_retreive",component:Ze,props:!0,children:[{path:"/projects/",name:"song_create",component:Bt},{path:"/projects/",name:"song_list",component:na},{path:"/projects/",name:"song_fixed_list",component:ca},{path:"/projects/",name:"project_meeting",component:Be}]},{path:"/manage/",name:"project_manage",component:tt,children:[{path:"/manage/",name:"manage_songs",component:mt},{path:"/manage/",name:"manage_status",component:yt},{path:"/manage/",name:"project_schedule",component:qt,props:!0}]},{path:"/calendar/",name:"calendar",component:va,props:!0},{path:"/calendar/",name:"calendar",component:va,props:!0}],ya=(0,te.p7)({history:(0,te.PO)("/"),routes:_a});var xa=ya,ba=a(5229);ee(),(0,n.ri)(J).use(xa).use(Q).component("EasyDataTable",ba.Z).mount("#app")},3739:function(e,t,a){e.exports=a.p+"img/wallpaper.ed418eb5.jpg"}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,l){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],l=e[c][2];for(var s=!0,r=0;r<n.length;r++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[r])}))?n.splice(r--,1):(s=!1,l<i&&(i=l));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var l=Object.create(null);a.r(l);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},a.d(l,i),l}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+(461===e?"webfontloader":e)+"."+{24:"1ed5dd76",36:"e92e7306",74:"bc3e1d47",112:"9b994787",114:"dbef0a8a",142:"7883d8cb",207:"b55d230e",224:"9c3c4076",238:"4a42306f",244:"60261692",248:"bbf21640",317:"b739bee8",326:"12592080",344:"162fb082",360:"48621eb9",368:"9b724453",398:"9743498f",400:"c7e4b8c7",461:"704805ea",476:"c4ea22f3",526:"0fafa223",546:"92d3d860",560:"8313a442",578:"43d338d3",603:"bd9c3e83",613:"2d2572b0",720:"62de47d2",739:"e9035d8b",745:"7d7f84ae",768:"553de9d9",784:"dd55a3c8",807:"5e5c84d2",828:"b762dbbc",838:"6d385b22",853:"7245c352",858:"dc4f51e1",868:"fbbe6147",894:"3b0de1cf",915:"cb3f3577",920:"2a7617ba",931:"db580436",949:"25cf943d",983:"6bcd4798"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="front:";a.l=function(n,o,l,i){if(e[n])e[n].push(o);else{var s,r;if(void 0!==l)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+l){s=u;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+l),s.src=n),e[n]=[o];var m=function(t,a){s.onerror=s.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var l=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=l);var i=a.p+a.u(t),s=new Error,r=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var l=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+l+": "+i+")",s.name="ChunkLoadError",s.type=l,s.request=i,o[1](s)}};a.l(i,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,l,i=n[0],s=n[1],r=n[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(r)var c=r(a)}for(t&&t(n);d<i.length;d++)l=i[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},n=self["webpackChunkfront"]=self["webpackChunkfront"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2111)}));n=a.O(n)})();
//# sourceMappingURL=app.f0d7d00e.js.map