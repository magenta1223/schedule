{"ast":null,"code":"import axios from \"axios\";\nimport setToken from \"@/utils/auth.js\";\nlet url = \"http://127.0.0.1:8000/api/project/\"; // 장고 drf 서버 주소\n\nexport default {\n  name: \"ManageStatus\",\n  data: () => {\n    return {\n      // route : useRoute(),\n      // router : useRouter(),\n      project_id: -1,\n      status: \"P\",\n      statusOptions: [{\n        name: \"Prepare\",\n        value: \"P\",\n        color: \"orange\"\n      }, {\n        name: \"Ready\",\n        value: \"R\",\n        color: \"success\"\n      }, {\n        name: \"OnGoing\",\n        value: \"O\",\n        color: \"primary\"\n      }, {\n        name: \"Done\",\n        value: \"D\",\n        color: \"error\"\n      }]\n    };\n  },\n  methods: {\n    getStatus: function () {\n      axios({\n        method: \"GET\",\n        url: url + this.$route.query.project_id + '/',\n        headers: setToken(),\n        params: {\n          user_id: localStorage.getItem('user')\n        }\n      }).then(response => {\n        this.status = response.data.status;\n        this.project_id = response.data.id;\n      }).catch(error => {\n        console.log(\"Failed to get status\", error.response);\n      });\n    },\n    updateStatus: function () {\n      axios({\n        method: \"PATCH\",\n        url: url + this.project_id + '/',\n        headers: setToken(),\n        params: {\n          project_id: this.project_id,\n          status: this.status,\n          action: 'status'\n        }\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(\"Failed to update status\", error.response);\n      });\n    }\n  },\n  mounted() {\n    this.getStatus();\n  },\n  watch: {\n    status: function () {\n      this.updateStatus();\n    }\n  }\n};","map":{"version":3,"mappings":"AAyBA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,QAAO,MAAO,iBAAgB;AAErC,IAAIC,GAAE,GAAI,oCAAoC,EAAG;;AAEjD,eAAe;EACXC,IAAG,EAAI,cAAa;EAGpBC,IAAG,EAAI,MAAM;IACT,OAAO;MACC;MACA;MACAC,UAAS,EAAI,CAAC,CAAC;MACfC,MAAK,EAAI,GAAG;MACZC,aAAY,EAAI,CACZ;QACIJ,IAAG,EAAI,SAAS;QAChBK,KAAI,EAAI,GAAG;QACXC,KAAI,EAAI;MACZ,CAAC,EACD;QACIN,IAAG,EAAI,OAAO;QACdK,KAAI,EAAI,GAAG;QACXC,KAAI,EAAI;MACZ,CAAC,EACD;QACIN,IAAG,EAAI,SAAS;QAChBK,KAAI,EAAI,GAAG;QACXC,KAAI,EAAI;MACZ,CAAC,EACD;QACIN,IAAG,EAAI,MAAM;QACbK,KAAI,EAAI,GAAG;QACXC,KAAI,EAAI;MACZ,CAAC;IAEb;EACJ,CAAC;EAGDC,OAAM,EAAI;IAENC,SAAQ,EAAI,YAAU;MAClBX,KAAK,CAAC;QACFY,MAAK,EAAI,KAAK;QACdV,GAAE,EAAIA,GAAE,GAAI,IAAI,CAACW,MAAM,CAACC,KAAK,CAACT,UAAS,GAAI,GAAG;QAC9CU,OAAM,EAAId,QAAQ,EAAE;QACpBe,MAAK,EAAI;UACLC,OAAM,EAAIC,YAAY,CAACC,OAAO,CAAC,MAAM;QACzC;MACJ,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACf,MAAK,GAAIe,QAAQ,CAACjB,IAAI,CAACE,MAAK;QACjC,IAAI,CAACD,UAAS,GAAIgB,QAAQ,CAACjB,IAAI,CAACkB,EAAC;MACrC,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,KAAK,CAACH,QAAQ,CAAC;MACvD,CAAC,CAAC;IACN,CAAC;IAEDM,YAAW,EAAI,YAAU;MACpB3B,KAAK,CAAC;QACHY,MAAK,EAAI,OAAO;QAChBV,GAAE,EAAIA,GAAE,GAAI,IAAI,CAACG,UAAS,GAAI,GAAG;QACjCU,OAAM,EAAId,QAAQ,EAAE;QACpBe,MAAK,EAAI;UACLX,UAAS,EAAI,IAAI,CAACA,UAAU;UAC5BC,MAAK,EAAI,IAAI,CAACA,MAAM;UACpBsB,MAAK,EAAI;QACb;MACJ,CAAC,CAAC,CAACR,IAAI,CAAEC,QAAQ,IAAK;QAClBI,OAAO,CAACC,GAAG,CAACL,QAAQ;MACxB,CAAC,CAAC,CAACE,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,KAAK,CAACH,QAAQ,CAAC;MAC1D,CAAC,CAAC;IAEN;EACJ,CAAC;EAEDQ,OAAO,GAAG;IACN,IAAI,CAAClB,SAAS,EAAC;EACnB,CAAC;EAGDmB,KAAI,EAAI;IACJxB,MAAK,EAAI,YAAU;MACf,IAAI,CAACqB,YAAY,EAAC;IACtB;EACJ;AAUJ","names":["axios","setToken","url","name","data","project_id","status","statusOptions","value","color","methods","getStatus","method","$route","query","headers","params","user_id","localStorage","getItem","then","response","id","catch","error","console","log","updateStatus","action","mounted","watch"],"sourceRoot":"","sources":["C:\\schedule\\config\\front\\src\\views\\Project\\Manage\\ManageStatus.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n        <!-- <v-radio-group v-model=\"status\" inline @change=\"save\"> -->\r\n        <v-radio-group v-model=\"status\" inline>\r\n            <template v-slot:label>\r\n                <strong> Status of Project </strong>\r\n            </template>\r\n            <v-radio\r\n                v-for=\"option in statusOptions\"\r\n                :key=\"option.value\"\r\n                :value=\"option.value\"\r\n                :color=\"option.color\"\r\n            >\r\n                <template v-slot:label>\r\n                    <strong >{{option.name}} </strong>\r\n                </template>\r\n            </v-radio>\r\n        </v-radio-group>\r\n    </v-container>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nimport setToken from \"@/utils/auth.js\"\r\n\r\nlet url = \"http://127.0.0.1:8000/api/project/\";  // 장고 drf 서버 주소\r\n\r\nexport default {\r\n    name : \"ManageStatus\" , \r\n\r\n\r\n    data : () => {\r\n        return {\r\n                // route : useRoute(),\r\n                // router : useRouter(),\r\n                project_id : -1,\r\n                status : \"P\",\r\n                statusOptions : [\r\n                    {\r\n                        name : \"Prepare\",\r\n                        value : \"P\",\r\n                        color : \"orange\"\r\n                    },\r\n                    {\r\n                        name : \"Ready\",\r\n                        value : \"R\",\r\n                        color : \"success\"\r\n                    },\r\n                    {\r\n                        name : \"OnGoing\",\r\n                        value : \"O\",\r\n                        color : \"primary\"\r\n                    },\r\n                    {\r\n                        name : \"Done\",\r\n                        value : \"D\",\r\n                        color : \"error\"\r\n                    },                \r\n                ]\r\n        }\r\n    },\r\n\r\n\r\n    methods : {\r\n\r\n        getStatus : function(){\r\n            axios({\r\n                method : \"GET\",\r\n                url : url + this.$route.query.project_id + '/',\r\n                headers : setToken(),\r\n                params : {\r\n                    user_id : localStorage.getItem('user'),\r\n                }\r\n            }).then((response) => {\r\n                this.status = response.data.status\r\n                this.project_id = response.data.id\r\n            }).catch((error) => {\r\n                console.log(\"Failed to get status\", error.response);\r\n            });\r\n        },\r\n\r\n        updateStatus : function(){\r\n             axios({\r\n                method : \"PATCH\",\r\n                url : url + this.project_id + '/',\r\n                headers : setToken(),\r\n                params : {\r\n                    project_id : this.project_id,\r\n                    status : this.status,\r\n                    action : 'status'\r\n                }\r\n            }).then((response) => {\r\n                console.log(response)\r\n            }).catch((error) => {\r\n                console.log(\"Failed to update status\", error.response);\r\n            });\r\n            \r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.getStatus()\r\n    },\r\n\r\n\r\n    watch : {\r\n        status : function(){\r\n            this.updateStatus()\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    \r\n\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}