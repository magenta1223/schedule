{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a2, b2) => {\n  for (var prop in b2 || (b2 = {})) if (__hasOwnProp.call(b2, prop)) __defNormalProp(a2, prop, b2[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b2)) {\n    if (__propIsEnum.call(b2, prop)) __defNormalProp(a2, prop, b2[prop]);\n  }\n  return a2;\n};\nvar __spreadProps = (a2, b2) => __defProps(a2, __getOwnPropDescs(b2));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\n/*!\n * TOAST UI Calendar 2nd Edition\n * @version 2.1.3 | Tue Aug 16 2022\n * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\nimport DatePicker from \"tui-date-picker\";\nvar n$2,\n  l$3,\n  u$3,\n  t$2,\n  o$3,\n  r$3,\n  f$3 = {},\n  e$1 = [],\n  c$3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\nfunction s$3(n2, l2) {\n  for (var u2 in l2) n2[u2] = l2[u2];\n  return n2;\n}\nfunction a$3(n2) {\n  var l2 = n2.parentNode;\n  l2 && l2.removeChild(n2);\n}\nfunction h$3(l2, u2, i2) {\n  var t2,\n    o2,\n    r2,\n    f2 = {};\n  for (r2 in u2) r2 == \"key\" ? t2 = u2[r2] : r2 == \"ref\" ? o2 = u2[r2] : f2[r2] = u2[r2];\n  if (arguments.length > 2 && (f2.children = arguments.length > 3 ? n$2.call(arguments, 2) : i2), typeof l2 == \"function\" && l2.defaultProps != null) for (r2 in l2.defaultProps) f2[r2] === void 0 && (f2[r2] = l2.defaultProps[r2]);\n  return v$3(l2, f2, t2, o2, null);\n}\nfunction v$3(n2, i2, t2, o2, r2) {\n  var f2 = {\n    type: n2,\n    props: i2,\n    key: t2,\n    ref: o2,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    __h: null,\n    constructor: void 0,\n    __v: r2 == null ? ++u$3 : r2\n  };\n  return r2 == null && l$3.vnode != null && l$3.vnode(f2), f2;\n}\nfunction p$3(n2) {\n  return n2.children;\n}\nfunction d$3(n2, l2) {\n  this.props = n2, this.context = l2;\n}\nfunction _$3(n2, l2) {\n  if (l2 == null) return n2.__ ? _$3(n2.__, n2.__.__k.indexOf(n2) + 1) : null;\n  for (var u2; l2 < n2.__k.length; l2++) if ((u2 = n2.__k[l2]) != null && u2.__e != null) return u2.__e;\n  return typeof n2.type == \"function\" ? _$3(n2) : null;\n}\nfunction k$2(n2) {\n  var l2, u2;\n  if ((n2 = n2.__) != null && n2.__c != null) {\n    for (n2.__e = n2.__c.base = null, l2 = 0; l2 < n2.__k.length; l2++) if ((u2 = n2.__k[l2]) != null && u2.__e != null) {\n      n2.__e = n2.__c.base = u2.__e;\n      break;\n    }\n    return k$2(n2);\n  }\n}\nfunction b$2(n2) {\n  (!n2.__d && (n2.__d = true) && t$2.push(n2) && !g$4.__r++ || o$3 !== l$3.debounceRendering) && ((o$3 = l$3.debounceRendering) || setTimeout)(g$4);\n}\nfunction g$4() {\n  for (var n2; g$4.__r = t$2.length;) n2 = t$2.sort(function (n3, l2) {\n    return n3.__v.__b - l2.__v.__b;\n  }), t$2 = [], n2.some(function (n3) {\n    var l2, u2, i2, t2, o2, r2;\n    n3.__d && (o2 = (t2 = (l2 = n3).__v).__e, (r2 = l2.__P) && (u2 = [], (i2 = s$3({}, t2)).__v = t2.__v + 1, j$3(r2, t2, i2, l2.__n, r2.ownerSVGElement !== void 0, t2.__h != null ? [o2] : null, u2, o2 == null ? _$3(t2) : o2, t2.__h), z$2(u2, t2), t2.__e != o2 && k$2(t2)));\n  });\n}\nfunction w$3(n2, l2, u2, i2, t2, o2, r2, c2, s2, a2) {\n  var h2,\n    y2,\n    d2,\n    k2,\n    b2,\n    g2,\n    w2,\n    x2 = i2 && i2.__k || e$1,\n    C2 = x2.length;\n  for (u2.__k = [], h2 = 0; h2 < l2.length; h2++) if ((k2 = u2.__k[h2] = (k2 = l2[h2]) == null || typeof k2 == \"boolean\" ? null : typeof k2 == \"string\" || typeof k2 == \"number\" || typeof k2 == \"bigint\" ? v$3(null, k2, null, null, k2) : Array.isArray(k2) ? v$3(p$3, {\n    children: k2\n  }, null, null, null) : k2.__b > 0 ? v$3(k2.type, k2.props, k2.key, null, k2.__v) : k2) != null) {\n    if (k2.__ = u2, k2.__b = u2.__b + 1, (d2 = x2[h2]) === null || d2 && k2.key == d2.key && k2.type === d2.type) x2[h2] = void 0;else for (y2 = 0; y2 < C2; y2++) {\n      if ((d2 = x2[y2]) && k2.key == d2.key && k2.type === d2.type) {\n        x2[y2] = void 0;\n        break;\n      }\n      d2 = null;\n    }\n    j$3(n2, k2, d2 = d2 || f$3, t2, o2, r2, c2, s2, a2), b2 = k2.__e, (y2 = k2.ref) && d2.ref != y2 && (w2 || (w2 = []), d2.ref && w2.push(d2.ref, null, k2), w2.push(y2, k2.__c || b2, k2)), b2 != null ? (g2 == null && (g2 = b2), typeof k2.type == \"function\" && k2.__k === d2.__k ? k2.__d = s2 = m$2(k2, s2, n2) : s2 = A$2(n2, k2, d2, x2, b2, s2), typeof u2.type == \"function\" && (u2.__d = s2)) : s2 && d2.__e == s2 && s2.parentNode != n2 && (s2 = _$3(d2));\n  }\n  for (u2.__e = g2, h2 = C2; h2--;) x2[h2] != null && (typeof u2.type == \"function\" && x2[h2].__e != null && x2[h2].__e == u2.__d && (u2.__d = _$3(i2, h2 + 1)), N(x2[h2], x2[h2]));\n  if (w2) for (h2 = 0; h2 < w2.length; h2++) M$2(w2[h2], w2[++h2], w2[++h2]);\n}\nfunction m$2(n2, l2, u2) {\n  for (var i2, t2 = n2.__k, o2 = 0; t2 && o2 < t2.length; o2++) (i2 = t2[o2]) && (i2.__ = n2, l2 = typeof i2.type == \"function\" ? m$2(i2, l2, u2) : A$2(u2, i2, i2, t2, i2.__e, l2));\n  return l2;\n}\nfunction x$3(n2, l2) {\n  return l2 = l2 || [], n2 == null || typeof n2 == \"boolean\" || (Array.isArray(n2) ? n2.some(function (n3) {\n    x$3(n3, l2);\n  }) : l2.push(n2)), l2;\n}\nfunction A$2(n2, l2, u2, i2, t2, o2) {\n  var r2, f2, e2;\n  if (l2.__d !== void 0) r2 = l2.__d, l2.__d = void 0;else if (u2 == null || t2 != o2 || t2.parentNode == null) n: if (o2 == null || o2.parentNode !== n2) n2.appendChild(t2), r2 = null;else {\n    for (f2 = o2, e2 = 0; (f2 = f2.nextSibling) && e2 < i2.length; e2 += 2) if (f2 == t2) break n;\n    n2.insertBefore(t2, o2), r2 = o2;\n  }\n  return r2 !== void 0 ? r2 : t2.nextSibling;\n}\nfunction C$1(n2, l2, u2, i2, t2) {\n  var o2;\n  for (o2 in u2) o2 === \"children\" || o2 === \"key\" || o2 in l2 || H$2(n2, o2, null, u2[o2], i2);\n  for (o2 in l2) t2 && typeof l2[o2] != \"function\" || o2 === \"children\" || o2 === \"key\" || o2 === \"value\" || o2 === \"checked\" || u2[o2] === l2[o2] || H$2(n2, o2, l2[o2], u2[o2], i2);\n}\nfunction $$1(n2, l2, u2) {\n  l2[0] === \"-\" ? n2.setProperty(l2, u2) : n2[l2] = u2 == null ? \"\" : typeof u2 != \"number\" || c$3.test(l2) ? u2 : u2 + \"px\";\n}\nfunction H$2(n2, l2, u2, i2, t2) {\n  var o2;\n  n: if (l2 === \"style\") {\n    if (typeof u2 == \"string\") n2.style.cssText = u2;else {\n      if (typeof i2 == \"string\" && (n2.style.cssText = i2 = \"\"), i2) for (l2 in i2) u2 && l2 in u2 || $$1(n2.style, l2, \"\");\n      if (u2) for (l2 in u2) i2 && u2[l2] === i2[l2] || $$1(n2.style, l2, u2[l2]);\n    }\n  } else if (l2[0] === \"o\" && l2[1] === \"n\") o2 = l2 !== (l2 = l2.replace(/Capture$/, \"\")), l2 = l2.toLowerCase() in n2 ? l2.toLowerCase().slice(2) : l2.slice(2), n2.l || (n2.l = {}), n2.l[l2 + o2] = u2, u2 ? i2 || n2.addEventListener(l2, o2 ? T$2 : I$2, o2) : n2.removeEventListener(l2, o2 ? T$2 : I$2, o2);else if (l2 !== \"dangerouslySetInnerHTML\") {\n    if (t2) l2 = l2.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (l2 !== \"href\" && l2 !== \"list\" && l2 !== \"form\" && l2 !== \"tabIndex\" && l2 !== \"download\" && l2 in n2) try {\n      n2[l2] = u2 == null ? \"\" : u2;\n      break n;\n    } catch (n3) {}\n    typeof u2 == \"function\" || (u2 != null && (u2 !== false || l2[0] === \"a\" && l2[1] === \"r\") ? n2.setAttribute(l2, u2) : n2.removeAttribute(l2));\n  }\n}\nfunction I$2(n2) {\n  this.l[n2.type + false](l$3.event ? l$3.event(n2) : n2);\n}\nfunction T$2(n2) {\n  this.l[n2.type + true](l$3.event ? l$3.event(n2) : n2);\n}\nfunction j$3(n2, u2, i2, t2, o2, r2, f2, e2, c2) {\n  var a2,\n    h2,\n    v2,\n    y2,\n    _2,\n    k2,\n    b2,\n    g2,\n    m2,\n    x2,\n    A2,\n    C2,\n    $2,\n    H2 = u2.type;\n  if (u2.constructor !== void 0) return null;\n  i2.__h != null && (c2 = i2.__h, e2 = u2.__e = i2.__e, u2.__h = null, r2 = [e2]), (a2 = l$3.__b) && a2(u2);\n  try {\n    n: if (typeof H2 == \"function\") {\n      if (g2 = u2.props, m2 = (a2 = H2.contextType) && t2[a2.__c], x2 = a2 ? m2 ? m2.props.value : a2.__ : t2, i2.__c ? b2 = (h2 = u2.__c = i2.__c).__ = h2.__E : (\"prototype\" in H2 && H2.prototype.render ? u2.__c = h2 = new H2(g2, x2) : (u2.__c = h2 = new d$3(g2, x2), h2.constructor = H2, h2.render = O$2), m2 && m2.sub(h2), h2.props = g2, h2.state || (h2.state = {}), h2.context = x2, h2.__n = t2, v2 = h2.__d = true, h2.__h = []), h2.__s == null && (h2.__s = h2.state), H2.getDerivedStateFromProps != null && (h2.__s == h2.state && (h2.__s = s$3({}, h2.__s)), s$3(h2.__s, H2.getDerivedStateFromProps(g2, h2.__s))), y2 = h2.props, _2 = h2.state, v2) H2.getDerivedStateFromProps == null && h2.componentWillMount != null && h2.componentWillMount(), h2.componentDidMount != null && h2.__h.push(h2.componentDidMount);else {\n        if (H2.getDerivedStateFromProps == null && g2 !== y2 && h2.componentWillReceiveProps != null && h2.componentWillReceiveProps(g2, x2), !h2.__e && h2.shouldComponentUpdate != null && h2.shouldComponentUpdate(g2, h2.__s, x2) === false || u2.__v === i2.__v) {\n          h2.props = g2, h2.state = h2.__s, u2.__v !== i2.__v && (h2.__d = false), h2.__v = u2, u2.__e = i2.__e, u2.__k = i2.__k, u2.__k.forEach(function (n3) {\n            n3 && (n3.__ = u2);\n          }), h2.__h.length && f2.push(h2);\n          break n;\n        }\n        h2.componentWillUpdate != null && h2.componentWillUpdate(g2, h2.__s, x2), h2.componentDidUpdate != null && h2.__h.push(function () {\n          h2.componentDidUpdate(y2, _2, k2);\n        });\n      }\n      if (h2.context = x2, h2.props = g2, h2.__v = u2, h2.__P = n2, A2 = l$3.__r, C2 = 0, \"prototype\" in H2 && H2.prototype.render) h2.state = h2.__s, h2.__d = false, A2 && A2(u2), a2 = h2.render(h2.props, h2.state, h2.context);else do {\n        h2.__d = false, A2 && A2(u2), a2 = h2.render(h2.props, h2.state, h2.context), h2.state = h2.__s;\n      } while (h2.__d && ++C2 < 25);\n      h2.state = h2.__s, h2.getChildContext != null && (t2 = s$3(s$3({}, t2), h2.getChildContext())), v2 || h2.getSnapshotBeforeUpdate == null || (k2 = h2.getSnapshotBeforeUpdate(y2, _2)), $2 = a2 != null && a2.type === p$3 && a2.key == null ? a2.props.children : a2, w$3(n2, Array.isArray($2) ? $2 : [$2], u2, i2, t2, o2, r2, f2, e2, c2), h2.base = u2.__e, u2.__h = null, h2.__h.length && f2.push(h2), b2 && (h2.__E = h2.__ = null), h2.__e = false;\n    } else r2 == null && u2.__v === i2.__v ? (u2.__k = i2.__k, u2.__e = i2.__e) : u2.__e = L$2(i2.__e, u2, i2, t2, o2, r2, f2, c2);\n    (a2 = l$3.diffed) && a2(u2);\n  } catch (n3) {\n    u2.__v = null, (c2 || r2 != null) && (u2.__e = e2, u2.__h = !!c2, r2[r2.indexOf(e2)] = null), l$3.__e(n3, u2, i2);\n  }\n}\nfunction z$2(n2, u2) {\n  l$3.__c && l$3.__c(u2, n2), n2.some(function (u3) {\n    try {\n      n2 = u3.__h, u3.__h = [], n2.some(function (n3) {\n        n3.call(u3);\n      });\n    } catch (n3) {\n      l$3.__e(n3, u3.__v);\n    }\n  });\n}\nfunction L$2(l2, u2, i2, t2, o2, r2, e2, c2) {\n  var s2,\n    h2,\n    v2,\n    y2 = i2.props,\n    p2 = u2.props,\n    d2 = u2.type,\n    k2 = 0;\n  if (d2 === \"svg\" && (o2 = true), r2 != null) {\n    for (; k2 < r2.length; k2++) if ((s2 = r2[k2]) && \"setAttribute\" in s2 == !!d2 && (d2 ? s2.localName === d2 : s2.nodeType === 3)) {\n      l2 = s2, r2[k2] = null;\n      break;\n    }\n  }\n  if (l2 == null) {\n    if (d2 === null) return document.createTextNode(p2);\n    l2 = o2 ? document.createElementNS(\"http://www.w3.org/2000/svg\", d2) : document.createElement(d2, p2.is && p2), r2 = null, c2 = false;\n  }\n  if (d2 === null) y2 === p2 || c2 && l2.data === p2 || (l2.data = p2);else {\n    if (r2 = r2 && n$2.call(l2.childNodes), h2 = (y2 = i2.props || f$3).dangerouslySetInnerHTML, v2 = p2.dangerouslySetInnerHTML, !c2) {\n      if (r2 != null) for (y2 = {}, k2 = 0; k2 < l2.attributes.length; k2++) y2[l2.attributes[k2].name] = l2.attributes[k2].value;\n      (v2 || h2) && (v2 && (h2 && v2.__html == h2.__html || v2.__html === l2.innerHTML) || (l2.innerHTML = v2 && v2.__html || \"\"));\n    }\n    if (C$1(l2, p2, y2, o2, c2), v2) u2.__k = [];else if (k2 = u2.props.children, w$3(l2, Array.isArray(k2) ? k2 : [k2], u2, i2, t2, o2 && d2 !== \"foreignObject\", r2, e2, r2 ? r2[0] : i2.__k && _$3(i2, 0), c2), r2 != null) for (k2 = r2.length; k2--;) r2[k2] != null && a$3(r2[k2]);\n    c2 || (\"value\" in p2 && (k2 = p2.value) !== void 0 && (k2 !== l2.value || d2 === \"progress\" && !k2 || d2 === \"option\" && k2 !== y2.value) && H$2(l2, \"value\", k2, y2.value, false), \"checked\" in p2 && (k2 = p2.checked) !== void 0 && k2 !== l2.checked && H$2(l2, \"checked\", k2, y2.checked, false));\n  }\n  return l2;\n}\nfunction M$2(n2, u2, i2) {\n  try {\n    typeof n2 == \"function\" ? n2(u2) : n2.current = u2;\n  } catch (n3) {\n    l$3.__e(n3, i2);\n  }\n}\nfunction N(n2, u2, i2) {\n  var t2, o2;\n  if (l$3.unmount && l$3.unmount(n2), (t2 = n2.ref) && (t2.current && t2.current !== n2.__e || M$2(t2, null, u2)), (t2 = n2.__c) != null) {\n    if (t2.componentWillUnmount) try {\n      t2.componentWillUnmount();\n    } catch (n3) {\n      l$3.__e(n3, u2);\n    }\n    t2.base = t2.__P = null;\n  }\n  if (t2 = n2.__k) for (o2 = 0; o2 < t2.length; o2++) t2[o2] && N(t2[o2], u2, typeof n2.type != \"function\");\n  i2 || n2.__e == null || a$3(n2.__e), n2.__e = n2.__d = void 0;\n}\nfunction O$2(n2, l2, u2) {\n  return this.constructor(n2, u2);\n}\nfunction P$2(u2, i2, t2) {\n  var o2, r2, e2;\n  l$3.__ && l$3.__(u2, i2), r2 = (o2 = typeof t2 == \"function\") ? null : t2 && t2.__k || i2.__k, e2 = [], j$3(i2, u2 = (!o2 && t2 || i2).__k = h$3(p$3, null, [u2]), r2 || f$3, f$3, i2.ownerSVGElement !== void 0, !o2 && t2 ? [t2] : r2 ? null : i2.firstChild ? n$2.call(i2.childNodes) : null, e2, !o2 && t2 ? t2 : r2 ? r2.__e : i2.firstChild, o2), z$2(e2, u2);\n}\nfunction q$3(l2, u2, i2) {\n  var t2,\n    o2,\n    r2,\n    f2 = s$3({}, l2.props);\n  for (r2 in u2) r2 == \"key\" ? t2 = u2[r2] : r2 == \"ref\" ? o2 = u2[r2] : f2[r2] = u2[r2];\n  return arguments.length > 2 && (f2.children = arguments.length > 3 ? n$2.call(arguments, 2) : i2), v$3(l2.type, f2, t2 || l2.key, o2 || l2.ref, null);\n}\nfunction B$1(n2, l2) {\n  var u2 = {\n    __c: l2 = \"__cC\" + r$3++,\n    __: n2,\n    Consumer: function (n3, l3) {\n      return n3.children(l3);\n    },\n    Provider: function (n3) {\n      var u3, i2;\n      return this.getChildContext || (u3 = [], (i2 = {})[l2] = this, this.getChildContext = function () {\n        return i2;\n      }, this.shouldComponentUpdate = function (n4) {\n        this.props.value !== n4.value && u3.some(b$2);\n      }, this.sub = function (n4) {\n        u3.push(n4);\n        var l3 = n4.componentWillUnmount;\n        n4.componentWillUnmount = function () {\n          u3.splice(u3.indexOf(n4), 1), l3 && l3.call(n4);\n        };\n      }), n3.children;\n    }\n  };\n  return u2.Provider.__ = u2.Consumer.contextType = u2;\n}\nn$2 = e$1.slice, l$3 = {\n  __e: function (n2, l2, u2, i2) {\n    for (var t2, o2, r2; l2 = l2.__;) if ((t2 = l2.__c) && !t2.__) try {\n      if ((o2 = t2.constructor) && o2.getDerivedStateFromError != null && (t2.setState(o2.getDerivedStateFromError(n2)), r2 = t2.__d), t2.componentDidCatch != null && (t2.componentDidCatch(n2, i2 || {}), r2 = t2.__d), r2) return t2.__E = t2;\n    } catch (l3) {\n      n2 = l3;\n    }\n    throw n2;\n  }\n}, u$3 = 0, d$3.prototype.setState = function (n2, l2) {\n  var u2;\n  u2 = this.__s != null && this.__s !== this.state ? this.__s : this.__s = s$3({}, this.state), typeof n2 == \"function\" && (n2 = n2(s$3({}, u2), this.props)), n2 && s$3(u2, n2), n2 != null && this.__v && (l2 && this.__h.push(l2), b$2(this));\n}, d$3.prototype.forceUpdate = function (n2) {\n  this.__v && (this.__e = true, n2 && this.__h.push(n2), b$2(this));\n}, d$3.prototype.render = p$3, t$2 = [], g$4.__r = 0, r$3 = 0;\nvar t$1,\n  u$2,\n  r$2,\n  o$2,\n  i$2 = 0,\n  c$2 = [],\n  f$2 = [],\n  e = l$3.__b,\n  a$2 = l$3.__r,\n  v$2 = l$3.diffed,\n  l$2 = l$3.__c,\n  m$1 = l$3.unmount;\nfunction p$2(t2, r2) {\n  l$3.__h && l$3.__h(u$2, t2, i$2 || r2), i$2 = 0;\n  var o2 = u$2.__H || (u$2.__H = {\n    __: [],\n    __h: []\n  });\n  return t2 >= o2.__.length && o2.__.push({\n    __V: f$2\n  }), o2.__[t2];\n}\nfunction y$1(n2) {\n  return i$2 = 1, d$2(z$1, n2);\n}\nfunction d$2(n2, r2, o2) {\n  var i2 = p$2(t$1++, 2);\n  return i2.t = n2, i2.__c || (i2.__ = [o2 ? o2(r2) : z$1(void 0, r2), function (n3) {\n    var t2 = i2.t(i2.__[0], n3);\n    i2.__[0] !== t2 && (i2.__ = [t2, i2.__[1]], i2.__c.setState({}));\n  }], i2.__c = u$2), i2.__;\n}\nfunction _$2(r2, o2) {\n  var i2 = p$2(t$1++, 3);\n  !l$3.__s && w$2(i2.__H, o2) && (i2.__ = r2, i2.u = o2, u$2.__H.__h.push(i2));\n}\nfunction h$2(r2, o2) {\n  var i2 = p$2(t$1++, 4);\n  !l$3.__s && w$2(i2.__H, o2) && (i2.__ = r2, i2.u = o2, u$2.__h.push(i2));\n}\nfunction s$2(n2) {\n  return i$2 = 5, F$2(function () {\n    return {\n      current: n2\n    };\n  }, []);\n}\nfunction F$2(n2, u2) {\n  var r2 = p$2(t$1++, 7);\n  return w$2(r2.__H, u2) ? (r2.__V = n2(), r2.u = u2, r2.__h = n2, r2.__V) : r2.__;\n}\nfunction T$1(n2, t2) {\n  return i$2 = 8, F$2(function () {\n    return n2;\n  }, t2);\n}\nfunction q$2(n2) {\n  var r2 = u$2.context[n2.__c],\n    o2 = p$2(t$1++, 9);\n  return o2.c = n2, r2 ? (o2.__ == null && (o2.__ = true, r2.sub(u$2)), r2.props.value) : n2.__;\n}\nfunction b$1() {\n  for (var t2; t2 = c$2.shift();) if (t2.__P) try {\n    t2.__H.__h.forEach(j$2), t2.__H.__h.forEach(k$1), t2.__H.__h = [];\n  } catch (u2) {\n    t2.__H.__h = [], l$3.__e(u2, t2.__v);\n  }\n}\nl$3.__b = function (n2) {\n  u$2 = null, e && e(n2);\n}, l$3.__r = function (n2) {\n  a$2 && a$2(n2), t$1 = 0;\n  var o2 = (u$2 = n2.__c).__H;\n  o2 && (r$2 === u$2 ? (o2.__h = [], u$2.__h = [], o2.__.forEach(function (n3) {\n    n3.__V = f$2, n3.u = void 0;\n  })) : (o2.__h.forEach(j$2), o2.__h.forEach(k$1), o2.__h = [])), r$2 = u$2;\n}, l$3.diffed = function (t2) {\n  v$2 && v$2(t2);\n  var i2 = t2.__c;\n  i2 && i2.__H && (i2.__H.__h.length && (c$2.push(i2) !== 1 && o$2 === l$3.requestAnimationFrame || ((o$2 = l$3.requestAnimationFrame) || function (n2) {\n    var t3,\n      u2 = function () {\n        clearTimeout(r2), g$3 && cancelAnimationFrame(t3), setTimeout(n2);\n      },\n      r2 = setTimeout(u2, 100);\n    g$3 && (t3 = requestAnimationFrame(u2));\n  })(b$1)), i2.__H.__.forEach(function (n2) {\n    n2.u && (n2.__H = n2.u), n2.__V !== f$2 && (n2.__ = n2.__V), n2.u = void 0, n2.__V = f$2;\n  })), r$2 = u$2 = null;\n}, l$3.__c = function (t2, u2) {\n  u2.some(function (t3) {\n    try {\n      t3.__h.forEach(j$2), t3.__h = t3.__h.filter(function (n2) {\n        return !n2.__ || k$1(n2);\n      });\n    } catch (r2) {\n      u2.some(function (n2) {\n        n2.__h && (n2.__h = []);\n      }), u2 = [], l$3.__e(r2, t3.__v);\n    }\n  }), l$2 && l$2(t2, u2);\n}, l$3.unmount = function (t2) {\n  m$1 && m$1(t2);\n  var u2,\n    r2 = t2.__c;\n  r2 && r2.__H && (r2.__H.__.forEach(function (n2) {\n    try {\n      j$2(n2);\n    } catch (n3) {\n      u2 = n3;\n    }\n  }), u2 && l$3.__e(u2, r2.__v));\n};\nvar g$3 = typeof requestAnimationFrame == \"function\";\nfunction j$2(n2) {\n  var t2 = u$2,\n    r2 = n2.__c;\n  typeof r2 == \"function\" && (n2.__c = void 0, r2()), u$2 = t2;\n}\nfunction k$1(n2) {\n  var t2 = u$2;\n  n2.__c = n2.__(), u$2 = t2;\n}\nfunction w$2(n2, t2) {\n  return !n2 || n2.length !== t2.length || t2.some(function (t3, u2) {\n    return t3 !== n2[u2];\n  });\n}\nfunction z$1(n2, t2) {\n  return typeof t2 == \"function\" ? t2(n2) : t2;\n}\nfunction n$1(n2) {\n  for (var r2 = arguments.length, t2 = Array(r2 > 1 ? r2 - 1 : 0), e2 = 1; e2 < r2; e2++) t2[e2 - 1] = arguments[e2];\n  throw Error(\"[Immer] minified error nr: \" + n2 + (t2.length ? \" \" + t2.map(function (n3) {\n    return \"'\" + n3 + \"'\";\n  }).join(\",\") : \"\") + \". Find the full error at: https://bit.ly/3cXEKWf\");\n}\nfunction r$1(n2) {\n  return !!n2 && !!n2[Q$1];\n}\nfunction t(n2) {\n  return !!n2 && (function (n3) {\n    if (!n3 || typeof n3 != \"object\") return false;\n    var r2 = Object.getPrototypeOf(n3);\n    if (r2 === null) return true;\n    var t2 = Object.hasOwnProperty.call(r2, \"constructor\") && r2.constructor;\n    return t2 === Object || typeof t2 == \"function\" && Function.toString.call(t2) === Z$1;\n  }(n2) || Array.isArray(n2) || !!n2[L$1] || !!n2.constructor[L$1] || s$1(n2) || v$1(n2));\n}\nfunction i$1(n2, r2, t2) {\n  t2 === void 0 && (t2 = false), o$1(n2) === 0 ? (t2 ? Object.keys : nn)(n2).forEach(function (e2) {\n    t2 && typeof e2 == \"symbol\" || r2(e2, n2[e2], n2);\n  }) : n2.forEach(function (t3, e2) {\n    return r2(e2, t3, n2);\n  });\n}\nfunction o$1(n2) {\n  var r2 = n2[Q$1];\n  return r2 ? r2.i > 3 ? r2.i - 4 : r2.i : Array.isArray(n2) ? 1 : s$1(n2) ? 2 : v$1(n2) ? 3 : 0;\n}\nfunction u$1(n2, r2) {\n  return o$1(n2) === 2 ? n2.has(r2) : Object.prototype.hasOwnProperty.call(n2, r2);\n}\nfunction a$1(n2, r2) {\n  return o$1(n2) === 2 ? n2.get(r2) : n2[r2];\n}\nfunction f$1(n2, r2, t2) {\n  var e2 = o$1(n2);\n  e2 === 2 ? n2.set(r2, t2) : e2 === 3 ? (n2.delete(r2), n2.add(t2)) : n2[r2] = t2;\n}\nfunction c$1(n2, r2) {\n  return n2 === r2 ? n2 !== 0 || 1 / n2 == 1 / r2 : n2 != n2 && r2 != r2;\n}\nfunction s$1(n2) {\n  return X && n2 instanceof Map;\n}\nfunction v$1(n2) {\n  return q$1 && n2 instanceof Set;\n}\nfunction p$1(n2) {\n  return n2.o || n2.t;\n}\nfunction l$1(n2) {\n  if (Array.isArray(n2)) return Array.prototype.slice.call(n2);\n  var r2 = rn(n2);\n  delete r2[Q$1];\n  for (var t2 = nn(r2), e2 = 0; e2 < t2.length; e2++) {\n    var i2 = t2[e2],\n      o2 = r2[i2];\n    o2.writable === false && (o2.writable = true, o2.configurable = true), (o2.get || o2.set) && (r2[i2] = {\n      configurable: true,\n      writable: true,\n      enumerable: o2.enumerable,\n      value: n2[i2]\n    });\n  }\n  return Object.create(Object.getPrototypeOf(n2), r2);\n}\nfunction d$1(n2, e2) {\n  return e2 === void 0 && (e2 = false), y(n2) || r$1(n2) || !t(n2) ? n2 : (o$1(n2) > 1 && (n2.set = n2.add = n2.clear = n2.delete = h$1), Object.freeze(n2), e2 && i$1(n2, function (n3, r2) {\n    return d$1(r2, true);\n  }, true), n2);\n}\nfunction h$1() {\n  n$1(2);\n}\nfunction y(n2) {\n  return n2 == null || typeof n2 != \"object\" || Object.isFrozen(n2);\n}\nfunction b(r2) {\n  var t2 = tn[r2];\n  return t2 || n$1(18, r2), t2;\n}\nfunction _$1() {\n  return U;\n}\nfunction j$1(n2, r2) {\n  r2 && (b(\"Patches\"), n2.u = [], n2.s = [], n2.v = r2);\n}\nfunction O$1(n2) {\n  g$2(n2), n2.p.forEach(S$1), n2.p = null;\n}\nfunction g$2(n2) {\n  n2 === U && (U = n2.l);\n}\nfunction w$1(n2) {\n  return U = {\n    p: [],\n    l: U,\n    h: n2,\n    m: true,\n    _: 0\n  };\n}\nfunction S$1(n2) {\n  var r2 = n2[Q$1];\n  r2.i === 0 || r2.i === 1 ? r2.j() : r2.O = true;\n}\nfunction P$1(r2, e2) {\n  e2._ = e2.p.length;\n  var i2 = e2.p[0],\n    o2 = r2 !== void 0 && r2 !== i2;\n  return e2.h.g || b(\"ES5\").S(e2, r2, o2), o2 ? (i2[Q$1].P && (O$1(e2), n$1(4)), t(r2) && (r2 = M$1(e2, r2), e2.l || x$2(e2, r2)), e2.u && b(\"Patches\").M(i2[Q$1].t, r2, e2.u, e2.s)) : r2 = M$1(e2, i2, []), O$1(e2), e2.u && e2.v(e2.u, e2.s), r2 !== H$1 ? r2 : void 0;\n}\nfunction M$1(n2, r2, t2) {\n  if (y(r2)) return r2;\n  var e2 = r2[Q$1];\n  if (!e2) return i$1(r2, function (i2, o3) {\n    return A$1(n2, e2, r2, i2, o3, t2);\n  }, true), r2;\n  if (e2.A !== n2) return r2;\n  if (!e2.P) return x$2(n2, e2.t, true), e2.t;\n  if (!e2.I) {\n    e2.I = true, e2.A._--;\n    var o2 = e2.i === 4 || e2.i === 5 ? e2.o = l$1(e2.k) : e2.o;\n    i$1(e2.i === 3 ? new Set(o2) : o2, function (r3, i2) {\n      return A$1(n2, e2, o2, r3, i2, t2);\n    }), x$2(n2, o2, false), t2 && n2.u && b(\"Patches\").R(e2, t2, n2.u, n2.s);\n  }\n  return e2.o;\n}\nfunction A$1(e2, i2, o2, a2, c2, s2) {\n  if (r$1(c2)) {\n    var v2 = M$1(e2, c2, s2 && i2 && i2.i !== 3 && !u$1(i2.D, a2) ? s2.concat(a2) : void 0);\n    if (f$1(o2, a2, v2), !r$1(v2)) return;\n    e2.m = false;\n  }\n  if (t(c2) && !y(c2)) {\n    if (!e2.h.F && e2._ < 1) return;\n    M$1(e2, c2), i2 && i2.A.l || x$2(e2, c2);\n  }\n}\nfunction x$2(n2, r2, t2) {\n  t2 === void 0 && (t2 = false), n2.h.F && n2.m && d$1(r2, t2);\n}\nfunction z(n2, r2) {\n  var t2 = n2[Q$1];\n  return (t2 ? p$1(t2) : n2)[r2];\n}\nfunction I$1(n2, r2) {\n  if (r2 in n2) for (var t2 = Object.getPrototypeOf(n2); t2;) {\n    var e2 = Object.getOwnPropertyDescriptor(t2, r2);\n    if (e2) return e2;\n    t2 = Object.getPrototypeOf(t2);\n  }\n}\nfunction k(n2) {\n  n2.P || (n2.P = true, n2.l && k(n2.l));\n}\nfunction E$1(n2) {\n  n2.o || (n2.o = l$1(n2.t));\n}\nfunction R$1(n2, r2, t2) {\n  var e2 = s$1(r2) ? b(\"MapSet\").N(r2, t2) : v$1(r2) ? b(\"MapSet\").T(r2, t2) : n2.g ? function (n3, r3) {\n    var t3 = Array.isArray(n3),\n      e3 = {\n        i: t3 ? 1 : 0,\n        A: r3 ? r3.A : _$1(),\n        P: false,\n        I: false,\n        D: {},\n        l: r3,\n        t: n3,\n        k: null,\n        o: null,\n        j: null,\n        C: false\n      },\n      i2 = e3,\n      o2 = en;\n    t3 && (i2 = [e3], o2 = on);\n    var u2 = Proxy.revocable(i2, o2),\n      a2 = u2.revoke,\n      f2 = u2.proxy;\n    return e3.k = f2, e3.j = a2, f2;\n  }(r2, t2) : b(\"ES5\").J(r2, t2);\n  return (t2 ? t2.A : _$1()).p.push(e2), e2;\n}\nfunction D$1(e2) {\n  return r$1(e2) || n$1(22, e2), function n2(r2) {\n    if (!t(r2)) return r2;\n    var e3,\n      u2 = r2[Q$1],\n      c2 = o$1(r2);\n    if (u2) {\n      if (!u2.P && (u2.i < 4 || !b(\"ES5\").K(u2))) return u2.t;\n      u2.I = true, e3 = F$1(r2, c2), u2.I = false;\n    } else e3 = F$1(r2, c2);\n    return i$1(e3, function (r3, t2) {\n      u2 && a$1(u2.t, r3) === t2 || f$1(e3, r3, n2(t2));\n    }), c2 === 3 ? new Set(e3) : e3;\n  }(e2);\n}\nfunction F$1(n2, r2) {\n  switch (r2) {\n    case 2:\n      return new Map(n2);\n    case 3:\n      return Array.from(n2);\n  }\n  return l$1(n2);\n}\nvar G,\n  U,\n  W$1 = typeof Symbol != \"undefined\" && typeof Symbol(\"x\") == \"symbol\",\n  X = typeof Map != \"undefined\",\n  q$1 = typeof Set != \"undefined\",\n  B = typeof Proxy != \"undefined\" && Proxy.revocable !== void 0 && typeof Reflect != \"undefined\",\n  H$1 = W$1 ? Symbol.for(\"immer-nothing\") : ((G = {})[\"immer-nothing\"] = true, G),\n  L$1 = W$1 ? Symbol.for(\"immer-draftable\") : \"__$immer_draftable\",\n  Q$1 = W$1 ? Symbol.for(\"immer-state\") : \"__$immer_state\",\n  Z$1 = \"\" + Object.prototype.constructor,\n  nn = typeof Reflect != \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : Object.getOwnPropertySymbols !== void 0 ? function (n2) {\n    return Object.getOwnPropertyNames(n2).concat(Object.getOwnPropertySymbols(n2));\n  } : Object.getOwnPropertyNames,\n  rn = Object.getOwnPropertyDescriptors || function (n2) {\n    var r2 = {};\n    return nn(n2).forEach(function (t2) {\n      r2[t2] = Object.getOwnPropertyDescriptor(n2, t2);\n    }), r2;\n  },\n  tn = {},\n  en = {\n    get: function (n2, r2) {\n      if (r2 === Q$1) return n2;\n      var e2 = p$1(n2);\n      if (!u$1(e2, r2)) return function (n3, r3, t2) {\n        var e3,\n          i3 = I$1(r3, t2);\n        return i3 ? \"value\" in i3 ? i3.value : (e3 = i3.get) === null || e3 === void 0 ? void 0 : e3.call(n3.k) : void 0;\n      }(n2, e2, r2);\n      var i2 = e2[r2];\n      return n2.I || !t(i2) ? i2 : i2 === z(n2.t, r2) ? (E$1(n2), n2.o[r2] = R$1(n2.A.h, i2, n2)) : i2;\n    },\n    has: function (n2, r2) {\n      return r2 in p$1(n2);\n    },\n    ownKeys: function (n2) {\n      return Reflect.ownKeys(p$1(n2));\n    },\n    set: function (n2, r2, t2) {\n      var e2 = I$1(p$1(n2), r2);\n      if (e2 == null ? void 0 : e2.set) return e2.set.call(n2.k, t2), true;\n      if (!n2.P) {\n        var i2 = z(p$1(n2), r2),\n          o2 = i2 == null ? void 0 : i2[Q$1];\n        if (o2 && o2.t === t2) return n2.o[r2] = t2, n2.D[r2] = false, true;\n        if (c$1(t2, i2) && (t2 !== void 0 || u$1(n2.t, r2))) return true;\n        E$1(n2), k(n2);\n      }\n      return n2.o[r2] === t2 && typeof t2 != \"number\" && (t2 !== void 0 || r2 in n2.o) || (n2.o[r2] = t2, n2.D[r2] = true, true);\n    },\n    deleteProperty: function (n2, r2) {\n      return z(n2.t, r2) !== void 0 || r2 in n2.t ? (n2.D[r2] = false, E$1(n2), k(n2)) : delete n2.D[r2], n2.o && delete n2.o[r2], true;\n    },\n    getOwnPropertyDescriptor: function (n2, r2) {\n      var t2 = p$1(n2),\n        e2 = Reflect.getOwnPropertyDescriptor(t2, r2);\n      return e2 ? {\n        writable: true,\n        configurable: n2.i !== 1 || r2 !== \"length\",\n        enumerable: e2.enumerable,\n        value: t2[r2]\n      } : e2;\n    },\n    defineProperty: function () {\n      n$1(11);\n    },\n    getPrototypeOf: function (n2) {\n      return Object.getPrototypeOf(n2.t);\n    },\n    setPrototypeOf: function () {\n      n$1(12);\n    }\n  },\n  on = {};\ni$1(en, function (n2, r2) {\n  on[n2] = function () {\n    return arguments[0] = arguments[0][0], r2.apply(this, arguments);\n  };\n}), on.deleteProperty = function (r2, t2) {\n  return on.set.call(this, r2, t2, void 0);\n}, on.set = function (r2, t2, e2) {\n  return en.set.call(this, r2[0], t2, e2, r2[0]);\n};\nvar un$1 = function () {\n    function e2(r2) {\n      var e3 = this;\n      this.g = B, this.F = true, this.produce = function (r3, i3, o2) {\n        if (typeof r3 == \"function\" && typeof i3 != \"function\") {\n          var u2 = i3;\n          i3 = r3;\n          var a2 = e3;\n          return function (n2) {\n            var r4 = this;\n            n2 === void 0 && (n2 = u2);\n            for (var t2 = arguments.length, e4 = Array(t2 > 1 ? t2 - 1 : 0), o3 = 1; o3 < t2; o3++) e4[o3 - 1] = arguments[o3];\n            return a2.produce(n2, function (n3) {\n              var t3;\n              return (t3 = i3).call.apply(t3, [r4, n3].concat(e4));\n            });\n          };\n        }\n        var f2;\n        if (typeof i3 != \"function\" && n$1(6), o2 !== void 0 && typeof o2 != \"function\" && n$1(7), t(r3)) {\n          var c2 = w$1(e3),\n            s2 = R$1(e3, r3, void 0),\n            v2 = true;\n          try {\n            f2 = i3(s2), v2 = false;\n          } finally {\n            v2 ? O$1(c2) : g$2(c2);\n          }\n          return typeof Promise != \"undefined\" && f2 instanceof Promise ? f2.then(function (n2) {\n            return j$1(c2, o2), P$1(n2, c2);\n          }, function (n2) {\n            throw O$1(c2), n2;\n          }) : (j$1(c2, o2), P$1(f2, c2));\n        }\n        if (!r3 || typeof r3 != \"object\") {\n          if ((f2 = i3(r3)) === void 0 && (f2 = r3), f2 === H$1 && (f2 = void 0), e3.F && d$1(f2, true), o2) {\n            var p2 = [],\n              l2 = [];\n            b(\"Patches\").M(r3, f2, p2, l2), o2(p2, l2);\n          }\n          return f2;\n        }\n        n$1(21, r3);\n      }, this.produceWithPatches = function (n2, r3) {\n        if (typeof n2 == \"function\") return function (r4) {\n          for (var t3 = arguments.length, i4 = Array(t3 > 1 ? t3 - 1 : 0), o3 = 1; o3 < t3; o3++) i4[o3 - 1] = arguments[o3];\n          return e3.produceWithPatches(r4, function (r5) {\n            return n2.apply(void 0, [r5].concat(i4));\n          });\n        };\n        var t2,\n          i3,\n          o2 = e3.produce(n2, r3, function (n3, r4) {\n            t2 = n3, i3 = r4;\n          });\n        return typeof Promise != \"undefined\" && o2 instanceof Promise ? o2.then(function (n3) {\n          return [n3, t2, i3];\n        }) : [o2, t2, i3];\n      }, typeof (r2 == null ? void 0 : r2.useProxies) == \"boolean\" && this.setUseProxies(r2.useProxies), typeof (r2 == null ? void 0 : r2.autoFreeze) == \"boolean\" && this.setAutoFreeze(r2.autoFreeze);\n    }\n    var i2 = e2.prototype;\n    return i2.createDraft = function (e3) {\n      t(e3) || n$1(8), r$1(e3) && (e3 = D$1(e3));\n      var i3 = w$1(this),\n        o2 = R$1(this, e3, void 0);\n      return o2[Q$1].C = true, g$2(i3), o2;\n    }, i2.finishDraft = function (r2, t2) {\n      var e3 = r2 && r2[Q$1];\n      var i3 = e3.A;\n      return j$1(i3, t2), P$1(void 0, i3);\n    }, i2.setAutoFreeze = function (n2) {\n      this.F = n2;\n    }, i2.setUseProxies = function (r2) {\n      r2 && !B && n$1(20), this.g = r2;\n    }, i2.applyPatches = function (n2, t2) {\n      var e3;\n      for (e3 = t2.length - 1; e3 >= 0; e3--) {\n        var i3 = t2[e3];\n        if (i3.path.length === 0 && i3.op === \"replace\") {\n          n2 = i3.value;\n          break;\n        }\n      }\n      e3 > -1 && (t2 = t2.slice(e3 + 1));\n      var o2 = b(\"Patches\").$;\n      return r$1(n2) ? o2(n2, t2) : this.produce(n2, function (n3) {\n        return o2(n3, t2);\n      });\n    }, e2;\n  }(),\n  an = new un$1(),\n  fn = an.produce;\nan.produceWithPatches.bind(an);\nan.setAutoFreeze.bind(an);\nan.setUseProxies.bind(an);\nan.applyPatches.bind(an);\nan.createDraft.bind(an);\nan.finishDraft.bind(an);\nvar produce = fn;\nvar commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\nfunction isUndefined$3(obj) {\n  return obj === void 0;\n}\nvar isUndefined_1 = isUndefined$3;\nvar isUndefined$2 = isUndefined_1;\nfunction range(start, stop, step) {\n  var arr = [];\n  var flag;\n  if (isUndefined$2(stop)) {\n    stop = start || 0;\n    start = 0;\n  }\n  step = step || 1;\n  flag = step < 0 ? -1 : 1;\n  stop *= flag;\n  for (; start * flag < stop; start += step) {\n    arr.push(start);\n  }\n  return arr;\n}\nvar range_1 = range;\nconst DEFAULT_DAY_NAME_MARGIN_LEFT = \"0\";\nconst MONTH_EVENT_HEIGHT = 24;\nconst MONTH_EVENT_MARGIN_TOP = 2;\nconst MONTH_CELL_PADDING_TOP = 3;\nconst MONTH_CELL_BAR_HEIGHT = 27;\nconst MONTH_MORE_VIEW_PADDING = 5;\nconst MONTH_MORE_VIEW_MIN_WIDTH = 280;\nconst MONTH_MORE_VIEW_HEADER_HEIGHT = 44;\nconst MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM = 12;\nconst MONTH_MORE_VIEW_HEADER_PADDING_TOP = 12;\nconst MONTH_MORE_VIEW_HEADER_PADDING = \"12px 17px 0\";\nconst WEEK_DAY_NAME_HEIGHT = 42;\nconst WEEK_DAY_NAME_BORDER = 1;\nconst WEEK_EVENT_MARGIN_TOP = 2;\nconst DEFAULT_PANEL_HEIGHT = 72;\nconst DEFAULT_EVENT_COLORS = {\n  color: \"#000\",\n  backgroundColor: \"#a1b56c\",\n  dragBackgroundColor: \"#a1b56c\",\n  borderColor: \"#000\"\n};\nconst TIME_EVENT_CONTAINER_MARGIN_LEFT = 2;\nconst COLLAPSED_DUPLICATE_EVENT_WIDTH_PX = 9;\nfunction isBoolean(obj) {\n  return typeof obj === \"boolean\" || obj instanceof Boolean;\n}\nvar isBoolean_1 = isBoolean;\nfunction isNumber(obj) {\n  return typeof obj === \"number\" || obj instanceof Number;\n}\nvar isNumber_1 = isNumber;\nfunction isObject$1(obj) {\n  return obj === Object(obj);\n}\nvar isObject_1 = isObject$1;\nfunction isString$1(obj) {\n  return typeof obj === \"string\" || obj instanceof String;\n}\nvar isString_1 = isString$1;\nfunction isNil(value) {\n  return isUndefined_1(value) || value === null;\n}\nfunction isPresent(value) {\n  return !isNil(value);\n}\nfunction isFunction$2(value) {\n  return typeof value === \"function\";\n}\nconst CSS_PREFIX = \"toastui-calendar-\";\nfunction cls(...args) {\n  const result = [];\n  args.forEach(arg => {\n    if (!arg) {\n      return;\n    }\n    if (isString_1(arg)) {\n      result.push(arg);\n    } else {\n      Object.keys(arg).forEach(className2 => {\n        if (arg[className2]) {\n          result.push(className2);\n        }\n      });\n    }\n  });\n  return result.map(str => `${CSS_PREFIX}${str}`).join(\" \");\n}\nfunction toPercent(value) {\n  return `${value}%`;\n}\nfunction toPx(value) {\n  return `${value}px`;\n}\nfunction extractPercentPx(value) {\n  const percentRegexp = /(\\d+)%/;\n  const percentResult = value.match(percentRegexp);\n  const pxRegexp = /(-?)\\s?(\\d+)px/;\n  const pxResult = value.match(pxRegexp);\n  return {\n    percent: percentResult ? parseInt(percentResult[1], 10) : 0,\n    px: pxResult ? parseInt(`${pxResult[1]}${pxResult[2]}`, 10) : 0\n  };\n}\nfunction getEventColors(uiModel, calendarColor) {\n  const eventColors = uiModel.model.getColors();\n  return Object.keys(DEFAULT_EVENT_COLORS).reduce((colors, _key) => {\n    var _a, _b;\n    const key = _key;\n    colors[key] = (_b = (_a = eventColors[key]) != null ? _a : calendarColor[key]) != null ? _b : DEFAULT_EVENT_COLORS[key];\n    return colors;\n  }, {});\n}\nconst rISO8601 = /^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.)?([0-9]+)?([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?$/;\nfunction throwNotSupported() {\n  throw new Error(\"This operation is not supported.\");\n}\nfunction getDateTime(dateString) {\n  const match = rISO8601.exec(dateString);\n  if (match) {\n    const [, y2, M2, d2, h2, m2, s2,, ms, zoneInfo] = match;\n    return {\n      y: Number(y2),\n      M: Number(M2) - 1,\n      d: Number(d2),\n      h: Number(h2),\n      m: Number(m2),\n      s: Number(s2),\n      ms: Number(ms) || 0,\n      zoneInfo\n    };\n  }\n  return null;\n}\nfunction createFromDateString(dateString) {\n  const info = getDateTime(dateString);\n  if (info && !info.zoneInfo) {\n    const {\n      y: y2,\n      M: M2,\n      d: d2,\n      h: h2,\n      m: m2,\n      s: s2,\n      ms\n    } = info;\n    return new Date(y2, M2, d2, h2, m2, s2, ms);\n  }\n  return null;\n}\nclass LocalDate {\n  constructor(...args) {\n    const [firstArg] = args;\n    if (firstArg instanceof Date) {\n      this.d = new Date(firstArg.getTime());\n    } else if (isString_1(firstArg) && args.length === 1) {\n      this.d = createFromDateString(firstArg);\n    }\n    if (!this.d) {\n      this.d = new Date(...args);\n    }\n  }\n  setTimezoneOffset() {\n    throwNotSupported();\n  }\n  setTimezoneName() {\n    throwNotSupported();\n  }\n  clone() {\n    return new LocalDate(this.d);\n  }\n  toDate() {\n    return new Date(this.d.getTime());\n  }\n  toString() {\n    return this.d.toString();\n  }\n}\nconst getterMethods = [\"getTime\", \"getTimezoneOffset\", \"getFullYear\", \"getMonth\", \"getDate\", \"getHours\", \"getMinutes\", \"getSeconds\", \"getMilliseconds\", \"getDay\"];\nconst setterMethods = [\"setTime\", \"setFullYear\", \"setMonth\", \"setDate\", \"setHours\", \"setMinutes\", \"setSeconds\", \"setMilliseconds\"];\ngetterMethods.forEach(methodName => {\n  LocalDate.prototype[methodName] = function (...args) {\n    return this.d[methodName](...args);\n  };\n});\nsetterMethods.forEach(methodName => {\n  LocalDate.prototype[methodName] = function (...args) {\n    return this.d[methodName](...args);\n  };\n});\nclass UTCDate extends LocalDate {\n  clone() {\n    return new UTCDate(this.d);\n  }\n  getTimezoneOffset() {\n    return 0;\n  }\n}\nconst getterProperties = [\"FullYear\", \"Month\", \"Date\", \"Hours\", \"Minutes\", \"Seconds\", \"Milliseconds\", \"Day\"];\nconst setterProperties = [\"FullYear\", \"Month\", \"Date\", \"Hours\", \"Minutes\", \"Seconds\", \"Milliseconds\"];\ngetterProperties.forEach(prop => {\n  const methodName = `get${prop}`;\n  UTCDate.prototype[methodName] = function (...args) {\n    return this.d[`getUTC${prop}`](...args);\n  };\n});\nsetterProperties.forEach(prop => {\n  const methodName = `set${prop}`;\n  UTCDate.prototype[methodName] = function (...args) {\n    return this.d[`setUTC${prop}`](...args);\n  };\n});\nconst INVALID_DATETIME_FORMAT = \"Invalid DateTime Format\";\nconst INVALID_TIMEZONE_NAME = \"Invalid IANA Timezone Name\";\nconst INVALID_VIEW_TYPE = \"Invalid View Type\";\nconst MESSAGE_PREFIX = \"@toast-ui/calendar: \";\nclass InvalidTimezoneNameError extends Error {\n  constructor(timezoneName) {\n    super(`${MESSAGE_PREFIX}${INVALID_TIMEZONE_NAME} - ${timezoneName}`);\n    this.name = \"InvalidTimezoneNameError\";\n  }\n}\nclass InvalidDateTimeFormatError extends Error {\n  constructor(dateTimeString) {\n    super(`${MESSAGE_PREFIX}${INVALID_DATETIME_FORMAT} - ${dateTimeString}`);\n    this.name = \"InvalidDateTimeFormatError\";\n  }\n}\nclass InvalidViewTypeError extends Error {\n  constructor(viewType) {\n    super(`${MESSAGE_PREFIX}${INVALID_VIEW_TYPE} - ${viewType}`);\n    this.name = \"InvalidViewTypeError\";\n  }\n}\nconst logger = {\n  error: (firstArg, ...restArgs) => {\n    console.error(`${MESSAGE_PREFIX}${firstArg}`, ...restArgs);\n  },\n  warn: (firstArg, ...restArgs) => {\n    console.warn(`${MESSAGE_PREFIX}${firstArg}`, ...restArgs);\n  }\n};\nlet Constructor = LocalDate;\nfunction date(...args) {\n  return new Constructor(...args);\n}\nfunction getLocalTimezoneOffset() {\n  return -new Date().getTimezoneOffset();\n}\nfunction calculateTimezoneOffset(timezoneName, targetDate = new TZDate()) {\n  if (!isIntlDateTimeFormatSupported()) {\n    logger.warn(\"Intl.DateTimeFormat is not fully supported. So It will return the local timezone offset only.\\nYou can use a polyfill to fix this issue.\");\n    return -targetDate.toDate().getTimezoneOffset();\n  }\n  validateIANATimezoneName(timezoneName);\n  const token = tokenizeTZDate(targetDate, timezoneName);\n  const utcDate = tokenToUtcDate(token);\n  return Math.round((utcDate.getTime() - targetDate.getTime()) / 60 / 1e3);\n}\nfunction isUsingDST(targetDate, timezoneName) {\n  if (timezoneName) {\n    validateIANATimezoneName(timezoneName);\n  }\n  const jan = new TZDate(targetDate.getFullYear(), 0, 1);\n  const jul = new TZDate(targetDate.getFullYear(), 6, 1);\n  if (timezoneName) {\n    return Math.max(-calculateTimezoneOffset(timezoneName, jan), -calculateTimezoneOffset(timezoneName, jul)) !== -calculateTimezoneOffset(timezoneName, targetDate);\n  }\n  return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset()) !== targetDate.toDate().getTimezoneOffset();\n}\nconst dtfCache = {};\nconst timezoneNameValidationCache = {};\nfunction isIntlDateTimeFormatSupported() {\n  var _a, _b;\n  return isFunction$2((_b = (_a = Intl == null ? void 0 : Intl.DateTimeFormat) == null ? void 0 : _a.prototype) == null ? void 0 : _b.formatToParts);\n}\nfunction validateIANATimezoneName(timezoneName) {\n  if (timezoneNameValidationCache[timezoneName]) {\n    return true;\n  }\n  try {\n    Intl.DateTimeFormat(\"en-US\", {\n      timeZone: timezoneName\n    });\n    timezoneNameValidationCache[timezoneName] = true;\n    return true;\n  } catch (e2) {\n    throw new InvalidTimezoneNameError(timezoneName);\n  }\n}\nfunction getDateTimeFormat(timezoneName) {\n  if (dtfCache[timezoneName]) {\n    return dtfCache[timezoneName];\n  }\n  const dtf = new Intl.DateTimeFormat(\"en-US\", {\n    timeZone: timezoneName,\n    hourCycle: \"h23\",\n    hour12: false,\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\"\n  });\n  dtfCache[timezoneName] = dtf;\n  return dtf;\n}\nconst typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  hour: 3,\n  minute: 4,\n  second: 5\n};\nfunction tokenizeTZDate(tzDate, timezoneName) {\n  const dtf = getDateTimeFormat(timezoneName);\n  const formatted = dtf.formatToParts(tzDate.toDate());\n  return formatted.reduce((result, cur) => {\n    const pos = typeToPos[cur.type];\n    if (isPresent(pos)) {\n      result[pos] = parseInt(cur.value, 10);\n    }\n    return result;\n  }, []);\n}\nfunction tokenToUtcDate(token) {\n  const [year, monthPlusOne, day, hour, minute, second] = token;\n  const month = monthPlusOne - 1;\n  return new Date(Date.UTC(year, month, day, hour % 24, minute, second));\n}\nfunction getTZOffsetMSDifference(offset) {\n  return (getLocalTimezoneOffset() - offset) * MS_PER_MINUTES;\n}\nclass TZDate {\n  constructor(...args) {\n    this.tzOffset = null;\n    if (args[0] instanceof TZDate) {\n      this.d = date(args[0].getTime());\n    } else {\n      this.d = date(...args);\n    }\n  }\n  toString() {\n    return this.d.toString();\n  }\n  addFullYear(y2) {\n    this.setFullYear(this.getFullYear() + y2);\n    return this;\n  }\n  addMonth(m2) {\n    this.setMonth(this.getMonth() + m2);\n    return this;\n  }\n  addDate(d2) {\n    this.setDate(this.getDate() + d2);\n    return this;\n  }\n  addHours(h2) {\n    this.setHours(this.getHours() + h2);\n    return this;\n  }\n  addMinutes(M2) {\n    this.setMinutes(this.getMinutes() + M2);\n    return this;\n  }\n  addSeconds(s2) {\n    this.setSeconds(this.getSeconds() + s2);\n    return this;\n  }\n  addMilliseconds(ms) {\n    this.setMilliseconds(this.getMilliseconds() + ms);\n    return this;\n  }\n  setWithRaw(y2, m2, d2, h2, M2, s2, ms) {\n    this.setFullYear(y2, m2, d2);\n    this.setHours(h2, M2, s2, ms);\n    return this;\n  }\n  toDate() {\n    return this.d.toDate();\n  }\n  valueOf() {\n    return this.getTime();\n  }\n  getTimezoneOffset() {\n    var _a;\n    return (_a = this.tzOffset) != null ? _a : this.d.getTimezoneOffset();\n  }\n  getTime() {\n    return this.d.getTime();\n  }\n  getFullYear() {\n    return this.d.getFullYear();\n  }\n  getMonth() {\n    return this.d.getMonth();\n  }\n  getDate() {\n    return this.d.getDate();\n  }\n  getHours() {\n    return this.d.getHours();\n  }\n  getMinutes() {\n    return this.d.getMinutes();\n  }\n  getSeconds() {\n    return this.d.getSeconds();\n  }\n  getMilliseconds() {\n    return this.d.getMilliseconds();\n  }\n  getDay() {\n    return this.d.getDay();\n  }\n  setTime(t2) {\n    return this.d.setTime(t2);\n  }\n  setFullYear(y2, m2 = this.getMonth(), d2 = this.getDate()) {\n    return this.d.setFullYear(y2, m2, d2);\n  }\n  setMonth(m2, d2 = this.getDate()) {\n    return this.d.setMonth(m2, d2);\n  }\n  setDate(d2) {\n    return this.d.setDate(d2);\n  }\n  setHours(h2, M2 = this.getMinutes(), s2 = this.getSeconds(), ms = this.getMilliseconds()) {\n    return this.d.setHours(h2, M2, s2, ms);\n  }\n  setMinutes(M2, s2 = this.getSeconds(), ms = this.getMilliseconds()) {\n    return this.d.setMinutes(M2, s2, ms);\n  }\n  setSeconds(s2, ms = this.getMilliseconds()) {\n    return this.d.setSeconds(s2, ms);\n  }\n  setMilliseconds(ms) {\n    return this.d.setMilliseconds(ms);\n  }\n  tz(tzValue) {\n    if (tzValue === \"Local\") {\n      return new TZDate(this.getTime());\n    }\n    const tzOffset = isString_1(tzValue) ? calculateTimezoneOffset(tzValue, this) : tzValue;\n    const newTZDate = new TZDate(this.getTime() - getTZOffsetMSDifference(tzOffset));\n    newTZDate.tzOffset = tzOffset;\n    return newTZDate;\n  }\n  local(tzValue) {\n    if (isPresent(tzValue)) {\n      const tzOffset = isString_1(tzValue) ? calculateTimezoneOffset(tzValue, this) : tzValue;\n      return new TZDate(this.getTime() + getTZOffsetMSDifference(tzOffset));\n    }\n    return new TZDate(this.getTime() + (isPresent(this.tzOffset) ? getTZOffsetMSDifference(this.tzOffset) : 0));\n  }\n}\nfunction pick(obj, ...propNames) {\n  return propNames.reduce((acc, key) => {\n    if (obj.hasOwnProperty(key)) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\nfunction clone$1(source) {\n  return Object.assign(Object.create(Object.getPrototypeOf(source)), source);\n}\nfunction mergeObject(target, source = {}) {\n  if (!isObject_1(source)) {\n    return target;\n  }\n  Object.keys(source).forEach(k2 => {\n    const targetKey = k2;\n    const sourceKey = k2;\n    if (!Array.isArray(source[sourceKey]) && isObject_1(target[targetKey]) && isObject_1(source[sourceKey]) && !(source[sourceKey] instanceof TZDate)) {\n      target[targetKey] = mergeObject(target[targetKey], source[sourceKey]);\n    } else {\n      target[targetKey] = source[sourceKey];\n    }\n  });\n  return target;\n}\nconst eventUIPropsKey = [\"top\", \"left\", \"width\", \"height\", \"exceedLeft\", \"exceedRight\", \"croppedStart\", \"croppedEnd\", \"goingDurationHeight\", \"modelDurationHeight\", \"comingDurationHeight\", \"duplicateEvents\", \"duplicateEventIndex\", \"duplicateStarts\", \"duplicateEnds\", \"duplicateLeft\", \"duplicateWidth\", \"collapse\", \"isMain\"];\nclass EventUIModel {\n  constructor(event) {\n    this.top = 0;\n    this.left = 0;\n    this.width = 0;\n    this.height = 0;\n    this.exceedLeft = false;\n    this.exceedRight = false;\n    this.croppedStart = false;\n    this.croppedEnd = false;\n    this.goingDurationHeight = 0;\n    this.modelDurationHeight = 100;\n    this.comingDurationHeight = 0;\n    this.duplicateEvents = [];\n    this.duplicateEventIndex = -1;\n    this.duplicateLeft = \"\";\n    this.duplicateWidth = \"\";\n    this.collapse = false;\n    this.isMain = false;\n    this.model = event;\n  }\n  getUIProps() {\n    return pick(this, ...eventUIPropsKey);\n  }\n  setUIProps(props) {\n    Object.assign(this, props);\n  }\n  getStarts() {\n    if (this.renderStarts) {\n      return this.renderStarts;\n    }\n    return this.model.getStarts();\n  }\n  getEnds() {\n    if (this.renderEnds) {\n      return this.renderEnds;\n    }\n    return this.model.getEnds();\n  }\n  cid() {\n    return this.model.cid();\n  }\n  valueOf() {\n    return this.model;\n  }\n  duration() {\n    return this.model.duration();\n  }\n  collidesWith(uiModel, usingTravelTime = true) {\n    const infos = [];\n    [this, uiModel].forEach(event => {\n      const isDuplicateEvent = event instanceof EventUIModel && event.duplicateEvents.length > 0;\n      if (isDuplicateEvent) {\n        infos.push({\n          start: event.duplicateStarts,\n          end: event.duplicateEnds,\n          goingDuration: 0,\n          comingDuration: 0\n        });\n      } else {\n        infos.push({\n          start: event.getStarts(),\n          end: event.getEnds(),\n          goingDuration: event.valueOf().goingDuration,\n          comingDuration: event.valueOf().comingDuration\n        });\n      }\n    });\n    const [thisInfo, targetInfo] = infos;\n    return collidesWith({\n      start: thisInfo.start.getTime(),\n      end: thisInfo.end.getTime(),\n      targetStart: targetInfo.start.getTime(),\n      targetEnd: targetInfo.end.getTime(),\n      goingDuration: thisInfo.goingDuration,\n      comingDuration: thisInfo.comingDuration,\n      targetGoingDuration: targetInfo.goingDuration,\n      targetComingDuration: targetInfo.comingDuration,\n      usingTravelTime\n    });\n  }\n  clone() {\n    const eventUIModelProps = this.getUIProps();\n    const clonedEventUIModel = new EventUIModel(this.model);\n    clonedEventUIModel.setUIProps(eventUIModelProps);\n    if (this.renderStarts) {\n      clonedEventUIModel.renderStarts = new TZDate(this.renderStarts);\n    }\n    if (this.renderEnds) {\n      clonedEventUIModel.renderEnds = new TZDate(this.renderEnds);\n    }\n    return clonedEventUIModel;\n  }\n}\nfunction compareBooleansASC(a2, b2) {\n  if (a2 !== b2) {\n    return a2 ? -1 : 1;\n  }\n  return 0;\n}\nfunction compareNumbersASC(a2, b2) {\n  return Number(a2) - Number(b2);\n}\nfunction compareStringsASC(_a, _b) {\n  const a2 = String(_a);\n  const b2 = String(_b);\n  if (a2 === b2) {\n    return 0;\n  }\n  return a2 > b2 ? 1 : -1;\n}\nfunction compareEventsASC(a2, b2) {\n  const modelA = a2 instanceof EventUIModel ? a2.model : a2;\n  const modelB = b2 instanceof EventUIModel ? b2.model : b2;\n  const alldayCompare = compareBooleansASC(modelA.isAllday || modelA.hasMultiDates, modelB.isAllday || modelB.hasMultiDates);\n  if (alldayCompare) {\n    return alldayCompare;\n  }\n  const startsCompare = compare(a2.getStarts(), b2.getStarts());\n  if (startsCompare) {\n    return startsCompare;\n  }\n  const durationA = a2.duration();\n  const durationB = b2.duration();\n  if (durationA < durationB) {\n    return 1;\n  }\n  if (durationA > durationB) {\n    return -1;\n  }\n  return modelA.cid() - modelB.cid();\n}\nfunction bsearch(arr, search, fn2, compareFn) {\n  let minIndex = 0;\n  let maxIndex = arr.length - 1;\n  let currentIndex;\n  let value;\n  let comp;\n  compareFn = compareFn || compareStringsASC;\n  while (minIndex <= maxIndex) {\n    currentIndex = (minIndex + maxIndex) / 2 | 0;\n    value = fn2 ? fn2(arr[currentIndex]) : arr[currentIndex];\n    comp = compareFn(value, search);\n    if (comp < 0) {\n      minIndex = currentIndex + 1;\n    } else if (comp > 0) {\n      maxIndex = currentIndex - 1;\n    } else {\n      return currentIndex;\n    }\n  }\n  return ~maxIndex;\n}\nvar array = {\n  bsearch,\n  compare: {\n    event: {\n      asc: compareEventsASC\n    },\n    num: {\n      asc: compareNumbersASC\n    }\n  }\n};\nfunction first(array2) {\n  return array2[0];\n}\nfunction last(array2) {\n  return array2[array2.length - 1];\n}\nfunction findLastIndex(array2, predicate) {\n  for (let i2 = array2.length - 1; i2 >= 0; i2 -= 1) {\n    if (predicate(array2[i2])) {\n      return i2;\n    }\n  }\n  return -1;\n}\nfunction fill(length, value) {\n  if (length > 0) {\n    return Array.from({\n      length\n    }, () => {\n      if (Array.isArray(value)) {\n        return value.slice();\n      }\n      return value;\n    });\n  }\n  return [];\n}\nvar Day$2 = /* @__PURE__ */(Day2 => {\n  Day2[Day2[\"SUN\"] = 0] = \"SUN\";\n  Day2[Day2[\"MON\"] = 1] = \"MON\";\n  Day2[Day2[\"TUE\"] = 2] = \"TUE\";\n  Day2[Day2[\"WED\"] = 3] = \"WED\";\n  Day2[Day2[\"THU\"] = 4] = \"THU\";\n  Day2[Day2[\"FRI\"] = 5] = \"FRI\";\n  Day2[Day2[\"SAT\"] = 6] = \"SAT\";\n  return Day2;\n})(Day$2 || {});\nconst WEEK_DAYS = 7;\nconst dateFormatRx = /^(\\d{4}[-|/]*\\d{2}[-|/]*\\d{2})\\s?(\\d{2}:\\d{2}:\\d{2})?$/;\nconst memo = {\n  millisecondsTo: {},\n  millisecondsFrom: {}\n};\nconst convByTimeUnit = [24, 60, 60, 1e3];\nfunction leadingZero(number, length) {\n  let zero = \"\";\n  let i2 = 0;\n  if (String(number).length > length) {\n    return String(number);\n  }\n  for (; i2 < length - 1; i2 += 1) {\n    zero += \"0\";\n  }\n  return (zero + number).slice(length * -1);\n}\nfunction getHourForMeridiem(date2) {\n  let hour = date2.getHours();\n  if (hour === 0) {\n    hour = 12;\n  }\n  if (hour > 12) {\n    hour = hour % 12;\n  }\n  return hour;\n}\nconst tokenFunc = {\n  YYYYMMDD(date2) {\n    return [date2.getFullYear(), leadingZero(date2.getMonth() + 1, 2), leadingZero(date2.getDate(), 2)].join(\"\");\n  },\n  YYYY(date2) {\n    return String(date2.getFullYear());\n  },\n  MM(date2) {\n    return leadingZero(date2.getMonth() + 1, 2);\n  },\n  DD(date2) {\n    return leadingZero(date2.getDate(), 2);\n  },\n  \"HH:mm\": function (date2) {\n    const hour = date2.getHours();\n    const minutes = date2.getMinutes();\n    return `${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  \"hh:mm\": function (date2) {\n    const hour = getHourForMeridiem(date2);\n    const minutes = date2.getMinutes();\n    return `${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  hh(date2) {\n    const hour = getHourForMeridiem(date2);\n    return String(hour);\n  },\n  tt(date2) {\n    const hour = date2.getHours();\n    return hour < 12 ? \"am\" : \"pm\";\n  }\n};\nconst MS_PER_DAY = 864e5;\nconst MS_PER_MINUTES = 6e4;\nconst MS_EVENT_MIN_DURATION = 20 * MS_PER_MINUTES;\nconst MS_PER_THIRTY_MINUTES = 30 * 60 * 1e3;\nfunction toFormat(date2, strFormat) {\n  let result = strFormat;\n  Object.entries(tokenFunc).forEach(([token, converter]) => {\n    result = result.replace(token, converter(date2));\n  });\n  return result;\n}\nfunction convMilliseconds(type, value, iteratee) {\n  const index = {\n    date: 0,\n    hour: 1,\n    minute: 2,\n    second: 3\n  };\n  if (!(type in index) || isNaN(value)) {\n    return 0;\n  }\n  return [value].concat(convByTimeUnit.slice(index[type])).reduce(iteratee);\n}\nfunction millisecondsFrom(type, value) {\n  const cache = memo.millisecondsFrom;\n  const key = type + value;\n  if (cache[key]) {\n    return cache[key];\n  }\n  const result = convMilliseconds(type, value, (m2, v2) => m2 * v2);\n  if (!result) {\n    return 0;\n  }\n  cache[key] = result;\n  return cache[key];\n}\nfunction toStartOfDay(date2) {\n  const d2 = date2 ? new TZDate(date2) : new TZDate();\n  d2.setHours(0, 0, 0, 0);\n  return d2;\n}\nfunction makeDateRange(startDate, endDate, step) {\n  const startTime = startDate.getTime();\n  const endTime = endDate.getTime();\n  const date2 = new TZDate(startDate);\n  const result = [];\n  let cursor = startTime;\n  while (cursor <= endTime && endTime >= date2.getTime()) {\n    result.push(new TZDate(date2));\n    cursor = cursor + step;\n    date2.addMilliseconds(step);\n  }\n  return result;\n}\nfunction clone(date2) {\n  return new TZDate(date2);\n}\nfunction compare(d1, d2) {\n  const _d1 = d1.getTime();\n  const _d2 = d2.getTime();\n  if (_d1 < _d2) {\n    return -1;\n  }\n  if (_d1 > _d2) {\n    return 1;\n  }\n  return 0;\n}\nfunction isSameYear(d1, d2) {\n  return d1.getFullYear() === d2.getFullYear();\n}\nfunction isSameMonth(d1, d2) {\n  return isSameYear(d1, d2) && d1.getMonth() === d2.getMonth();\n}\nfunction isSameDate(d1, d2) {\n  return isSameMonth(d1, d2) && d1.getDate() === d2.getDate();\n}\nfunction max(d1, d2) {\n  return compare(d1, d2) === 1 ? d1 : d2;\n}\nfunction min(d1, d2) {\n  return compare(d1, d2) === -1 ? d1 : d2;\n}\nfunction parse(str, fixMonth = -1) {\n  const matches = str.match(dateFormatRx);\n  let separator;\n  let ymd;\n  let hms;\n  if (!matches) {\n    throw new InvalidDateTimeFormatError(str);\n  }\n  if (str.length > 8) {\n    separator = ~str.indexOf(\"/\") ? \"/\" : \"-\";\n    const result = matches.splice(1);\n    ymd = result[0].split(separator);\n    hms = result[1] ? result[1].split(\":\") : [0, 0, 0];\n  } else {\n    const [result] = matches;\n    ymd = [result.substr(0, 4), result.substr(4, 2), result.substr(6, 2)];\n    hms = [0, 0, 0];\n  }\n  return new TZDate().setWithRaw(Number(ymd[0]), Number(ymd[1]) + fixMonth, Number(ymd[2]), Number(hms[0]), Number(hms[1]), Number(hms[2]), 0);\n}\nfunction toEndOfDay(date2) {\n  const d2 = date2 ? new TZDate(date2) : new TZDate();\n  d2.setHours(23, 59, 59, 999);\n  return d2;\n}\nfunction isWeekend(day) {\n  return day === 0 || day === 6;\n}\nfunction isSunday(day) {\n  return day === 0;\n}\nfunction isSaturday(day) {\n  return day === 6;\n}\nfunction toStartOfMonth(date2) {\n  const startDate = new TZDate(date2);\n  startDate.setDate(1);\n  startDate.setHours(0, 0, 0, 0);\n  return startDate;\n}\nfunction toEndOfMonth(date2) {\n  const endDate = toStartOfMonth(date2);\n  endDate.setMonth(endDate.getMonth() + 1);\n  endDate.setDate(endDate.getDate() - 1);\n  endDate.setHours(23, 59, 59, 999);\n  return endDate;\n}\nfunction getRowStyleInfo(days, narrowWeekend, startDayOfWeek, workweek) {\n  const limitDaysToApplyNarrowWeekend = 5;\n  const uniformWidth = 100 / days;\n  const wideWidth = days > limitDaysToApplyNarrowWeekend ? 100 / (days - 1) : uniformWidth;\n  let accumulatedWidth = 0;\n  const dates = range_1(startDayOfWeek, WEEK_DAYS).concat(range_1(days)).slice(0, WEEK_DAYS);\n  narrowWeekend = workweek ? false : narrowWeekend;\n  const rowStyleInfo = dates.map(day => {\n    let width = narrowWeekend ? wideWidth : uniformWidth;\n    if (days > limitDaysToApplyNarrowWeekend && narrowWeekend && isWeekend(day)) {\n      width = wideWidth / 2;\n    }\n    const model = {\n      width,\n      left: accumulatedWidth\n    };\n    accumulatedWidth += width;\n    return model;\n  });\n  const {\n    length\n  } = rowStyleInfo;\n  const cellWidthMap = fill(length, fill(length, 0));\n  rowStyleInfo.forEach(({\n    width\n  }, index) => {\n    for (let i2 = 0; i2 <= index; i2 += 1) {\n      for (let j2 = index; j2 < length; j2 += 1) {\n        cellWidthMap[i2][j2] += width;\n      }\n    }\n  });\n  cellWidthMap[0][length - 1] = 100;\n  return {\n    rowStyleInfo,\n    cellWidthMap: cellWidthMap.map(widthList => widthList.map(toPercent))\n  };\n}\nfunction addMilliseconds(d2, step) {\n  const date2 = clone(d2);\n  date2.setMilliseconds(d2.getMilliseconds() + step);\n  return date2;\n}\nfunction addMinutes(d2, step) {\n  const date2 = clone(d2);\n  date2.setMinutes(d2.getMinutes() + step);\n  return date2;\n}\nfunction setTimeStrToDate(d2, timeStr) {\n  const date2 = clone(d2);\n  date2.setHours(...timeStr.split(\":\").map(Number));\n  return date2;\n}\nfunction addDate(d2, step) {\n  const date2 = clone(d2);\n  date2.setDate(d2.getDate() + step);\n  return date2;\n}\nfunction subtractDate(d2, steps) {\n  const date2 = clone(d2);\n  date2.setDate(d2.getDate() - steps);\n  return date2;\n}\nfunction addMonths(d2, step = 1) {\n  const date2 = clone(d2);\n  if (step !== 0) {\n    const dayOfMonth = date2.getDate();\n    const endOfDesiredMonth = new TZDate(date2.getTime());\n    endOfDesiredMonth.setMonth(date2.getMonth() + step + 1, 0);\n    const daysInMonth = endOfDesiredMonth.getDate();\n    if (dayOfMonth >= daysInMonth) {\n      return endOfDesiredMonth;\n    }\n    date2.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n  }\n  return date2;\n}\nfunction getDateDifference(d1, d2) {\n  const _d1 = new TZDate(d1.getFullYear(), d1.getMonth(), d1.getDate()).getTime();\n  const _d2 = new TZDate(d2.getFullYear(), d2.getMonth(), d2.getDate()).getTime();\n  return Math.round((_d1 - _d2) / MS_PER_DAY);\n}\nfunction hasCollision(start, end, targetStart, targetEnd) {\n  return targetStart > start && targetStart < end || targetEnd > start && targetEnd < end || targetStart <= start && targetEnd >= end;\n}\nfunction collidesWith({\n  start,\n  end,\n  targetStart,\n  targetEnd,\n  goingDuration,\n  comingDuration,\n  targetGoingDuration,\n  targetComingDuration,\n  usingTravelTime\n}) {\n  if (Math.abs(end - start) < MS_EVENT_MIN_DURATION) {\n    end += MS_EVENT_MIN_DURATION;\n  }\n  if (Math.abs(end - start) < MS_EVENT_MIN_DURATION) {\n    end += MS_EVENT_MIN_DURATION;\n  }\n  if (usingTravelTime) {\n    start -= millisecondsFrom(\"minute\", goingDuration);\n    end += millisecondsFrom(\"minute\", comingDuration);\n    targetStart -= millisecondsFrom(\"minute\", targetGoingDuration);\n    targetEnd += millisecondsFrom(\"minute\", targetComingDuration);\n  }\n  return hasCollision(start, end, targetStart, targetEnd);\n}\nfunction isSameEvent(event, eventId, calendarId) {\n  return event.id === eventId && event.calendarId === calendarId;\n}\nfunction idGenerator() {\n  let id = 0;\n  return {\n    next() {\n      id += 1;\n      return id;\n    }\n  };\n}\nconst getId = function () {\n  const generator = idGenerator();\n  return () => generator.next();\n}();\nfunction stamp(obj) {\n  if (!obj.__fe_id) {\n    obj.__fe_id = getId();\n  }\n  return obj.__fe_id;\n}\nclass EventModel {\n  constructor(event = {}) {\n    this.id = \"\";\n    this.calendarId = \"\";\n    this.title = \"\";\n    this.body = \"\";\n    this.isAllday = false;\n    this.start = new TZDate();\n    this.end = new TZDate();\n    this.goingDuration = 0;\n    this.comingDuration = 0;\n    this.location = \"\";\n    this.attendees = [];\n    this.category = \"time\";\n    this.dueDateClass = \"\";\n    this.recurrenceRule = \"\";\n    this.state = \"Busy\";\n    this.isVisible = true;\n    this.isPending = false;\n    this.isFocused = false;\n    this.isReadOnly = false;\n    this.isPrivate = false;\n    this.customStyle = {};\n    this.raw = null;\n    this.hasMultiDates = false;\n    stamp(this);\n    this.init(event);\n  }\n  init({\n    id = \"\",\n    calendarId = \"\",\n    title = \"\",\n    body = \"\",\n    isAllday: isAllday2 = false,\n    start = new TZDate(),\n    end = new TZDate(),\n    goingDuration = 0,\n    comingDuration = 0,\n    location: location2 = \"\",\n    attendees = [],\n    category = \"time\",\n    dueDateClass = \"\",\n    recurrenceRule = \"\",\n    state = \"Busy\",\n    isVisible = true,\n    isPending = false,\n    isFocused = false,\n    isReadOnly = false,\n    isPrivate = false,\n    color,\n    backgroundColor,\n    dragBackgroundColor,\n    borderColor,\n    customStyle = {},\n    raw = null\n  } = {}) {\n    this.id = id;\n    this.calendarId = calendarId;\n    this.title = title;\n    this.body = body;\n    this.isAllday = category === \"allday\" ? true : isAllday2;\n    this.goingDuration = goingDuration;\n    this.comingDuration = comingDuration;\n    this.location = location2;\n    this.attendees = attendees;\n    this.category = category;\n    this.dueDateClass = dueDateClass;\n    this.recurrenceRule = recurrenceRule;\n    this.state = state;\n    this.isVisible = isVisible;\n    this.isPending = isPending;\n    this.isFocused = isFocused;\n    this.isReadOnly = isReadOnly;\n    this.isPrivate = isPrivate;\n    this.color = color;\n    this.backgroundColor = backgroundColor;\n    this.dragBackgroundColor = dragBackgroundColor;\n    this.borderColor = borderColor;\n    this.customStyle = customStyle;\n    this.raw = raw;\n    if (this.isAllday) {\n      this.setAlldayPeriod(start, end);\n    } else {\n      this.setTimePeriod(start, end);\n    }\n    if (category === \"milestone\" || category === \"task\") {\n      this.start = new TZDate(this.end);\n    }\n  }\n  setAlldayPeriod(start, end) {\n    let startedAt;\n    let endedAt;\n    if (isString_1(start)) {\n      startedAt = parse(start.substring(0, 10));\n    } else {\n      startedAt = new TZDate(start || Date.now());\n    }\n    if (isString_1(end)) {\n      endedAt = parse(end.substring(0, 10));\n    } else {\n      endedAt = new TZDate(end || this.start);\n    }\n    this.start = startedAt;\n    this.start.setHours(0, 0, 0);\n    this.end = endedAt || new TZDate(this.start);\n    this.end.setHours(23, 59, 59);\n  }\n  setTimePeriod(start, end) {\n    this.start = new TZDate(start || Date.now());\n    this.end = new TZDate(end || this.start);\n    if (!end) {\n      this.end.setMinutes(this.end.getMinutes() + 30);\n    }\n    this.hasMultiDates = this.end.getTime() - this.start.getTime() > MS_PER_DAY;\n  }\n  getStarts() {\n    return this.start;\n  }\n  getEnds() {\n    return this.end;\n  }\n  cid() {\n    return stamp(this);\n  }\n  equals(event) {\n    if (this.id !== event.id) {\n      return false;\n    }\n    if (this.title !== event.title) {\n      return false;\n    }\n    if (this.body !== event.body) {\n      return false;\n    }\n    if (this.isAllday !== event.isAllday) {\n      return false;\n    }\n    if (compare(this.getStarts(), event.getStarts()) !== 0) {\n      return false;\n    }\n    if (compare(this.getEnds(), event.getEnds()) !== 0) {\n      return false;\n    }\n    if (this.color !== event.color) {\n      return false;\n    }\n    if (this.backgroundColor !== event.backgroundColor) {\n      return false;\n    }\n    if (this.dragBackgroundColor !== event.dragBackgroundColor) {\n      return false;\n    }\n    if (this.borderColor !== event.borderColor) {\n      return false;\n    }\n    return true;\n  }\n  duration() {\n    const start = Number(this.getStarts());\n    const end = Number(this.getEnds());\n    let duration;\n    if (this.isAllday) {\n      duration = Number(toEndOfDay(end)) - Number(toStartOfDay(start));\n    } else {\n      duration = end - start;\n    }\n    return duration;\n  }\n  valueOf() {\n    return this;\n  }\n  collidesWith(event, usingTravelTime = true) {\n    event = event instanceof EventUIModel ? event.model : event;\n    return collidesWith({\n      start: Number(this.getStarts()),\n      end: Number(this.getEnds()),\n      targetStart: Number(event.getStarts()),\n      targetEnd: Number(event.getEnds()),\n      goingDuration: this.goingDuration,\n      comingDuration: this.comingDuration,\n      targetGoingDuration: event.goingDuration,\n      targetComingDuration: event.comingDuration,\n      usingTravelTime\n    });\n  }\n  toEventObject() {\n    return {\n      id: this.id,\n      calendarId: this.calendarId,\n      __cid: this.cid(),\n      title: this.title,\n      body: this.body,\n      isAllday: this.isAllday,\n      start: this.start,\n      end: this.end,\n      goingDuration: this.goingDuration,\n      comingDuration: this.comingDuration,\n      location: this.location,\n      attendees: this.attendees,\n      category: this.category,\n      dueDateClass: this.dueDateClass,\n      recurrenceRule: this.recurrenceRule,\n      state: this.state,\n      isVisible: this.isVisible,\n      isPending: this.isPending,\n      isFocused: this.isFocused,\n      isReadOnly: this.isReadOnly,\n      isPrivate: this.isPrivate,\n      color: this.color,\n      backgroundColor: this.backgroundColor,\n      dragBackgroundColor: this.dragBackgroundColor,\n      borderColor: this.borderColor,\n      customStyle: this.customStyle,\n      raw: this.raw\n    };\n  }\n  getColors() {\n    return {\n      color: this.color,\n      backgroundColor: this.backgroundColor,\n      dragBackgroundColor: this.dragBackgroundColor,\n      borderColor: this.borderColor\n    };\n  }\n}\nEventModel.schema = {\n  required: [\"title\"],\n  dateRange: [\"start\", \"end\"]\n};\nfunction isTimeEvent({\n  model\n}) {\n  const {\n    category,\n    isAllday: isAllday2,\n    hasMultiDates\n  } = model;\n  return category === \"time\" && !isAllday2 && !hasMultiDates;\n}\nclass Collection {\n  constructor(getItemIDFn) {\n    this.internalMap = /* @__PURE__ */new Map();\n    if (isFunction$2(getItemIDFn)) {\n      this.getItemID = getItemIDFn;\n    }\n  }\n  static and(...filterFns) {\n    const {\n      length\n    } = filterFns;\n    return item => {\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        if (!filterFns[i2].call(null, item)) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n  static or(...filterFns) {\n    const {\n      length\n    } = filterFns;\n    if (!length) {\n      return () => false;\n    }\n    return item => {\n      let result = filterFns[0].call(null, item);\n      for (let i2 = 1; i2 < length; i2 += 1) {\n        result = result || filterFns[i2].call(null, item);\n      }\n      return result;\n    };\n  }\n  getItemID(item) {\n    var _a;\n    return (_a = item == null ? void 0 : item._id) != null ? _a : \"\";\n  }\n  getFirstItem() {\n    const iterator = this.internalMap.values();\n    return iterator.next().value;\n  }\n  add(...items) {\n    items.forEach(item => {\n      const id = this.getItemID(item);\n      this.internalMap.set(id, item);\n    });\n    return this;\n  }\n  remove(...items) {\n    const removeResult = [];\n    items.forEach(item => {\n      const id = isString_1(item) || isNumber_1(item) ? item : this.getItemID(item);\n      if (!this.internalMap.has(id)) {\n        return;\n      }\n      removeResult.push(this.internalMap.get(id));\n      this.internalMap[\"delete\"](id);\n    });\n    return removeResult.length === 1 ? removeResult[0] : removeResult;\n  }\n  has(item) {\n    const id = isString_1(item) || isNumber_1(item) ? item : this.getItemID(item);\n    return this.internalMap.has(id);\n  }\n  get(item) {\n    var _a;\n    const id = isString_1(item) || isNumber_1(item) ? item : this.getItemID(item);\n    return (_a = this.internalMap.get(id)) != null ? _a : null;\n  }\n  doWhenHas(id, callback) {\n    const item = this.internalMap.get(id);\n    if (isNil(item)) {\n      return;\n    }\n    callback(item);\n  }\n  filter(filterFn) {\n    const result = new Collection();\n    if (this.hasOwnProperty(\"getItemID\")) {\n      result.getItemID = this.getItemID;\n    }\n    this.internalMap.forEach(item => {\n      if (filterFn(item) === true) {\n        result.add(item);\n      }\n    });\n    return result;\n  }\n  groupBy(groupByFn) {\n    const result = {};\n    this.internalMap.forEach(item => {\n      var _a;\n      let key = isFunction$2(groupByFn) ? groupByFn(item) : item[groupByFn];\n      if (isFunction$2(key)) {\n        key = key.call(item);\n      }\n      (_a = result[key]) != null ? _a : result[key] = new Collection(this.getItemID);\n      result[key].add(item);\n    });\n    return result;\n  }\n  find(findFn) {\n    let result = null;\n    const items = this.internalMap.values();\n    let next = items.next();\n    while (next.done === false) {\n      if (findFn(next.value)) {\n        result = next.value;\n        break;\n      }\n      next = items.next();\n    }\n    return result;\n  }\n  sort(compareFn) {\n    return this.toArray().sort(compareFn);\n  }\n  each(iteratee) {\n    const entries = this.internalMap.entries();\n    let next = entries.next();\n    while (next.done === false) {\n      const [key, value] = next.value;\n      if (iteratee(value, key) === false) {\n        break;\n      }\n      next = entries.next();\n    }\n  }\n  clear() {\n    this.internalMap.clear();\n  }\n  toArray() {\n    return Array.from(this.internalMap.values());\n  }\n  get size() {\n    return this.internalMap.size;\n  }\n}\nfunction createEventCollection(...initItems) {\n  const collection = new Collection(event => event.cid());\n  if (initItems.length) {\n    collection.add(...initItems);\n  }\n  return collection;\n}\nfunction getDateRange(start, end) {\n  return makeDateRange(toStartOfDay(start), toEndOfDay(end), MS_PER_DAY);\n}\nfunction isAllday(event) {\n  return event.isAllday || event.category === \"time\" && Number(event.end) - Number(event.start) > MS_PER_DAY;\n}\nfunction filterByCategory(uiModel) {\n  const {\n    model\n  } = uiModel;\n  if (isAllday(model)) {\n    return \"allday\";\n  }\n  return model.category;\n}\nfunction addToMatrix(idsOfDay, event) {\n  const containDates = getDateRange(event.getStarts(), event.getEnds());\n  containDates.forEach(date2 => {\n    const ymd = toFormat(date2, \"YYYYMMDD\");\n    const matrix = idsOfDay[ymd] = idsOfDay[ymd] || [];\n    matrix.push(event.cid());\n  });\n}\nfunction removeFromMatrix(idsOfDay, event) {\n  const modelID = event.cid();\n  Object.values(idsOfDay).forEach(ids => {\n    const index = ids.indexOf(modelID);\n    if (~index) {\n      ids.splice(index, 1);\n    }\n  });\n}\nfunction addEvent(calendarData, event) {\n  calendarData.events.add(event);\n  addToMatrix(calendarData.idsOfDay, event);\n  return event;\n}\nfunction createEvent(calendarData, eventData) {\n  const event = new EventModel(eventData);\n  return addEvent(calendarData, event);\n}\nfunction createEvents(calendarData, events = []) {\n  return events.map(eventData => createEvent(calendarData, eventData));\n}\nfunction updateEvent(calendarData, eventId, calendarId, eventData) {\n  const {\n    idsOfDay\n  } = calendarData;\n  const event = calendarData.events.find(item => isSameEvent(item, eventId, calendarId));\n  if (!event) {\n    return false;\n  }\n  event.init(__spreadValues(__spreadValues({}, event), eventData));\n  removeFromMatrix(idsOfDay, event);\n  addToMatrix(idsOfDay, event);\n  return true;\n}\nfunction deleteEvent(calendarData, event) {\n  removeFromMatrix(calendarData.idsOfDay, event);\n  calendarData.events.remove(event);\n  return event;\n}\nfunction clearEvents(calendarData) {\n  calendarData.idsOfDay = {};\n  calendarData.events.clear();\n}\nfunction createCalendarSlice(calendars = []) {\n  return {\n    calendar: {\n      calendars,\n      events: createEventCollection(),\n      idsOfDay: {}\n    }\n  };\n}\nfunction createCalendarDispatchers(set) {\n  return {\n    createEvents: events => set(produce(state => {\n      createEvents(state.calendar, events);\n    })),\n    updateEvent: ({\n      event,\n      eventData\n    }) => set(produce(state => {\n      updateEvent(state.calendar, event.id, event.calendarId, eventData);\n    })),\n    deleteEvent: event => set(produce(state => {\n      deleteEvent(state.calendar, event);\n    })),\n    clearEvents: () => set(produce(state => {\n      clearEvents(state.calendar);\n    })),\n    setCalendars: calendars => set(produce(state => {\n      state.calendar.calendars = calendars;\n    })),\n    setCalendarColor: (calendarId, colorOptions) => set(produce(state => {\n      const calendars = state.calendar.calendars.map(calendar => {\n        if (calendar.id === calendarId) {\n          return __spreadValues(__spreadValues({}, calendar), colorOptions);\n        }\n        return calendar;\n      });\n      const events = state.calendar.events.toArray().map(event => {\n        var _a, _b, _c, _d;\n        if (event.calendarId === calendarId) {\n          event.color = (_a = colorOptions.color) != null ? _a : event.color;\n          event.backgroundColor = (_b = colorOptions.backgroundColor) != null ? _b : event.backgroundColor;\n          event.borderColor = (_c = colorOptions.borderColor) != null ? _c : event.borderColor;\n          event.dragBackgroundColor = (_d = colorOptions.dragBackgroundColor) != null ? _d : event.dragBackgroundColor;\n        }\n        return event;\n      });\n      const collection = createEventCollection(...events);\n      state.calendar.calendars = calendars;\n      state.calendar.events = collection;\n    })),\n    setCalendarVisibility: (calendarIds, isVisible) => set(produce(state => {\n      const events = state.calendar.events.toArray();\n      state.calendar.events = createEventCollection(...events.map(event => {\n        if (calendarIds.includes(event.calendarId)) {\n          event.isVisible = isVisible;\n        }\n        return event;\n      }));\n    }))\n  };\n}\nvar DraggingState = /* @__PURE__ */(DraggingState2 => {\n  DraggingState2[DraggingState2[\"IDLE\"] = 0] = \"IDLE\";\n  DraggingState2[DraggingState2[\"INIT\"] = 1] = \"INIT\";\n  DraggingState2[DraggingState2[\"DRAGGING\"] = 2] = \"DRAGGING\";\n  DraggingState2[DraggingState2[\"CANCELED\"] = 3] = \"CANCELED\";\n  return DraggingState2;\n})(DraggingState || {});\nfunction createDndSlice() {\n  return {\n    dnd: {\n      draggingItemType: null,\n      draggingState: 0,\n      initX: null,\n      initY: null,\n      x: null,\n      y: null,\n      draggingEventUIModel: null\n    }\n  };\n}\nfunction createDndDispatchers(set) {\n  return {\n    initDrag: initState => {\n      set(produce(state => {\n        state.dnd = __spreadProps(__spreadValues(__spreadValues({}, state.dnd), initState), {\n          draggingState: 1\n        });\n      }));\n    },\n    setDragging: newState => {\n      set(produce(state => {\n        state.dnd = __spreadProps(__spreadValues(__spreadValues({}, state.dnd), newState), {\n          draggingState: 2\n        });\n      }));\n    },\n    cancelDrag: () => {\n      set(produce(state => {\n        state.dnd = createDndSlice().dnd;\n        state.dnd.draggingState = 3;\n      }));\n    },\n    reset: () => {\n      set(produce(state => {\n        state.dnd = createDndSlice().dnd;\n      }));\n    },\n    setDraggingEventUIModel: eventUIModel => {\n      set(produce(state => {\n        var _a;\n        state.dnd.draggingEventUIModel = (_a = eventUIModel == null ? void 0 : eventUIModel.clone()) != null ? _a : null;\n      }));\n    }\n  };\n}\nfunction createGridSelectionSlice() {\n  return {\n    gridSelection: {\n      dayGridMonth: null,\n      dayGridWeek: null,\n      timeGrid: null,\n      accumulated: {\n        dayGridMonth: []\n      }\n    }\n  };\n}\nfunction createGridSelectionDispatchers(set) {\n  return {\n    setGridSelection: (type, gridSelection) => {\n      set(produce(state => {\n        state.gridSelection[type] = gridSelection;\n      }));\n    },\n    addGridSelection: (type, gridSelection) => {\n      set(produce(state => {\n        if (type === \"dayGridMonth\" && gridSelection) {\n          state.gridSelection.accumulated[type] = [...state.gridSelection.accumulated[type], gridSelection];\n          state.gridSelection.dayGridMonth = null;\n        }\n      }));\n    },\n    clearAll: () => set(produce(state => {\n      state.gridSelection = createGridSelectionSlice().gridSelection;\n    }))\n  };\n}\nconst DEFAULT_RESIZER_LENGTH = 3;\nconst DEFAULT_DUPLICATE_EVENT_CID = -1;\nfunction getRestPanelHeight(dayGridRowsState, lastPanelType, initHeight) {\n  return Object.keys(dayGridRowsState).reduce((acc, rowName) => {\n    if (rowName === lastPanelType) {\n      return acc;\n    }\n    return acc - dayGridRowsState[rowName].height - DEFAULT_RESIZER_LENGTH;\n  }, initHeight);\n}\nfunction createWeekViewLayoutSlice() {\n  return {\n    layout: 500,\n    weekViewLayout: {\n      lastPanelType: null,\n      dayGridRows: {},\n      selectedDuplicateEventCid: DEFAULT_DUPLICATE_EVENT_CID\n    }\n  };\n}\nfunction createWeekViewLayoutDispatchers(set) {\n  return {\n    setLastPanelType: type => {\n      set(produce(state => {\n        state.weekViewLayout.lastPanelType = type;\n        if (type) {\n          state.weekViewLayout.dayGridRows[type].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, type, state.layout);\n        }\n      }));\n    },\n    updateLayoutHeight: height => set(produce(state => {\n      const {\n        lastPanelType\n      } = state.weekViewLayout;\n      state.layout = height;\n      if (lastPanelType) {\n        state.weekViewLayout.dayGridRows[lastPanelType].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, lastPanelType, height);\n      }\n    })),\n    updateDayGridRowHeight: ({\n      rowName,\n      height\n    }) => set(produce(state => {\n      const {\n        lastPanelType\n      } = state.weekViewLayout;\n      state.weekViewLayout.dayGridRows[rowName] = {\n        height\n      };\n      if (lastPanelType) {\n        state.weekViewLayout.dayGridRows[lastPanelType].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, lastPanelType, state.layout);\n      }\n    })),\n    updateDayGridRowHeightByDiff: ({\n      rowName,\n      diff\n    }) => set(produce(state => {\n      var _a, _b, _c;\n      const {\n        lastPanelType\n      } = state.weekViewLayout;\n      const height = (_c = (_b = (_a = state.weekViewLayout.dayGridRows) == null ? void 0 : _a[rowName]) == null ? void 0 : _b.height) != null ? _c : DEFAULT_PANEL_HEIGHT;\n      state.weekViewLayout.dayGridRows[rowName] = {\n        height: height + diff\n      };\n      if (lastPanelType) {\n        state.weekViewLayout.dayGridRows[lastPanelType].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, lastPanelType, state.layout);\n      }\n    })),\n    setSelectedDuplicateEventCid: cid => set(produce(state => {\n      state.weekViewLayout.selectedDuplicateEventCid = cid != null ? cid : DEFAULT_DUPLICATE_EVENT_CID;\n    }))\n  };\n}\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst DEFAULT_DAY_NAMES = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\nconst getDayName = dayIndex => {\n  return DEFAULT_DAY_NAMES[dayIndex];\n};\nfunction getDayNames(days, weekDayNamesOption) {\n  return days.map(day => {\n    const dayIndex = day.getDay();\n    const dayName = weekDayNamesOption.length > 0 ? weekDayNamesOption[dayIndex] : capitalize(getDayName(dayIndex));\n    return {\n      date: day.getDate(),\n      day: day.getDay(),\n      dayName,\n      isToday: true,\n      renderDate: \"date\",\n      dateInstance: day\n    };\n  });\n}\nfunction initializeCollapseDuplicateEvents(options) {\n  if (!options) {\n    return false;\n  }\n  const initialCollapseDuplicateEvents = {\n    getDuplicateEvents: (targetEvent, events) => events.filter(event => event.title === targetEvent.title && compare(event.start, targetEvent.start) === 0 && compare(event.end, targetEvent.end) === 0).sort((a2, b2) => a2.calendarId > b2.calendarId ? 1 : -1),\n    getMainEvent: events => last(events)\n  };\n  if (isBoolean_1(options)) {\n    return initialCollapseDuplicateEvents;\n  }\n  return __spreadValues(__spreadValues({}, initialCollapseDuplicateEvents), options);\n}\nfunction initializeWeekOptions(weekOptions = {}) {\n  const week = __spreadValues({\n    startDayOfWeek: Day$2.SUN,\n    dayNames: [],\n    narrowWeekend: false,\n    workweek: false,\n    showNowIndicator: true,\n    showTimezoneCollapseButton: false,\n    timezonesCollapsed: false,\n    hourStart: 0,\n    hourEnd: 24,\n    eventView: true,\n    taskView: true,\n    collapseDuplicateEvents: false\n  }, weekOptions);\n  week.collapseDuplicateEvents = initializeCollapseDuplicateEvents(week.collapseDuplicateEvents);\n  return week;\n}\nfunction initializeTimezoneOptions(timezoneOptions = {}) {\n  return __spreadValues({\n    zones: []\n  }, timezoneOptions);\n}\nfunction initializeMonthOptions(monthOptions = {}) {\n  const month = __spreadValues({\n    dayNames: [],\n    visibleWeeksCount: 0,\n    workweek: false,\n    narrowWeekend: false,\n    startDayOfWeek: Day$2.SUN,\n    isAlways6Weeks: true,\n    visibleEventCount: 6\n  }, monthOptions);\n  if (month.dayNames.length === 0) {\n    month.dayNames = DEFAULT_DAY_NAMES.slice();\n  }\n  return month;\n}\nfunction initializeGridSelectionOptions(options) {\n  if (isBoolean_1(options)) {\n    return {\n      enableDblClick: options,\n      enableClick: options\n    };\n  }\n  return __spreadValues({\n    enableDblClick: true,\n    enableClick: true\n  }, options);\n}\nconst initialEventFilter = event => !!event.isVisible;\nfunction createOptionsSlice(options = {}) {\n  var _a, _b, _c, _d, _e, _f;\n  return {\n    options: {\n      defaultView: (_a = options.defaultView) != null ? _a : \"week\",\n      useFormPopup: (_b = options.useFormPopup) != null ? _b : false,\n      useDetailPopup: (_c = options.useDetailPopup) != null ? _c : false,\n      isReadOnly: (_d = options.isReadOnly) != null ? _d : false,\n      week: initializeWeekOptions(options.week),\n      month: initializeMonthOptions(options.month),\n      gridSelection: initializeGridSelectionOptions(options.gridSelection),\n      usageStatistics: (_e = options.usageStatistics) != null ? _e : true,\n      eventFilter: (_f = options.eventFilter) != null ? _f : initialEventFilter,\n      timezone: initializeTimezoneOptions(options.timezone)\n    }\n  };\n}\nfunction createOptionsDispatchers(set) {\n  return {\n    setOptions: (newOptions = {}) => set(produce(state => {\n      var _a;\n      if (newOptions.gridSelection) {\n        newOptions.gridSelection = initializeGridSelectionOptions(newOptions.gridSelection);\n      }\n      if ((_a = newOptions.week) == null ? void 0 : _a.collapseDuplicateEvents) {\n        newOptions.week.collapseDuplicateEvents = initializeCollapseDuplicateEvents(newOptions.week.collapseDuplicateEvents);\n      }\n      mergeObject(state.options, newOptions);\n    }))\n  };\n}\nvar PopupType = /* @__PURE__ */(PopupType2 => {\n  PopupType2[\"SeeMore\"] = \"seeMore\";\n  PopupType2[\"Form\"] = \"form\";\n  PopupType2[\"Detail\"] = \"detail\";\n  return PopupType2;\n})(PopupType || {});\nfunction createPopupSlice() {\n  return {\n    popup: {\n      [\"seeMore\"]: null,\n      [\"form\"]: null,\n      [\"detail\"]: null\n    }\n  };\n}\nfunction createPopupDispatchers(set) {\n  return {\n    showSeeMorePopup: param => set(produce(state => {\n      state.popup[\"seeMore\"] = param;\n      state.popup[\"form\"] = null;\n      state.popup[\"detail\"] = null;\n    })),\n    showFormPopup: param => set(produce(state => {\n      state.popup[\"form\"] = param;\n      state.popup[\"seeMore\"] = null;\n      state.popup[\"detail\"] = null;\n    })),\n    showDetailPopup: (param, isOpenedInSeeMorePopup) => set(produce(state => {\n      state.popup[\"detail\"] = param;\n      state.popup[\"form\"] = null;\n      if (!isOpenedInSeeMorePopup) {\n        state.popup[\"seeMore\"] = null;\n      }\n    })),\n    hideSeeMorePopup: () => set(produce(state => {\n      state.popup[\"seeMore\"] = null;\n    })),\n    hideFormPopup: () => set(produce(state => {\n      state.popup[\"form\"] = null;\n    })),\n    hideDetailPopup: () => set(produce(state => {\n      state.popup[\"detail\"] = null;\n    })),\n    hideAllPopup: () => set(produce(state => {\n      state.popup[\"seeMore\"] = null;\n      state.popup[\"form\"] = null;\n      state.popup[\"detail\"] = null;\n    }))\n  };\n}\nconst noop = () => {};\nconst CSS_AUTO_REGEX = /^auto$|^$|%/;\nfunction getStyle(el, style) {\n  let value = el.style[style];\n  if ((!value || value === \"auto\") && document.defaultView) {\n    const css = document.defaultView.getComputedStyle(el, null);\n    value = css ? css[style] : null;\n  }\n  return value === \"auto\" ? null : value;\n}\nfunction invalidateSizeValue(value) {\n  if (isString_1(value)) {\n    return CSS_AUTO_REGEX.test(value);\n  }\n  return value === null;\n}\nfunction getSize(el) {\n  const w2 = getStyle(el, \"width\");\n  const h2 = getStyle(el, \"height\");\n  if ((invalidateSizeValue(w2) || invalidateSizeValue(h2)) && el.getBoundingClientRect) {\n    const {\n      width,\n      height\n    } = el.getBoundingClientRect();\n    return {\n      width: width || el.offsetWidth,\n      height: height || el.offsetHeight\n    };\n  }\n  return {\n    width: parseFloat(w2 != null ? w2 : \"0\"),\n    height: parseFloat(h2 != null ? h2 : \"0\")\n  };\n}\nconst ElementClass = typeof Element === \"undefined\" ? noop : Element;\nconst elProto = ElementClass.prototype;\nelProto.matches || elProto.webkitMatchesSelector || elProto.msMatchesSelector || function (selector) {\n  return Array.from(document.querySelectorAll(selector)).includes(this);\n};\nfunction stripTags(str) {\n  return str.replace(/<([^>]+)>/gi, \"\");\n}\nconst SIXTY_MINUTES = 60;\nconst templates = {\n  milestone(model) {\n    const classNames2 = cls(\"icon\", \"ic-milestone\");\n    return /* @__PURE__ */h$3(p$3, null, /* @__PURE__ */h$3(\"span\", {\n      className: classNames2\n    }), /* @__PURE__ */h$3(\"span\", {\n      style: {\n        backgroundColor: model.backgroundColor\n      }\n    }, stripTags(model.title)));\n  },\n  milestoneTitle() {\n    return /* @__PURE__ */h$3(\"span\", {\n      className: cls(\"left-content\")\n    }, \"Milestone\");\n  },\n  task(model) {\n    return `#${model.title}`;\n  },\n  taskTitle() {\n    return /* @__PURE__ */h$3(\"span\", {\n      className: cls(\"left-content\")\n    }, \"Task\");\n  },\n  alldayTitle() {\n    return /* @__PURE__ */h$3(\"span\", {\n      className: cls(\"left-content\")\n    }, \"All Day\");\n  },\n  allday(model) {\n    return stripTags(model.title);\n  },\n  time(model) {\n    const {\n      start,\n      title\n    } = model;\n    if (start) {\n      return /* @__PURE__ */h$3(\"span\", null, /* @__PURE__ */h$3(\"strong\", null, toFormat(start, \"HH:mm\")), \"\\xA0\", /* @__PURE__ */h$3(\"span\", null, stripTags(title)));\n    }\n    return stripTags(title);\n  },\n  goingDuration(model) {\n    const {\n      goingDuration\n    } = model;\n    const hour = Math.floor(goingDuration / SIXTY_MINUTES);\n    const minutes = goingDuration % SIXTY_MINUTES;\n    return `GoingTime ${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  comingDuration(model) {\n    const {\n      comingDuration\n    } = model;\n    const hour = Math.floor(comingDuration / SIXTY_MINUTES);\n    const minutes = comingDuration % SIXTY_MINUTES;\n    return `ComingTime ${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  monthMoreTitleDate(moreTitle) {\n    const {\n      date: date2,\n      day\n    } = moreTitle;\n    const classNameDay = cls(\"more-title-date\");\n    const classNameDayLabel = cls(\"more-title-day\");\n    const dayName = capitalize(getDayName(day));\n    return /* @__PURE__ */h$3(p$3, null, /* @__PURE__ */h$3(\"span\", {\n      className: classNameDay\n    }, date2), /* @__PURE__ */h$3(\"span\", {\n      className: classNameDayLabel\n    }, dayName));\n  },\n  monthMoreClose() {\n    return \"\";\n  },\n  monthGridHeader(model) {\n    const date2 = parseInt(model.date.split(\"-\")[2], 10);\n    const classNames2 = cls(\"weekday-grid-date\", {\n      \"weekday-grid-date-decorator\": model.isToday\n    });\n    return /* @__PURE__ */h$3(\"span\", {\n      className: classNames2\n    }, date2);\n  },\n  monthGridHeaderExceed(hiddenEvents) {\n    const className2 = cls(\"weekday-grid-more-events\");\n    return /* @__PURE__ */h$3(\"span\", {\n      className: className2\n    }, hiddenEvents, \" more\");\n  },\n  monthGridFooter(_model) {\n    return \"\";\n  },\n  monthGridFooterExceed(_hiddenEvents) {\n    return \"\";\n  },\n  monthDayName(model) {\n    return model.label;\n  },\n  weekDayName(model) {\n    const classDate = cls(\"day-name__date\");\n    const className2 = cls(\"day-name__name\");\n    return /* @__PURE__ */h$3(p$3, null, /* @__PURE__ */h$3(\"span\", {\n      className: classDate\n    }, model.date), \"\\xA0\\xA0\", /* @__PURE__ */h$3(\"span\", {\n      className: className2\n    }, model.dayName));\n  },\n  weekGridFooterExceed(hiddenEvents) {\n    return `+${hiddenEvents}`;\n  },\n  collapseBtnTitle() {\n    const className2 = cls(\"collapse-btn-icon\");\n    return /* @__PURE__ */h$3(\"span\", {\n      className: className2\n    });\n  },\n  timezoneDisplayLabel({\n    displayLabel,\n    timezoneOffset\n  }) {\n    if (isNil(displayLabel) && isPresent(timezoneOffset)) {\n      const sign = timezoneOffset < 0 ? \"-\" : \"+\";\n      const hours = Math.abs(timezoneOffset / SIXTY_MINUTES);\n      const minutes = Math.abs(timezoneOffset % SIXTY_MINUTES);\n      return `GMT${sign}${leadingZero(hours, 2)}:${leadingZero(minutes, 2)}`;\n    }\n    return displayLabel;\n  },\n  timegridDisplayPrimaryTime(props) {\n    const {\n      time\n    } = props;\n    return toFormat(time, \"hh tt\");\n  },\n  timegridDisplayTime(props) {\n    const {\n      time\n    } = props;\n    return toFormat(time, \"HH:mm\");\n  },\n  timegridNowIndicatorLabel(timezone) {\n    const {\n      time,\n      format = \"HH:mm\"\n    } = timezone;\n    return toFormat(time, format);\n  },\n  popupIsAllday() {\n    return \"All day\";\n  },\n  popupStateFree() {\n    return \"Free\";\n  },\n  popupStateBusy() {\n    return \"Busy\";\n  },\n  titlePlaceholder() {\n    return \"Subject\";\n  },\n  locationPlaceholder() {\n    return \"Location\";\n  },\n  startDatePlaceholder() {\n    return \"Start date\";\n  },\n  endDatePlaceholder() {\n    return \"End date\";\n  },\n  popupSave() {\n    return \"Save\";\n  },\n  popupUpdate() {\n    return \"Update\";\n  },\n  popupEdit() {\n    return \"Edit\";\n  },\n  popupDelete() {\n    return \"Delete\";\n  },\n  popupDetailTitle({\n    title\n  }) {\n    return title;\n  },\n  popupDetailDate({\n    isAllday: isAllday2,\n    start,\n    end\n  }) {\n    const dayFormat = \"YYYY.MM.DD\";\n    const timeFormat = \"hh:mm tt\";\n    const detailFormat = `${dayFormat} ${timeFormat}`;\n    const startDate = toFormat(start, isAllday2 ? dayFormat : timeFormat);\n    const endDateFormat = isSameDate(start, end) ? timeFormat : detailFormat;\n    if (isAllday2) {\n      return `${startDate}${isSameDate(start, end) ? \"\" : ` - ${toFormat(end, dayFormat)}`}`;\n    }\n    return `${toFormat(start, detailFormat)} - ${toFormat(end, endDateFormat)}`;\n  },\n  popupDetailLocation({\n    location: location2\n  }) {\n    return location2;\n  },\n  popupDetailAttendees({\n    attendees = []\n  }) {\n    return attendees.join(\", \");\n  },\n  popupDetailState({\n    state\n  }) {\n    return state || \"Busy\";\n  },\n  popupDetailRecurrenceRule({\n    recurrenceRule\n  }) {\n    return recurrenceRule;\n  },\n  popupDetailBody({\n    body\n  }) {\n    return body;\n  }\n};\nfunction createTemplateSlice(templateConfig = {}) {\n  return {\n    template: __spreadValues(__spreadValues({}, templates), templateConfig)\n  };\n}\nfunction createTemplateDispatchers(set) {\n  return {\n    setTemplate: template => set(produce(state => {\n      state.template = __spreadValues(__spreadValues({}, state.template), template);\n    }))\n  };\n}\nfunction createViewSlice(initialView = \"week\") {\n  const renderDate = new TZDate();\n  renderDate.setHours(0, 0, 0, 0);\n  return {\n    view: {\n      currentView: initialView,\n      renderDate\n    }\n  };\n}\nfunction createViewDispatchers(set) {\n  return {\n    changeView: nextView => set(produce(state => {\n      state.view.currentView = nextView;\n    })),\n    setRenderDate: date2 => set(produce(state => {\n      state.view.renderDate = toStartOfDay(date2);\n    }))\n  };\n}\nconst isSSR = isUndefined_1(window) || !window.navigator;\nconst useIsomorphicLayoutEffect = isSSR ? _$2 : h$2;\nfunction createStoreContext() {\n  const StoreContext = B$1(null);\n  function StoreProvider2({\n    children,\n    store\n  }) {\n    return h$3(StoreContext.Provider, {\n      value: store,\n      children\n    });\n  }\n  const useStore2 = (selector, equalityFn = Object.is) => {\n    const storeCtx = q$2(StoreContext);\n    if (isNil(storeCtx)) {\n      throw new Error(\"StoreProvider is not found\");\n    }\n    const [, notify] = d$2(notifyCount => notifyCount + 1, 0);\n    const state = storeCtx.getState();\n    const stateRef = s$2(state);\n    const selectorRef = s$2(selector);\n    const equalityFnRef = s$2(equalityFn);\n    const hasErrorRef = s$2(false);\n    const currentSliceRef = s$2();\n    if (isUndefined_1(currentSliceRef.current)) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    const shouldGetNewSlice = stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || hasErrorRef.current;\n    if (shouldGetNewSlice) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      hasErrorRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = s$2(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = storeCtx.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          const shouldUpdateState = !equalityFnRef.current(currentSliceRef.current, nextStateSlice);\n          if (shouldUpdateState) {\n            stateRef.current = nextState;\n            currentSliceRef.current = newStateSlice;\n            notify();\n          }\n        } catch (e2) {\n          console.error(\"[toastui-calendar] failed to update state\", e2 == null ? void 0 : e2.message);\n          hasErrorRef.current = true;\n          notify();\n        }\n      };\n      const unsubscribe = storeCtx.subscribe(listener);\n      if (storeCtx.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n  };\n  const useInternalStore2 = () => {\n    const storeCtx = q$2(StoreContext);\n    if (isNil(storeCtx)) {\n      throw new Error(\"StoreProvider is not found\");\n    }\n    return F$2(() => storeCtx, [storeCtx]);\n  };\n  return {\n    StoreProvider: StoreProvider2,\n    useStore: useStore2,\n    useInternalStore: useInternalStore2\n  };\n}\nfunction createStore(storeCreator2) {\n  let state;\n  const listeners = /* @__PURE__ */new Set();\n  const setState = partialStateCreator => {\n    const nextState = partialStateCreator(state);\n    if (nextState !== state) {\n      const previousState = state;\n      state = __spreadValues(__spreadValues({}, state), nextState);\n      listeners.forEach(listener => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener, selector, equalityFn) => {\n    let _listener = listener;\n    if (selector) {\n      let currentSlice = selector(state);\n      const _equalityFn = equalityFn != null ? equalityFn : Object.is;\n      _listener = () => {\n        const nextSlice = selector(state);\n        if (!_equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          currentSlice = nextSlice;\n          listener(currentSlice, previousSlice);\n        }\n      };\n    }\n    listeners.add(_listener);\n    return () => listeners.delete(_listener);\n  };\n  const clearListeners = () => listeners.clear();\n  const internal = {\n    setState,\n    getState,\n    subscribe,\n    clearListeners\n  };\n  state = storeCreator2(setState, getState, internal);\n  return internal;\n}\nconst storeCreator = options => set => {\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, createOptionsSlice(options)), createTemplateSlice(options.template)), createPopupSlice()), createWeekViewLayoutSlice()), createCalendarSlice(options.calendars)), createViewSlice(options.defaultView)), createDndSlice()), createGridSelectionSlice()), {\n    dispatch: {\n      options: createOptionsDispatchers(set),\n      popup: createPopupDispatchers(set),\n      weekViewLayout: createWeekViewLayoutDispatchers(set),\n      calendar: createCalendarDispatchers(set),\n      view: createViewDispatchers(set),\n      dnd: createDndDispatchers(set),\n      gridSelection: createGridSelectionDispatchers(set),\n      template: createTemplateDispatchers(set)\n    }\n  });\n};\nconst initCalendarStore = (options = {}) => createStore(storeCreator(options));\nconst {\n  StoreProvider,\n  useStore,\n  useInternalStore\n} = createStoreContext();\nfunction useDispatch(group) {\n  return useStore(T$1(state => {\n    if (!group) {\n      return state.dispatch;\n    }\n    return state.dispatch[group];\n  }, [group]));\n}\nfunction topLevelStateSelector(group) {\n  return state => state[group];\n}\nconst calendarSelector = topLevelStateSelector(\"calendar\");\nconst weekViewLayoutSelector = topLevelStateSelector(\"weekViewLayout\");\nconst templateSelector = topLevelStateSelector(\"template\");\nconst viewSelector = topLevelStateSelector(\"view\");\nconst optionsSelector = topLevelStateSelector(\"options\");\nconst dndSelector = topLevelStateSelector(\"dnd\");\nvar purify = {\n  exports: {}\n};\n/*! @license DOMPurify 2.3.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.8/LICENSE */\n(function (module, exports) {\n  (function (global2, factory) {\n    module.exports = factory();\n  })(commonjsGlobal, function () {\n    function _typeof(obj) {\n      \"@babel/helpers - typeof\";\n\n      return _typeof = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function (obj2) {\n        return typeof obj2;\n      } : function (obj2) {\n        return obj2 && typeof Symbol == \"function\" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o2, p2) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o3, p3) {\n        o3.__proto__ = p3;\n        return o3;\n      };\n      return _setPrototypeOf(o2, p2);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n      if (Reflect.construct.sham) return false;\n      if (typeof Proxy === \"function\") return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n        return true;\n      } catch (e2) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct2(Parent2, args2, Class2) {\n          var a2 = [null];\n          a2.push.apply(a2, args2);\n          var Constructor2 = Function.bind.apply(Parent2, a2);\n          var instance = new Constructor2();\n          if (Class2) _setPrototypeOf(instance, Class2.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o2, minLen) {\n      if (!o2) return;\n      if (typeof o2 === \"string\") return _arrayLikeToArray(o2, minLen);\n      var n2 = Object.prototype.toString.call(o2).slice(8, -1);\n      if (n2 === \"Object\" && o2.constructor) n2 = o2.constructor.name;\n      if (n2 === \"Map\" || n2 === \"Set\") return Array.from(o2);\n      if (n2 === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2)) return _arrayLikeToArray(o2, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length) len = arr.length;\n      for (var i2 = 0, arr2 = new Array(len); i2 < len; i2++) arr2[i2] = arr[i2];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create;\n    var _ref = typeof Reflect !== \"undefined\" && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n    if (!apply) {\n      apply = function apply2(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze2(x2) {\n        return x2;\n      };\n    }\n    if (!seal) {\n      seal = function seal2(x2) {\n        return x2;\n      };\n    }\n    if (!construct) {\n      construct = function construct2(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array2) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l2 = array2.length;\n      while (l2--) {\n        var element = array2[l2];\n        if (typeof element === \"string\") {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array2)) {\n              array2[l2] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone2(object) {\n      var newObject = create(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === \"function\") {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn(\"fallback value for\", element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\"a\", \"abbr\", \"acronym\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"bdi\", \"bdo\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"decorator\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"element\", \"em\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"img\", \"input\", \"ins\", \"kbd\", \"label\", \"legend\", \"li\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meter\", \"nav\", \"nobr\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"picture\", \"pre\", \"progress\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"section\", \"select\", \"shadow\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\"]);\n    var svg$1 = freeze([\"svg\", \"a\", \"altglyph\", \"altglyphdef\", \"altglyphitem\", \"animatecolor\", \"animatemotion\", \"animatetransform\", \"circle\", \"clippath\", \"defs\", \"desc\", \"ellipse\", \"filter\", \"font\", \"g\", \"glyph\", \"glyphref\", \"hkern\", \"image\", \"line\", \"lineargradient\", \"marker\", \"mask\", \"metadata\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialgradient\", \"rect\", \"stop\", \"style\", \"switch\", \"symbol\", \"text\", \"textpath\", \"title\", \"tref\", \"tspan\", \"view\", \"vkern\"]);\n    var svgFilters = freeze([\"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\"]);\n    var svgDisallowed = freeze([\"animate\", \"color-profile\", \"cursor\", \"discard\", \"fedropshadow\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignobject\", \"hatch\", \"hatchpath\", \"mesh\", \"meshgradient\", \"meshpatch\", \"meshrow\", \"missing-glyph\", \"script\", \"set\", \"solidcolor\", \"unknown\", \"use\"]);\n    var mathMl$1 = freeze([\"math\", \"menclose\", \"merror\", \"mfenced\", \"mfrac\", \"mglyph\", \"mi\", \"mlabeledtr\", \"mmultiscripts\", \"mn\", \"mo\", \"mover\", \"mpadded\", \"mphantom\", \"mroot\", \"mrow\", \"ms\", \"mspace\", \"msqrt\", \"mstyle\", \"msub\", \"msup\", \"msubsup\", \"mtable\", \"mtd\", \"mtext\", \"mtr\", \"munder\", \"munderover\"]);\n    var mathMlDisallowed = freeze([\"maction\", \"maligngroup\", \"malignmark\", \"mlongdiv\", \"mscarries\", \"mscarry\", \"msgroup\", \"mstack\", \"msline\", \"msrow\", \"semantics\", \"annotation\", \"annotation-xml\", \"mprescripts\", \"none\"]);\n    var text = freeze([\"#text\"]);\n    var html = freeze([\"accept\", \"action\", \"align\", \"alt\", \"autocapitalize\", \"autocomplete\", \"autopictureinpicture\", \"autoplay\", \"background\", \"bgcolor\", \"border\", \"capture\", \"cellpadding\", \"cellspacing\", \"checked\", \"cite\", \"class\", \"clear\", \"color\", \"cols\", \"colspan\", \"controls\", \"controlslist\", \"coords\", \"crossorigin\", \"datetime\", \"decoding\", \"default\", \"dir\", \"disabled\", \"disablepictureinpicture\", \"disableremoteplayback\", \"download\", \"draggable\", \"enctype\", \"enterkeyhint\", \"face\", \"for\", \"headers\", \"height\", \"hidden\", \"high\", \"href\", \"hreflang\", \"id\", \"inputmode\", \"integrity\", \"ismap\", \"kind\", \"label\", \"lang\", \"list\", \"loading\", \"loop\", \"low\", \"max\", \"maxlength\", \"media\", \"method\", \"min\", \"minlength\", \"multiple\", \"muted\", \"name\", \"nonce\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"optimum\", \"pattern\", \"placeholder\", \"playsinline\", \"poster\", \"preload\", \"pubdate\", \"radiogroup\", \"readonly\", \"rel\", \"required\", \"rev\", \"reversed\", \"role\", \"rows\", \"rowspan\", \"spellcheck\", \"scope\", \"selected\", \"shape\", \"size\", \"sizes\", \"span\", \"srclang\", \"start\", \"src\", \"srcset\", \"step\", \"style\", \"summary\", \"tabindex\", \"title\", \"translate\", \"type\", \"usemap\", \"valign\", \"value\", \"width\", \"xmlns\", \"slot\"]);\n    var svg = freeze([\"accent-height\", \"accumulate\", \"additive\", \"alignment-baseline\", \"ascent\", \"attributename\", \"attributetype\", \"azimuth\", \"basefrequency\", \"baseline-shift\", \"begin\", \"bias\", \"by\", \"class\", \"clip\", \"clippathunits\", \"clip-path\", \"clip-rule\", \"color\", \"color-interpolation\", \"color-interpolation-filters\", \"color-profile\", \"color-rendering\", \"cx\", \"cy\", \"d\", \"dx\", \"dy\", \"diffuseconstant\", \"direction\", \"display\", \"divisor\", \"dur\", \"edgemode\", \"elevation\", \"end\", \"fill\", \"fill-opacity\", \"fill-rule\", \"filter\", \"filterunits\", \"flood-color\", \"flood-opacity\", \"font-family\", \"font-size\", \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-variant\", \"font-weight\", \"fx\", \"fy\", \"g1\", \"g2\", \"glyph-name\", \"glyphref\", \"gradientunits\", \"gradienttransform\", \"height\", \"href\", \"id\", \"image-rendering\", \"in\", \"in2\", \"k\", \"k1\", \"k2\", \"k3\", \"k4\", \"kerning\", \"keypoints\", \"keysplines\", \"keytimes\", \"lang\", \"lengthadjust\", \"letter-spacing\", \"kernelmatrix\", \"kernelunitlength\", \"lighting-color\", \"local\", \"marker-end\", \"marker-mid\", \"marker-start\", \"markerheight\", \"markerunits\", \"markerwidth\", \"maskcontentunits\", \"maskunits\", \"max\", \"mask\", \"media\", \"method\", \"mode\", \"min\", \"name\", \"numoctaves\", \"offset\", \"operator\", \"opacity\", \"order\", \"orient\", \"orientation\", \"origin\", \"overflow\", \"paint-order\", \"path\", \"pathlength\", \"patterncontentunits\", \"patterntransform\", \"patternunits\", \"points\", \"preservealpha\", \"preserveaspectratio\", \"primitiveunits\", \"r\", \"rx\", \"ry\", \"radius\", \"refx\", \"refy\", \"repeatcount\", \"repeatdur\", \"restart\", \"result\", \"rotate\", \"scale\", \"seed\", \"shape-rendering\", \"specularconstant\", \"specularexponent\", \"spreadmethod\", \"startoffset\", \"stddeviation\", \"stitchtiles\", \"stop-color\", \"stop-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\", \"stroke\", \"stroke-width\", \"style\", \"surfacescale\", \"systemlanguage\", \"tabindex\", \"targetx\", \"targety\", \"transform\", \"transform-origin\", \"text-anchor\", \"text-decoration\", \"text-rendering\", \"textlength\", \"type\", \"u1\", \"u2\", \"unicode\", \"values\", \"viewbox\", \"visibility\", \"version\", \"vert-adv-y\", \"vert-origin-x\", \"vert-origin-y\", \"width\", \"word-spacing\", \"wrap\", \"writing-mode\", \"xchannelselector\", \"ychannelselector\", \"x\", \"x1\", \"x2\", \"xmlns\", \"y\", \"y1\", \"y2\", \"z\", \"zoomandpan\"]);\n    var mathMl = freeze([\"accent\", \"accentunder\", \"align\", \"bevelled\", \"close\", \"columnsalign\", \"columnlines\", \"columnspan\", \"denomalign\", \"depth\", \"dir\", \"display\", \"displaystyle\", \"encoding\", \"fence\", \"frame\", \"height\", \"href\", \"id\", \"largeop\", \"length\", \"linethickness\", \"lspace\", \"lquote\", \"mathbackground\", \"mathcolor\", \"mathsize\", \"mathvariant\", \"maxsize\", \"minsize\", \"movablelimits\", \"notation\", \"numalign\", \"open\", \"rowalign\", \"rowlines\", \"rowspacing\", \"rowspan\", \"rspace\", \"rquote\", \"scriptlevel\", \"scriptminsize\", \"scriptsizemultiplier\", \"selection\", \"separator\", \"separators\", \"stretchy\", \"subscriptshift\", \"supscriptshift\", \"symmetric\", \"voffset\", \"width\", \"xmlns\"]);\n    var xml = freeze([\"xlink:href\", \"xml:id\", \"xlink:title\", \"xml:space\", \"xmlns:xlink\"]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal2() {\n      return typeof window === \"undefined\" ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy2(trustedTypes, document2) {\n      if (_typeof(trustedTypes) !== \"object\" || typeof trustedTypes.createPolicy !== \"function\") {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = \"data-tt-policy-suffix\";\n      if (document2.currentScript && document2.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document2.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = \"dompurify\" + (suffix ? \"#\" + suffix : \"\");\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html2) {\n            return html2;\n          }\n        });\n      } catch (_2) {\n        console.warn(\"TrustedTypes policy \" + policyName + \" could not be created.\");\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify2(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = \"2.3.8\";\n      DOMPurify.removed = [];\n      if (!window2 || !window2.document || window2.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window2.document;\n      var document2 = window2.document;\n      var DocumentFragment = window2.DocumentFragment,\n        HTMLTemplateElement = window2.HTMLTemplateElement,\n        Node = window2.Node,\n        Element2 = window2.Element,\n        NodeFilter = window2.NodeFilter,\n        _window$NamedNodeMap = window2.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === void 0 ? window2.NamedNodeMap || window2.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window2.HTMLFormElement,\n        DOMParser = window2.DOMParser,\n        trustedTypes = window2.trustedTypes;\n      var ElementPrototype = Element2.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, \"cloneNode\");\n      var getNextSibling = lookupGetter(ElementPrototype, \"nextSibling\");\n      var getChildNodes = lookupGetter(ElementPrototype, \"childNodes\");\n      var getParentNode = lookupGetter(ElementPrototype, \"parentNode\");\n      if (typeof HTMLTemplateElement === \"function\") {\n        var template = document2.createElement(\"template\");\n        if (template.content && template.content.ownerDocument) {\n          document2 = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML(\"\") : \"\";\n      var _document = document2,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone2(document2).documentMode ? document2.documentMode : {};\n      } catch (_2) {}\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === \"function\" && implementation && typeof implementation.createHTMLDocument !== \"undefined\" && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n        ERB_EXPR$1 = ERB_EXPR,\n        DATA_ATTR$1 = DATA_ATTR,\n        ARIA_ATTR$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\"annotation-xml\", \"audio\", \"colgroup\", \"desc\", \"foreignobject\", \"head\", \"iframe\", \"math\", \"mi\", \"mn\", \"mo\", \"ms\", \"mtext\", \"noembed\", \"noframes\", \"noscript\", \"plaintext\", \"script\", \"style\", \"svg\", \"template\", \"thead\", \"title\", \"video\", \"xmp\"]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\"audio\", \"video\", \"img\", \"source\", \"image\", \"track\"]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\"alt\", \"class\", \"for\", \"id\", \"label\", \"name\", \"pattern\", \"placeholder\", \"role\", \"summary\", \"title\", \"value\", \"style\", \"xmlns\"]);\n      var MATHML_NAMESPACE = \"http://www.w3.org/1998/Math/MathML\";\n      var SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\n      var HTML_NAMESPACE = \"http://www.w3.org/1999/xhtml\";\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\"application/xhtml+xml\", \"text/html\"];\n      var DEFAULT_PARSER_MEDIA_TYPE = \"text/html\";\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document2.createElement(\"form\");\n      var isRegexOrFunction = function isRegexOrFunction2(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig2(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== \"object\") {\n          cfg = {};\n        }\n        cfg = clone2(cfg);\n        ALLOWED_TAGS = \"ALLOWED_TAGS\" in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = \"ALLOWED_ATTR\" in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = \"ADD_URI_SAFE_ATTR\" in cfg ? addToSet(clone2(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = \"ADD_DATA_URI_TAGS\" in cfg ? addToSet(clone2(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = \"FORBID_CONTENTS\" in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = \"FORBID_TAGS\" in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = \"FORBID_ATTR\" in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = \"USE_PROFILES\" in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === \"boolean\") {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === \"application/xhtml+xml\" ? function (x2) {\n          return x2;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone2(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone2(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone2(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS[\"#text\"] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\"html\", \"head\", \"body\"]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, [\"tbody\"]);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\"mi\", \"mo\", \"mn\", \"ms\", \"mtext\"]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\"foreignobject\", \"desc\", \"title\", \"annotation-xml\"]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\"title\", \"style\", \"font\", \"a\", \"script\"]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace2(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: \"template\"\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === \"svg\";\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === \"svg\" && (parentTagName === \"annotation-xml\" || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === \"math\";\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === \"math\" && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove2(node) {\n        arrayPush(DOMPurify.removed, {\n          element: node\n        });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_2) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_3) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute2(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_2) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === \"is\" && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_2) {}\n          } else {\n            try {\n              node.setAttribute(name, \"\");\n            } catch (_2) {}\n          }\n        }\n      };\n      var _initDocument = function _initDocument2(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = \"<remove></remove>\" + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === \"application/xhtml+xml\") {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + \"</body></html>\";\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_2) {}\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, \"template\", null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? \"\" : dirtyPayload;\n          } catch (_2) {}\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document2.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? \"html\" : \"body\")[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator2(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered2(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== \"string\" || typeof elm.textContent !== \"string\" || typeof elm.removeChild !== \"function\" || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== \"function\" || typeof elm.setAttribute !== \"function\" || typeof elm.namespaceURI !== \"string\" || typeof elm.insertBefore !== \"function\");\n      };\n      var _isNode = function _isNode2(object) {\n        return _typeof(Node) === \"object\" ? object instanceof Node : object && _typeof(object) === \"object\" && typeof object.nodeType === \"number\" && typeof object.nodeName === \"string\";\n      };\n      var _executeHook = function _executeHook2(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements2(currentNode) {\n        var content;\n        _executeHook(\"beforeSanitizeElements\", currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook(\"uponSanitizeElement\", currentNode, {\n          tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === \"select\" && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i2 = childCount - 1; i2 >= 0; --i2) {\n                parentNode.insertBefore(cloneNode(childNodes[i2], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element2 && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === \"noscript\" || tagName === \"noembed\") && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, \" \");\n          content = stringReplace(content, ERB_EXPR$1, \" \");\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, {\n              element: currentNode.cloneNode()\n            });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook(\"afterSanitizeElements\", currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute2(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === \"id\" || lcName === \"name\") && (value in document2 || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ;else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ;else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === \"is\" && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ;else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]) ;else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, \"\"))) ;else if ((lcName === \"src\" || lcName === \"xlink:href\" || lcName === \"href\") && lcTag !== \"script\" && stringIndexOf(value, \"data:\") === 0 && DATA_URI_TAGS[lcTag]) ;else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, \"\"))) ;else if (!value) ;else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest2(tagName) {\n        return tagName.indexOf(\"-\") > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes2(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l2;\n        _executeHook(\"beforeSanitizeAttributes\", currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: \"\",\n          attrValue: \"\",\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l2 = attributes.length;\n        while (l2--) {\n          attr = attributes[l2];\n          var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n          value = name === \"value\" ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = void 0;\n          _executeHook(\"uponSanitizeAttribute\", currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          _removeAttribute(name, currentNode);\n          if (!hookEvent.keepAttr) {\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, \" \");\n            value = stringReplace(value, ERB_EXPR$1, \" \");\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            continue;\n          }\n          try {\n            if (namespaceURI) {\n              currentNode.setAttributeNS(namespaceURI, name, value);\n            } else {\n              currentNode.setAttribute(name, value);\n            }\n            arrayPop(DOMPurify.removed);\n          } catch (_2) {}\n        }\n        _executeHook(\"afterSanitizeAttributes\", currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM2(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook(\"beforeSanitizeShadowDOM\", fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook(\"uponSanitizeShadowNode\", shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM2(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook(\"afterSanitizeShadowDOM\", fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = \"<!-->\";\n        }\n        if (typeof dirty !== \"string\" && !_isNode(dirty)) {\n          if (typeof dirty.toString !== \"function\") {\n            throw typeErrorCreate(\"toString is not a function\");\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== \"string\") {\n              throw typeErrorCreate(\"dirty is not a string, aborting\");\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window2.toStaticHTML) === \"object\" || typeof window2.toStaticHTML === \"function\") {\n            if (typeof dirty === \"string\") {\n              return window2.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window2.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === \"string\") {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate(\"root node is forbidden and cannot be sanitized in-place\");\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument(\"<!---->\");\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === \"BODY\") {\n            body = importedNode;\n          } else if (importedNode.nodeName === \"HTML\") {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf(\"<\") === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : \"\";\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS[\"!doctype\"] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = \"<!DOCTYPE \" + body.ownerDocument.doctype.name + \">\\n\" + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, \" \");\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, \" \");\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== \"function\") {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify2 = createDOMPurify();\n    return purify2;\n  });\n})(purify);\nvar browser = window.DOMPurify || (window.DOMPurify = purify.exports.default || purify.exports);\nconst TEMP_TARGET_ATTRIBUTE = \"data-target-temp\";\nfunction addAttributeHooks() {\n  browser.addHook(\"beforeSanitizeAttributes\", node => {\n    if (node.tagName === \"A\") {\n      const targetValue = node.getAttribute(\"target\");\n      if (targetValue) {\n        node.setAttribute(TEMP_TARGET_ATTRIBUTE, targetValue);\n      } else {\n        node.setAttribute(\"target\", \"_self\");\n      }\n    }\n  });\n  browser.addHook(\"afterSanitizeAttributes\", node => {\n    if (node.tagName === \"A\" && node.hasAttribute(TEMP_TARGET_ATTRIBUTE)) {\n      node.setAttribute(\"target\", node.getAttribute(TEMP_TARGET_ATTRIBUTE));\n      node.removeAttribute(TEMP_TARGET_ATTRIBUTE);\n      if (node.getAttribute(\"target\") === \"_blank\") {\n        node.setAttribute(\"rel\", \"noopener\");\n      }\n    }\n  });\n}\nfunction removeAttributeHooks() {\n  browser.removeAllHooks();\n}\nfunction sanitize(str) {\n  return browser.sanitize(str);\n}\nfunction Template({\n  template,\n  param,\n  as: tagName = \"div\"\n}) {\n  var _a;\n  const templates2 = useStore(templateSelector);\n  const templateFunc = templates2[template];\n  if (isNil(templateFunc)) {\n    return null;\n  }\n  const htmlOrVnode = templateFunc(param);\n  return isString_1(htmlOrVnode) ? h$3(tagName, {\n    className: cls(`template-${template}`),\n    dangerouslySetInnerHTML: {\n      __html: sanitize(htmlOrVnode)\n    }\n  }) : q$3(htmlOrVnode, {\n    className: `${(_a = htmlOrVnode.props.className) != null ? _a : \"\"} ${cls(`template-${template}`)}`\n  });\n}\nconst EventBusContext = B$1(null);\nconst EventBusProvider = EventBusContext.Provider;\nconst useEventBus = () => {\n  const eventBus = q$2(EventBusContext);\n  if (!eventBus) {\n    throw new Error(\"useEventBus must be used within a EventBusProvider\");\n  }\n  return eventBus;\n};\nconst primaryTimezoneSelector = state => {\n  var _a, _b, _c, _d, _e;\n  return (_e = (_d = (_c = (_b = (_a = state.options) == null ? void 0 : _a.timezone) == null ? void 0 : _b.zones) == null ? void 0 : _c[0]) == null ? void 0 : _d.timezoneName) != null ? _e : \"Local\";\n};\nconst customOffsetCalculatorSelector = state => {\n  var _a, _b;\n  return (_b = (_a = state.options) == null ? void 0 : _a.timezone) == null ? void 0 : _b.customOffsetCalculator;\n};\nconst timezonesSelector = state => {\n  var _a;\n  return (_a = state.options.timezone.zones) != null ? _a : [];\n};\nfunction useTZConverter() {\n  const customOffsetCalculator = useStore(customOffsetCalculatorSelector);\n  const hasCustomOffsetCalculator = isPresent(customOffsetCalculator);\n  return T$1((timezoneName, tzDate = new TZDate()) => tzDate.tz(hasCustomOffsetCalculator ? customOffsetCalculator(timezoneName, tzDate.getTime()) : timezoneName), [customOffsetCalculator, hasCustomOffsetCalculator]);\n}\nfunction usePrimaryTimezone() {\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const tzConverter = useTZConverter();\n  const getNow = T$1(() => tzConverter(primaryTimezoneName), [primaryTimezoneName, tzConverter]);\n  return [primaryTimezoneName, getNow];\n}\nfunction isWeekDayName(type, dayName) {\n  return type === \"week\";\n}\nfunction getWeekDayNameColor({\n  dayName,\n  theme,\n  today\n}) {\n  var _a, _b;\n  const {\n    day,\n    dateInstance\n  } = dayName;\n  const isToday = isSameDate(today, dateInstance);\n  const isPastDay = !isToday && dateInstance < today;\n  if (isSunday(day)) {\n    return theme.common.holiday.color;\n  }\n  if (isPastDay) {\n    return (_a = theme.week) == null ? void 0 : _a.pastDay.color;\n  }\n  if (isSaturday(day)) {\n    return theme.common.saturday.color;\n  }\n  if (isToday) {\n    return (_b = theme.week) == null ? void 0 : _b.today.color;\n  }\n  return theme.common.dayName.color;\n}\nfunction getMonthDayNameColor({\n  dayName,\n  theme\n}) {\n  const {\n    day\n  } = dayName;\n  if (isSunday(day)) {\n    return theme.common.holiday.color;\n  }\n  if (isSaturday(day)) {\n    return theme.common.saturday.color;\n  }\n  return theme.common.dayName.color;\n}\nfunction DayName({\n  dayName,\n  style,\n  type,\n  theme\n}) {\n  const eventBus = useEventBus();\n  const [, getNow] = usePrimaryTimezone();\n  const today = getNow();\n  const {\n    day\n  } = dayName;\n  const color = type === \"week\" ? getWeekDayNameColor({\n    dayName,\n    theme,\n    today\n  }) : getMonthDayNameColor({\n    dayName,\n    theme\n  });\n  const templateType = `${type}DayName`;\n  const handleClick = () => {\n    if (isWeekDayName(type)) {\n      eventBus.fire(\"clickDayName\", {\n        date: toFormat(dayName.dateInstance, \"YYYY-MM-DD\")\n      });\n    }\n  };\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"day-name-item\", type),\n    style\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: cls({\n      [`holiday-${getDayName(day)}`]: isWeekend(day)\n    }),\n    style: {\n      color\n    },\n    onClick: handleClick,\n    \"data-testid\": `dayName-${type}-${getDayName(day)}`\n  }, /* @__PURE__ */h$3(Template, {\n    template: templateType,\n    param: dayName\n  })));\n}\nconst commonThemeSelector = topLevelStateSelector(\"common\");\nconst monthThemeSelector = topLevelStateSelector(\"month\");\nconst weekDayGridLeftSelector = theme => theme.week.dayGridLeft;\nconst weekTimeGridLeftSelector = theme => theme.week.timeGridLeft;\nconst monthMoreViewSelector = theme => theme.month.moreView;\nconst monthGridCellSelector = theme => theme.month.gridCell;\nconst DEFAULT_COMMON_THEME = {\n  border: \"1px solid #e5e5e5\",\n  backgroundColor: \"white\",\n  holiday: {\n    color: \"#ff4040\"\n  },\n  saturday: {\n    color: \"#333\"\n  },\n  dayName: {\n    color: \"#333\"\n  },\n  today: {\n    color: \"#fff\"\n  },\n  gridSelection: {\n    backgroundColor: \"rgba(81, 92, 230, 0.05)\",\n    border: \"1px solid #515ce6\"\n  }\n};\nconst DEFAULT_WEEK_THEME = {\n  dayName: {\n    borderLeft: \"none\",\n    borderTop: \"1px solid #e5e5e5\",\n    borderBottom: \"1px solid #e5e5e5\",\n    backgroundColor: \"inherit\"\n  },\n  weekend: {\n    backgroundColor: \"inherit\"\n  },\n  today: {\n    color: \"inherit\",\n    backgroundColor: \"rgba(81, 92, 230, 0.05)\"\n  },\n  pastDay: {\n    color: \"#bbb\"\n  },\n  panelResizer: {\n    border: \"1px solid #e5e5e5\"\n  },\n  dayGrid: {\n    borderRight: \"1px solid #e5e5e5\",\n    backgroundColor: \"inherit\"\n  },\n  dayGridLeft: {\n    borderRight: \"1px solid #e5e5e5\",\n    backgroundColor: \"inherit\",\n    width: \"72px\"\n  },\n  timeGrid: {\n    borderRight: \"1px solid #e5e5e5\"\n  },\n  timeGridLeft: {\n    backgroundColor: \"inherit\",\n    borderRight: \"1px solid #e5e5e5\",\n    width: \"72px\"\n  },\n  timeGridLeftAdditionalTimezone: {\n    backgroundColor: \"white\"\n  },\n  timeGridHalfHourLine: {\n    borderBottom: \"none\"\n  },\n  timeGridHourLine: {\n    borderBottom: \"1px solid #e5e5e5\"\n  },\n  nowIndicatorLabel: {\n    color: \"#515ce6\"\n  },\n  nowIndicatorPast: {\n    border: \"1px dashed #515ce6\"\n  },\n  nowIndicatorBullet: {\n    backgroundColor: \"#515ce6\"\n  },\n  nowIndicatorToday: {\n    border: \"1px solid #515ce6\"\n  },\n  nowIndicatorFuture: {\n    border: \"none\"\n  },\n  pastTime: {\n    color: \"#bbb\"\n  },\n  futureTime: {\n    color: \"#333\"\n  },\n  gridSelection: {\n    color: \"#515ce6\"\n  }\n};\nconst DEFAULT_MONTH_THEME = {\n  dayName: {\n    borderLeft: \"none\",\n    backgroundColor: \"inherit\"\n  },\n  holidayExceptThisMonth: {\n    color: \"rgba(255, 64, 64, 0.4)\"\n  },\n  dayExceptThisMonth: {\n    color: \"rgba(51, 51, 51, 0.4)\"\n  },\n  weekend: {\n    backgroundColor: \"inherit\"\n  },\n  moreView: {\n    border: \"1px solid #d5d5d5\",\n    boxShadow: \"0 2px 6px 0 rgba(0, 0, 0, 0.1)\",\n    backgroundColor: \"white\",\n    width: null,\n    height: null\n  },\n  gridCell: {\n    headerHeight: 31,\n    footerHeight: null\n  },\n  moreViewTitle: {\n    backgroundColor: \"inherit\"\n  }\n};\nfunction createCommonTheme(commonTheme = {}) {\n  return {\n    common: mergeObject(DEFAULT_COMMON_THEME, commonTheme)\n  };\n}\nfunction createThemeDispatch(set) {\n  return {\n    setTheme: theme => {\n      set(produce(state => {\n        state.common = mergeObject(state.common, theme.common);\n        state.week = mergeObject(state.week, theme.week);\n        state.month = mergeObject(state.month, theme.month);\n      }));\n    },\n    setCommonTheme: commonTheme => {\n      set(produce(state => {\n        state.common = mergeObject(state.common, commonTheme);\n      }));\n    },\n    setWeekTheme: weekTheme => {\n      set(produce(state => {\n        state.week = mergeObject(state.week, weekTheme);\n      }));\n    },\n    setMonthTheme: monthTheme => {\n      set(produce(state => {\n        state.month = mergeObject(state.month, monthTheme);\n      }));\n    }\n  };\n}\nfunction createMonthTheme(monthTheme = {}) {\n  return {\n    month: mergeObject(DEFAULT_MONTH_THEME, monthTheme)\n  };\n}\nfunction createWeekTheme(weekTheme = {}) {\n  return {\n    week: mergeObject(DEFAULT_WEEK_THEME, weekTheme)\n  };\n}\nconst themeStoreCreator = (themeOptions = {}) => set => {\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, createCommonTheme(themeOptions == null ? void 0 : themeOptions.common)), createWeekTheme(themeOptions == null ? void 0 : themeOptions.week)), createMonthTheme(themeOptions == null ? void 0 : themeOptions.month)), {\n    dispatch: __spreadValues({}, createThemeDispatch(set))\n  });\n};\nconst initThemeStore = (themeOptions = {}) => createStore(themeStoreCreator(themeOptions));\nconst {\n  StoreProvider: ThemeProvider,\n  useInternalStore: useInternalThemeStore,\n  useStore: useTheme\n} = createStoreContext();\nfunction useCommonTheme() {\n  return useTheme(commonThemeSelector);\n}\nfunction useMonthTheme() {\n  return useTheme(monthThemeSelector);\n}\nfunction weekDayNameSelector(theme) {\n  return {\n    common: {\n      saturday: theme.common.saturday,\n      holiday: theme.common.holiday,\n      today: theme.common.today,\n      dayName: theme.common.dayName\n    },\n    week: {\n      pastDay: theme.week.pastDay,\n      today: theme.week.today,\n      dayName: theme.week.dayName\n    }\n  };\n}\nfunction monthDayNameSelector(theme) {\n  return {\n    common: {\n      saturday: theme.common.saturday,\n      holiday: theme.common.holiday,\n      today: theme.common.today,\n      dayName: theme.common.dayName\n    },\n    month: {\n      dayName: theme.month.dayName\n    }\n  };\n}\nfunction GridHeader({\n  dayNames,\n  marginLeft = DEFAULT_DAY_NAME_MARGIN_LEFT,\n  rowStyleInfo,\n  type = \"month\"\n}) {\n  var _a, _b;\n  const theme = useTheme(type === \"month\" ? monthDayNameSelector : weekDayNameSelector);\n  const _c = (_b = (_a = theme[type]) == null ? void 0 : _a.dayName) != null ? _b : {},\n    {\n      backgroundColor = \"white\",\n      borderLeft = null\n    } = _c,\n    rest = __objRest(_c, [\"backgroundColor\", \"borderLeft\"]);\n  const {\n    borderTop = null,\n    borderBottom = null\n  } = rest;\n  return /* @__PURE__ */h$3(\"div\", {\n    \"data-testid\": `grid-header-${type}`,\n    className: cls(\"day-names\", type),\n    style: {\n      backgroundColor,\n      borderTop,\n      borderBottom\n    }\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"day-name-container\"),\n    style: {\n      marginLeft\n    }\n  }, dayNames.map((dayName, index) => /* @__PURE__ */h$3(DayName, {\n    type,\n    key: `dayNames-${dayName.day}`,\n    dayName,\n    style: {\n      width: toPercent(rowStyleInfo[index].width),\n      left: toPercent(rowStyleInfo[index].left),\n      borderLeft\n    },\n    theme\n  }))));\n}\nconst DEFAULT_VISIBLE_WEEKS = 6;\nvar CellBarType = /* @__PURE__ */(CellBarType2 => {\n  CellBarType2[\"header\"] = \"header\";\n  CellBarType2[\"footer\"] = \"footer\";\n  return CellBarType2;\n})(CellBarType || {});\nfunction getCollisionGroup(events, usingTravelTime = true) {\n  const collisionGroups = [];\n  let previousEventList;\n  if (!events.length) {\n    return collisionGroups;\n  }\n  collisionGroups[0] = [events[0].cid()];\n  events.slice(1).forEach((event, index) => {\n    previousEventList = events.slice(0, index + 1).reverse();\n    const found = previousEventList.find(previous => event.collidesWith(previous, usingTravelTime));\n    if (!found) {\n      collisionGroups.push([event.cid()]);\n    } else {\n      collisionGroups.slice().reverse().some(group => {\n        if (~group.indexOf(found.cid())) {\n          group.push(event.cid());\n          return true;\n        }\n        return false;\n      });\n    }\n  });\n  return collisionGroups;\n}\nfunction getLastRowInColumn(matrix, col) {\n  let {\n    length: row\n  } = matrix;\n  while (row > 0) {\n    row -= 1;\n    if (!isUndefined_1(matrix[row][col])) {\n      return row;\n    }\n  }\n  return -1;\n}\nfunction getMatrices(collection, collisionGroups, usingTravelTime = true) {\n  const result = [];\n  collisionGroups.forEach(group => {\n    const matrix = [[]];\n    group.forEach(eventID => {\n      const event = collection.get(eventID);\n      let col = 0;\n      let found = false;\n      let nextRow;\n      let lastRowInColumn;\n      while (!found) {\n        lastRowInColumn = getLastRowInColumn(matrix, col);\n        if (lastRowInColumn === -1) {\n          matrix[0].push(event);\n          found = true;\n        } else if (!event.collidesWith(matrix[lastRowInColumn][col], usingTravelTime)) {\n          nextRow = lastRowInColumn + 1;\n          if (isUndefined_1(matrix[nextRow])) {\n            matrix[nextRow] = [];\n          }\n          matrix[nextRow][col] = event;\n          found = true;\n        }\n        col += 1;\n      }\n    });\n    result.push(matrix);\n  });\n  return result;\n}\nfunction getEventInDateRangeFilter(start, end) {\n  return model => {\n    const ownStarts = model.getStarts();\n    const ownEnds = model.getEnds();\n    return !(ownEnds < start || ownStarts > end);\n  };\n}\nfunction positionUIModels(start, end, matrices, iteratee) {\n  const ymdListToRender = makeDateRange(start, end, MS_PER_DAY).map(date2 => toFormat(date2, \"YYYYMMDD\"));\n  matrices.forEach(matrix => {\n    matrix.forEach(column => {\n      column.forEach((uiModel, index) => {\n        if (!uiModel) {\n          return;\n        }\n        const ymd = toFormat(uiModel.getStarts(), \"YYYYMMDD\");\n        const dateLength = makeDateRange(toStartOfDay(uiModel.getStarts()), toEndOfDay(uiModel.getEnds()), MS_PER_DAY).length;\n        uiModel.top = index;\n        uiModel.left = ymdListToRender.indexOf(ymd);\n        uiModel.width = dateLength;\n        iteratee == null ? void 0 : iteratee(uiModel);\n      });\n    });\n  });\n}\nfunction limit$1(start, end, uiModel) {\n  if (uiModel.getStarts() < start) {\n    uiModel.exceedLeft = true;\n    uiModel.renderStarts = new TZDate(start);\n  }\n  if (uiModel.getEnds() > end) {\n    uiModel.exceedRight = true;\n    uiModel.renderEnds = new TZDate(end);\n  }\n  return uiModel;\n}\nfunction limitRenderRange(start, end, uiModelColl) {\n  if (uiModelColl instanceof Collection) {\n    uiModelColl.each(uiModel => {\n      limit$1(start, end, uiModel);\n      return true;\n    });\n    return null;\n  }\n  return limit$1(start, end, uiModelColl);\n}\nfunction convertToUIModel(eventCollection) {\n  const uiModelColl = new Collection(uiModel => {\n    return uiModel.cid();\n  });\n  eventCollection.each(function (event) {\n    uiModelColl.add(new EventUIModel(event));\n  });\n  return uiModelColl;\n}\nfunction _isAllday({\n  model\n}) {\n  return model.isAllday || model.hasMultiDates;\n}\nfunction _isNotAllday(uiModel) {\n  return !_isAllday(uiModel);\n}\nfunction _weightTopValue(uiModel) {\n  uiModel.top = uiModel.top || 0;\n  uiModel.top += 1;\n}\nfunction _adjustRenderRange(start, end, uiModelColl) {\n  uiModelColl.each(uiModel => {\n    if (uiModel.model.isAllday || uiModel.model.hasMultiDates) {\n      limitRenderRange(toStartOfDay(start), toEndOfDay(end), uiModel);\n    }\n  });\n}\nfunction _getAlldayMaxTopIndexAtYMD(idsOfDay, ymd, uiModelAlldayColl) {\n  const topIndexesInDate = [];\n  idsOfDay[ymd].forEach(cid => {\n    uiModelAlldayColl.doWhenHas(cid, uiModel => {\n      topIndexesInDate.push(uiModel.top);\n    });\n  });\n  if (topIndexesInDate.length > 0) {\n    return Math.max(...topIndexesInDate);\n  }\n  return 0;\n}\nfunction _adjustTimeTopIndex(idsOfDay, uiModelColl) {\n  const vAlldayColl = uiModelColl.filter(_isAllday);\n  const sortedTimeEvents = uiModelColl.filter(_isNotAllday).sort(array.compare.event.asc);\n  const maxIndexInYMD = {};\n  sortedTimeEvents.forEach(timeUIModel => {\n    const eventYMD = toFormat(timeUIModel.getStarts(), \"YYYYMMDD\");\n    let alldayMaxTopInYMD = maxIndexInYMD[eventYMD];\n    if (isUndefined_1(alldayMaxTopInYMD)) {\n      alldayMaxTopInYMD = maxIndexInYMD[eventYMD] = _getAlldayMaxTopIndexAtYMD(idsOfDay, eventYMD, vAlldayColl);\n    }\n    maxIndexInYMD[eventYMD] = timeUIModel.top = alldayMaxTopInYMD + 1;\n  });\n}\nfunction _stackTimeFromTop(idsOfDay, uiModelColl) {\n  const uiModelAlldayColl = uiModelColl.filter(_isAllday);\n  const sortedTimeEvents = uiModelColl.filter(_isNotAllday).sort(array.compare.event.asc);\n  const indiceInYMD = {};\n  sortedTimeEvents.forEach(timeUIModel => {\n    const eventYMD = toFormat(timeUIModel.getStarts(), \"YYYYMMDD\");\n    let topArrayInYMD = indiceInYMD[eventYMD];\n    if (isUndefined_1(topArrayInYMD)) {\n      topArrayInYMD = indiceInYMD[eventYMD] = [];\n      idsOfDay[eventYMD].forEach(cid => {\n        uiModelAlldayColl.doWhenHas(cid, uiModel => {\n          topArrayInYMD.push(uiModel.top);\n        });\n      });\n    }\n    if (topArrayInYMD.indexOf(timeUIModel.top) >= 0) {\n      const maxTopInYMD = Math.max(...topArrayInYMD) + 1;\n      for (let i2 = 1; i2 <= maxTopInYMD; i2 += 1) {\n        timeUIModel.top = i2;\n        if (topArrayInYMD.indexOf(timeUIModel.top) < 0) {\n          break;\n        }\n      }\n    }\n    topArrayInYMD.push(timeUIModel.top);\n  });\n}\nfunction _addMultiDatesInfo$1(uiModelColl) {\n  uiModelColl.each(uiModel => {\n    const {\n      model\n    } = uiModel;\n    const start = model.getStarts();\n    const end = model.getEnds();\n    model.hasMultiDates = !isSameDate(start, end);\n    if (!model.isAllday && model.hasMultiDates) {\n      uiModel.renderStarts = toStartOfDay(start);\n      uiModel.renderEnds = toEndOfDay(end);\n    }\n  });\n}\nfunction findByDateRange$1(calendarData, condition) {\n  const {\n    start,\n    end,\n    andFilters = [],\n    alldayFirstMode = false\n  } = condition;\n  const {\n    events,\n    idsOfDay\n  } = calendarData;\n  const filterFn = Collection.and(...[getEventInDateRangeFilter(start, end)].concat(andFilters));\n  const coll = events.filter(filterFn);\n  const uiModelColl = convertToUIModel(coll);\n  _addMultiDatesInfo$1(uiModelColl);\n  _adjustRenderRange(start, end, uiModelColl);\n  const vList = uiModelColl.sort(array.compare.event.asc);\n  const usingTravelTime = false;\n  const collisionGroup = getCollisionGroup(vList, usingTravelTime);\n  const matrices = getMatrices(uiModelColl, collisionGroup, usingTravelTime);\n  positionUIModels(start, end, matrices, _weightTopValue);\n  if (alldayFirstMode) {\n    _adjustTimeTopIndex(idsOfDay, uiModelColl);\n  } else {\n    _stackTimeFromTop(idsOfDay, uiModelColl);\n  }\n  return matrices;\n}\nfunction _makeHourRangeFilter(hStart, hEnd) {\n  return uiModel => {\n    const ownHourStart = uiModel.getStarts();\n    const ownHourEnd = uiModel.getEnds();\n    const ownHourStartTime = ownHourStart.getTime();\n    const ownHourEndTime = ownHourEnd.getTime();\n    const yyyy = ownHourStart.getFullYear();\n    const mm = ownHourStart.getMonth();\n    const dd = ownHourStart.getDate();\n    const hourStart = new TZDate(yyyy, mm, dd).setHours(hStart);\n    const hourEnd = new TZDate(yyyy, mm, dd).setHours(hEnd);\n    return ownHourStartTime >= hourStart && ownHourStartTime < hourEnd || ownHourEndTime > hourStart && ownHourEndTime <= hourEnd || ownHourStartTime < hourStart && ownHourEndTime > hourStart || ownHourEndTime > hourEnd && ownHourStartTime < hourEnd;\n  };\n}\nfunction _makeGetUIModelFuncForTimeView(hourStart, hourEnd) {\n  if (hourStart === 0 && hourEnd === 24) {\n    return uiModelColl => {\n      return uiModelColl.sort(array.compare.event.asc);\n    };\n  }\n  return uiModelColl => {\n    return uiModelColl.filter(_makeHourRangeFilter(hourStart, hourEnd)).sort(array.compare.event.asc);\n  };\n}\nfunction splitEventByDateRange(idsOfDay, start, end, uiModelColl) {\n  const result = {};\n  const range2 = getDateRange(start, end);\n  range2.forEach(date2 => {\n    const ymd = toFormat(date2, \"YYYYMMDD\");\n    const ids = idsOfDay[ymd];\n    const collection = result[ymd] = new Collection(event => {\n      return event.cid();\n    });\n    if (ids && ids.length) {\n      ids.forEach(id => {\n        uiModelColl.doWhenHas(id, event => {\n          collection.add(event);\n        });\n      });\n    }\n  }, {});\n  return result;\n}\nfunction getUIModelForTimeView(idsOfDay, condition) {\n  const {\n    start,\n    end,\n    uiModelTimeColl,\n    hourStart,\n    hourEnd\n  } = condition;\n  const ymdSplitted = splitEventByDateRange(idsOfDay, start, end, uiModelTimeColl);\n  const result = {};\n  const _getUIModel = _makeGetUIModelFuncForTimeView(hourStart, hourEnd);\n  const usingTravelTime = true;\n  Object.entries(ymdSplitted).forEach(([ymd, uiModelColl]) => {\n    const uiModels = _getUIModel(uiModelColl);\n    const collisionGroups = getCollisionGroup(uiModels, usingTravelTime);\n    const matrices = getMatrices(uiModelColl, collisionGroups, usingTravelTime);\n    result[ymd] = matrices;\n  });\n  return result;\n}\nfunction _addMultiDatesInfo(uiModelColl) {\n  uiModelColl.each(uiModel => {\n    const {\n      model\n    } = uiModel;\n    model.hasMultiDates = true;\n    uiModel.renderStarts = toStartOfDay(model.getStarts());\n    uiModel.renderEnds = toEndOfDay(model.getEnds());\n  });\n}\nfunction getUIModelForAlldayView(start, end, uiModelColl) {\n  if (!uiModelColl || !uiModelColl.size) {\n    return [];\n  }\n  _addMultiDatesInfo(uiModelColl);\n  limitRenderRange(start, end, uiModelColl);\n  const uiModels = uiModelColl.sort(array.compare.event.asc);\n  const usingTravelTime = true;\n  const collisionGroups = getCollisionGroup(uiModels, usingTravelTime);\n  const matrices = getMatrices(uiModelColl, collisionGroups, usingTravelTime);\n  positionUIModels(start, end, matrices);\n  return matrices;\n}\nfunction findByDateRange(calendarData, condition) {\n  var _a, _b;\n  const {\n    start,\n    end,\n    panels,\n    andFilters = [],\n    options\n  } = condition;\n  const {\n    events,\n    idsOfDay\n  } = calendarData;\n  const hourStart = (_a = options == null ? void 0 : options.hourStart) != null ? _a : 0;\n  const hourEnd = (_b = options == null ? void 0 : options.hourEnd) != null ? _b : 24;\n  const filterFn = Collection.and(...[getEventInDateRangeFilter(start, end)].concat(andFilters));\n  const uiModelColl = convertToUIModel(events.filter(filterFn));\n  const group = uiModelColl.groupBy(filterByCategory);\n  return panels.reduce((acc, cur) => {\n    const {\n      name,\n      type\n    } = cur;\n    if (isNil(group[name])) {\n      return acc;\n    }\n    return __spreadProps(__spreadValues({}, acc), {\n      [name]: type === \"daygrid\" ? getUIModelForAlldayView(start, end, group[name]) : getUIModelForTimeView(idsOfDay, {\n        start,\n        end,\n        uiModelTimeColl: group[name],\n        hourStart,\n        hourEnd\n      })\n    });\n  }, {\n    milestone: [],\n    task: [],\n    allday: [],\n    time: {}\n  });\n}\nfunction limit(value, minArr, maxArr) {\n  const v2 = Math.max(value, ...minArr);\n  return Math.min(v2, ...maxArr);\n}\nfunction ratio(a2, b2, y2) {\n  return b2 * y2 / a2;\n}\nfunction isBetween$1(value, min2, max2) {\n  return min2 <= value && value <= max2;\n}\nconst EVENT_HEIGHT = 22;\nconst TOTAL_WIDTH = 100;\nfunction forEachMatrix3d(matrices, iteratee) {\n  matrices.forEach(matrix => {\n    matrix.forEach(row => {\n      row.forEach((value, index) => {\n        iteratee(value, index);\n      });\n    });\n  });\n}\nfunction isWithinHeight(containerHeight, eventHeight) {\n  return ({\n    top\n  }) => containerHeight >= top * eventHeight;\n}\nfunction isExceededHeight(containerHeight, eventHeight) {\n  return ({\n    top\n  }) => containerHeight < top * eventHeight;\n}\nfunction getExceedCount(uiModel, containerHeight, eventHeight) {\n  return uiModel.filter(isExceededHeight(containerHeight, eventHeight)).length;\n}\nconst getWeekendCount = row => row.filter(cell => isWeekend(cell.getDay())).length;\nfunction getGridWidthAndLeftPercentValues(row, narrowWeekend, totalWidth) {\n  const weekendCount = getWeekendCount(row);\n  const gridCellCount = row.length;\n  const isAllWeekend = weekendCount === gridCellCount;\n  const widthPerDay = totalWidth / (narrowWeekend && !isAllWeekend ? gridCellCount * 2 - weekendCount : gridCellCount);\n  const widthList = row.map(cell => {\n    const day = cell.getDay();\n    if (!narrowWeekend || isAllWeekend) {\n      return widthPerDay;\n    }\n    return isWeekend(day) ? widthPerDay : widthPerDay * 2;\n  });\n  const leftList = widthList.reduce((acc, _2, index) => index ? [...acc, acc[index - 1] + widthList[index - 1]] : [0], []);\n  return {\n    widthList,\n    leftList\n  };\n}\nfunction getWidth(widthList, start, end) {\n  return widthList.reduce((acc, width, index) => {\n    if (start <= index && index <= end) {\n      return acc + width;\n    }\n    return acc;\n  }, 0);\n}\nconst isInGrid = gridDate => {\n  return uiModel => {\n    const eventStart = toStartOfDay(uiModel.getStarts());\n    const eventEnd = toStartOfDay(uiModel.getEnds());\n    return eventStart <= gridDate && gridDate <= eventEnd;\n  };\n};\nfunction getGridDateIndex(date2, row) {\n  return row.findIndex(cell => date2 >= toStartOfDay(cell) && date2 <= toEndOfDay(cell));\n}\nconst getLeftAndWidth = (startIndex, endIndex, row, narrowWeekend) => {\n  const {\n    widthList\n  } = getGridWidthAndLeftPercentValues(row, narrowWeekend, TOTAL_WIDTH);\n  return {\n    left: !startIndex ? 0 : getWidth(widthList, 0, startIndex - 1),\n    width: getWidth(widthList, startIndex != null ? startIndex : 0, endIndex < 0 ? row.length - 1 : endIndex)\n  };\n};\nconst getEventLeftAndWidth = (start, end, row, narrowWeekend) => {\n  const {\n    widthList\n  } = getGridWidthAndLeftPercentValues(row, narrowWeekend, TOTAL_WIDTH);\n  let gridStartIndex = 0;\n  let gridEndIndex = row.length - 1;\n  row.forEach((cell, index) => {\n    if (cell <= start) {\n      gridStartIndex = index;\n    }\n    if (cell <= end) {\n      gridEndIndex = index;\n    }\n  });\n  return {\n    width: getWidth(widthList, gridStartIndex, gridEndIndex),\n    left: !gridStartIndex ? 0 : getWidth(widthList, 0, gridStartIndex - 1)\n  };\n};\nfunction getEventUIModelWithPosition(uiModel, row, narrowWeekend = false) {\n  const modelStart = uiModel.getStarts();\n  const modelEnd = uiModel.getEnds();\n  const {\n    width,\n    left\n  } = getEventLeftAndWidth(modelStart, modelEnd, row, narrowWeekend);\n  uiModel.width = width;\n  uiModel.left = left;\n  return uiModel;\n}\nfunction getRenderedEventUIModels(row, calendarData, narrowWeekend) {\n  const {\n    idsOfDay\n  } = calendarData;\n  const eventUIModels = findByDateRange$1(calendarData, {\n    start: row[0],\n    end: toEndOfDay(row[row.length - 1])\n  });\n  const idEventModelMap = [];\n  forEachMatrix3d(eventUIModels, uiModel => {\n    const cid = uiModel.model.cid();\n    idEventModelMap[cid] = getEventUIModelWithPosition(uiModel, row, narrowWeekend);\n  });\n  const gridDateEventModelMap = Object.keys(idsOfDay).reduce((acc, ymd) => {\n    const ids = idsOfDay[ymd];\n    acc[ymd] = ids.map(cid => idEventModelMap[cid]).filter(vm => !!vm);\n    return acc;\n  }, {});\n  return {\n    uiModels: Object.values(idEventModelMap),\n    gridDateEventModelMap\n  };\n}\nconst getDayGridEventModels = (eventModels, row, narrowWeekend = false) => {\n  forEachMatrix3d(eventModels, uiModel => {\n    const modelStart = uiModel.getStarts();\n    const modelEnd = uiModel.getEnds();\n    const {\n      width,\n      left\n    } = getEventLeftAndWidth(modelStart, modelEnd, row, narrowWeekend);\n    uiModel.width = width;\n    uiModel.left = left;\n    uiModel.top += 1;\n  });\n  return flattenMatrix3d(eventModels);\n};\nconst getModels = models => models.filter(model => !!model);\nfunction flattenMatrix3d(matrices) {\n  return matrices.flatMap(matrix => matrix.flatMap(models => getModels(models)));\n}\nconst getTimeGridEventModels = eventMatrix => Array.from(new Set(Object.values(eventMatrix).reduce((result, matrix3d) => result.concat(...flattenMatrix3d(matrix3d)), [])));\nconst getWeekViewEvents = (row, calendarData, {\n  narrowWeekend,\n  hourStart,\n  hourEnd,\n  weekStartDate,\n  weekEndDate\n}) => {\n  const panels = [{\n    name: \"milestone\",\n    type: \"daygrid\",\n    show: true\n  }, {\n    name: \"task\",\n    type: \"daygrid\",\n    show: true\n  }, {\n    name: \"allday\",\n    type: \"daygrid\",\n    show: true\n  }, {\n    name: \"time\",\n    type: \"timegrid\",\n    show: true\n  }];\n  const eventModels = findByDateRange(calendarData, {\n    start: weekStartDate,\n    end: weekEndDate,\n    panels,\n    andFilters: [],\n    options: {\n      hourStart,\n      hourEnd\n    }\n  });\n  return Object.keys(eventModels).reduce((acc, cur) => {\n    const events = eventModels[cur];\n    return __spreadProps(__spreadValues({}, acc), {\n      [cur]: Array.isArray(events) ? getDayGridEventModels(events, row, narrowWeekend) : getTimeGridEventModels(events)\n    });\n  }, {\n    milestone: [],\n    allday: [],\n    task: [],\n    time: []\n  });\n};\nfunction createDateMatrixOfMonth(renderTargetDate, {\n  workweek = false,\n  visibleWeeksCount = 0,\n  startDayOfWeek = 0,\n  isAlways6Weeks = true\n}) {\n  const targetDate = new TZDate(renderTargetDate);\n  const shouldApplyVisibleWeeksCount = visibleWeeksCount > 0;\n  const baseDate = shouldApplyVisibleWeeksCount ? targetDate : toStartOfMonth(targetDate);\n  const firstDateOfMatrix = subtractDate(baseDate, baseDate.getDay() - startDayOfWeek + (baseDate.getDay() < startDayOfWeek ? WEEK_DAYS : 0));\n  const dayOfFirstDateOfMatrix = firstDateOfMatrix.getDay();\n  const totalDatesCountOfMonth = toEndOfMonth(targetDate).getDate();\n  const initialDifference = getDateDifference(firstDateOfMatrix, baseDate);\n  const totalDatesOfMatrix = totalDatesCountOfMonth + Math.abs(initialDifference);\n  let totalWeeksOfMatrix = DEFAULT_VISIBLE_WEEKS;\n  if (shouldApplyVisibleWeeksCount) {\n    totalWeeksOfMatrix = visibleWeeksCount;\n  } else if (isAlways6Weeks === false) {\n    totalWeeksOfMatrix = Math.ceil(totalDatesOfMatrix / WEEK_DAYS);\n  }\n  return range_1(0, totalWeeksOfMatrix).map(weekIndex => range_1(0, WEEK_DAYS).reduce((weekRow, dayOfWeek) => {\n    const steps = weekIndex * WEEK_DAYS + dayOfWeek;\n    const currentDay = (steps + dayOfFirstDateOfMatrix) % WEEK_DAYS;\n    if (!workweek || workweek && !isWeekend(currentDay)) {\n      const date2 = addDate(firstDateOfMatrix, steps);\n      weekRow.push(date2);\n    }\n    return weekRow;\n  }, []));\n}\nfunction getWeekDates(renderDate, {\n  startDayOfWeek = Day$2.SUN,\n  workweek\n}) {\n  const now = toStartOfDay(renderDate);\n  const nowDay = now.getDay();\n  const prevDateCount = nowDay - startDayOfWeek;\n  const weekDayList = prevDateCount >= 0 ? range_1(-prevDateCount, WEEK_DAYS - prevDateCount) : range_1(-WEEK_DAYS - prevDateCount, -prevDateCount);\n  return weekDayList.reduce((acc, day) => {\n    const date2 = addDate(now, day);\n    if (workweek && isWeekend(date2.getDay())) {\n      return acc;\n    }\n    acc.push(date2);\n    return acc;\n  }, []);\n}\nfunction getColumnsData(datesOfWeek, narrowWeekend = false) {\n  const datesCount = datesOfWeek.length;\n  const shouldApplyNarrowWeekend = datesCount > 5 && narrowWeekend;\n  const defaultWidthByColumns = shouldApplyNarrowWeekend ? 100 / (datesCount - 1) : 100 / datesCount;\n  return datesOfWeek.map(date2 => {\n    const width = shouldApplyNarrowWeekend && isWeekend(date2.getDay()) ? defaultWidthByColumns / 2 : defaultWidthByColumns;\n    return {\n      date: date2,\n      width\n    };\n  }).reduce((result, currentDateAndWidth, index) => {\n    const prev = result[index - 1];\n    result.push(__spreadProps(__spreadValues({}, currentDateAndWidth), {\n      left: index === 0 ? 0 : prev.left + prev.width\n    }));\n    return result;\n  }, []);\n}\nfunction createTimeGridData(datesOfWeek, options) {\n  var _a;\n  const columns = getColumnsData(datesOfWeek, (_a = options.narrowWeekend) != null ? _a : false);\n  const steps = (options.hourEnd - options.hourStart) * 2;\n  const baseHeight = 100 / steps;\n  const rows = range_1(steps).map((step, index) => {\n    const isOdd = index % 2 === 1;\n    const hour = options.hourStart + Math.floor(step / 2);\n    const startTime = `${hour}:${isOdd ? \"30\" : \"00\"}`.padStart(5, \"0\");\n    const endTime = (isOdd ? `${hour + 1}:00` : `${hour}:30`).padStart(5, \"0\");\n    return {\n      top: baseHeight * index,\n      height: baseHeight,\n      startTime,\n      endTime\n    };\n  });\n  return {\n    columns,\n    rows\n  };\n}\nfunction getRelativeMousePosition({\n  clientX,\n  clientY\n}, {\n  left,\n  top,\n  clientLeft,\n  clientTop\n}) {\n  return [clientX - left - clientLeft, clientY - top - clientTop];\n}\nfunction getIndexFromPosition(arrayLength, maxRange, currentPosition) {\n  const calculatedIndex = Math.floor(ratio(maxRange, arrayLength, currentPosition));\n  return limit(calculatedIndex, [0], [arrayLength - 1]);\n}\nfunction createGridPositionFinder({\n  rowsCount,\n  columnsCount,\n  container,\n  narrowWeekend = false,\n  startDayOfWeek = Day$2.SUN\n}) {\n  if (isNil(container)) {\n    return () => null;\n  }\n  const dayRange = range_1(startDayOfWeek, startDayOfWeek + columnsCount).map(day => day % WEEK_DAYS);\n  const narrowColumnCount = narrowWeekend ? dayRange.filter(day => isWeekend(day)).length : 0;\n  return function gridPositionFinder(mousePosition) {\n    const {\n      left: containerLeft,\n      top: containerTop,\n      width: containerWidth,\n      height: containerHeight\n    } = container.getBoundingClientRect();\n    const [left, top] = getRelativeMousePosition(mousePosition, {\n      left: containerLeft,\n      top: containerTop,\n      clientLeft: container.clientLeft,\n      clientTop: container.clientTop\n    });\n    if (left < 0 || top < 0 || left > containerWidth || top > containerHeight) {\n      return null;\n    }\n    const unitWidth = narrowWeekend ? containerWidth / (columnsCount - narrowColumnCount + 1) : containerWidth / columnsCount;\n    const columnWidthList = dayRange.map(dayOfWeek => narrowWeekend && isWeekend(dayOfWeek) ? unitWidth / 2 : unitWidth);\n    const columnLeftList = [];\n    columnWidthList.forEach((width, index) => {\n      if (index === 0) {\n        columnLeftList.push(0);\n      } else {\n        columnLeftList.push(columnLeftList[index - 1] + columnWidthList[index - 1]);\n      }\n    });\n    const columnIndex = findLastIndex(columnLeftList, columnLeft => left >= columnLeft);\n    return {\n      columnIndex,\n      rowIndex: getIndexFromPosition(rowsCount, containerHeight, top)\n    };\n  };\n}\nfunction commonGridSelectionSelector(theme) {\n  return theme.common.gridSelection;\n}\nfunction GridSelection$1({\n  type,\n  gridSelectionData,\n  weekDates,\n  narrowWeekend\n}) {\n  const {\n    backgroundColor,\n    border\n  } = useTheme(commonGridSelectionSelector);\n  const {\n    startCellIndex,\n    endCellIndex\n  } = gridSelectionData;\n  const {\n    left,\n    width\n  } = getLeftAndWidth(Math.min(startCellIndex, endCellIndex), Math.max(startCellIndex, endCellIndex), weekDates, narrowWeekend);\n  const style = {\n    left: toPercent(left),\n    width: toPercent(width),\n    height: toPercent(100),\n    backgroundColor,\n    border\n  };\n  return width > 0 ? /* @__PURE__ */h$3(\"div\", {\n    className: cls(type, \"grid-selection\"),\n    style\n  }) : null;\n}\nfunction createSortedGridSelection(initPos, currentPos, isReversed) {\n  return {\n    startColumnIndex: isReversed ? currentPos.columnIndex : initPos.columnIndex,\n    startRowIndex: isReversed ? currentPos.rowIndex : initPos.rowIndex,\n    endColumnIndex: isReversed ? initPos.columnIndex : currentPos.columnIndex,\n    endRowIndex: isReversed ? initPos.rowIndex : currentPos.rowIndex\n  };\n}\nfunction calculateTimeGridSelectionByCurrentIndex(timeGridSelection, columnIndex, maxRowIndex) {\n  if (isNil(timeGridSelection)) {\n    return null;\n  }\n  const {\n    startColumnIndex,\n    endColumnIndex,\n    endRowIndex,\n    startRowIndex\n  } = timeGridSelection;\n  if (!isBetween$1(columnIndex, startColumnIndex, endColumnIndex)) {\n    return null;\n  }\n  const hasMultipleColumns = startColumnIndex !== endColumnIndex;\n  const isStartingColumn = columnIndex === startColumnIndex;\n  const resultGridSelection = {\n    startRowIndex,\n    endRowIndex,\n    isSelectingMultipleColumns: hasMultipleColumns,\n    isStartingColumn\n  };\n  if (startColumnIndex < columnIndex && columnIndex < endColumnIndex) {\n    resultGridSelection.startRowIndex = 0;\n    resultGridSelection.endRowIndex = maxRowIndex;\n  } else if (startColumnIndex !== endColumnIndex) {\n    if (startColumnIndex === columnIndex) {\n      resultGridSelection.endRowIndex = maxRowIndex;\n    } else if (endColumnIndex === columnIndex) {\n      resultGridSelection.startRowIndex = 0;\n    }\n  }\n  return resultGridSelection;\n}\nconst timeGridSelectionHelper = {\n  sortSelection: (initPos, currentPos) => {\n    const isReversed = initPos.columnIndex > currentPos.columnIndex || initPos.columnIndex === currentPos.columnIndex && initPos.rowIndex > currentPos.rowIndex;\n    return createSortedGridSelection(initPos, currentPos, isReversed);\n  },\n  getDateFromCollection: (dateCollection, gridSelection) => {\n    const timeGridData = dateCollection;\n    const startDate = setTimeStrToDate(timeGridData.columns[gridSelection.startColumnIndex].date, timeGridData.rows[gridSelection.startRowIndex].startTime);\n    const endDate = setTimeStrToDate(timeGridData.columns[gridSelection.endColumnIndex].date, timeGridData.rows[gridSelection.endRowIndex].endTime);\n    return [startDate, endDate];\n  },\n  calculateSelection: calculateTimeGridSelectionByCurrentIndex\n};\nfunction calculateDayGridMonthSelectionByCurrentIndex(gridSelection, currentIndex, weekLength) {\n  if (!(isPresent(gridSelection) && isPresent(currentIndex) && isPresent(weekLength))) {\n    return null;\n  }\n  const {\n    startRowIndex,\n    startColumnIndex,\n    endRowIndex,\n    endColumnIndex\n  } = gridSelection;\n  if (!isBetween$1(currentIndex, Math.min(startRowIndex, endRowIndex), Math.max(startRowIndex, endRowIndex))) {\n    return null;\n  }\n  let startCellIndex = startColumnIndex;\n  let endCellIndex = endColumnIndex;\n  if (startRowIndex < currentIndex) {\n    startCellIndex = 0;\n  }\n  if (endRowIndex > currentIndex) {\n    endCellIndex = weekLength - 1;\n  }\n  return {\n    startCellIndex,\n    endCellIndex\n  };\n}\nconst dayGridMonthSelectionHelper = {\n  sortSelection: (initPos, currentPos) => {\n    const isReversed = initPos.rowIndex > currentPos.rowIndex || initPos.rowIndex === currentPos.rowIndex && initPos.columnIndex > currentPos.columnIndex;\n    return createSortedGridSelection(initPos, currentPos, isReversed);\n  },\n  getDateFromCollection: (dateCollection, gridSelection) => {\n    const dateMatrix = dateCollection;\n    return [dateMatrix[gridSelection.startRowIndex][gridSelection.startColumnIndex], dateMatrix[gridSelection.endRowIndex][gridSelection.endColumnIndex]];\n  },\n  calculateSelection: calculateDayGridMonthSelectionByCurrentIndex\n};\nfunction calculateAlldayGridRowSelectionByCurrentIndex(gridSelection) {\n  return isPresent(gridSelection) ? {\n    startCellIndex: gridSelection.startColumnIndex,\n    endCellIndex: gridSelection.endColumnIndex\n  } : null;\n}\nconst alldayGridRowSelectionHelper = {\n  sortSelection: (initPos, currentPos) => {\n    const isReversed = initPos.columnIndex > currentPos.columnIndex;\n    return createSortedGridSelection(initPos, currentPos, isReversed);\n  },\n  getDateFromCollection: (dateCollection, gridSelection) => {\n    const weekDates = dateCollection;\n    return [weekDates[gridSelection.startColumnIndex], weekDates[gridSelection.endColumnIndex]];\n  },\n  calculateSelection: calculateAlldayGridRowSelectionByCurrentIndex\n};\nfunction dayGridWeekSelectionSelector(state) {\n  return alldayGridRowSelectionHelper.calculateSelection(state.gridSelection.dayGridWeek);\n}\nfunction AlldayGridSelection({\n  weekDates,\n  narrowWeekend\n}) {\n  const calculatedGridSelection = useStore(dayGridWeekSelectionSelector);\n  if (isNil(calculatedGridSelection)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(GridSelection$1, {\n    type: \"allday\",\n    gridSelectionData: calculatedGridSelection,\n    weekDates,\n    narrowWeekend\n  });\n}\nfunction S(n2, t2) {\n  for (var e2 in t2) n2[e2] = t2[e2];\n  return n2;\n}\nfunction C(n2, t2) {\n  for (var e2 in n2) if (e2 !== \"__source\" && !(e2 in t2)) return true;\n  for (var r2 in t2) if (r2 !== \"__source\" && n2[r2] !== t2[r2]) return true;\n  return false;\n}\nfunction E(n2) {\n  this.props = n2;\n}\nfunction g$1(n2, t2) {\n  function e2(n3) {\n    var e3 = this.props.ref,\n      r3 = e3 == n3.ref;\n    return !r3 && e3 && (e3.call ? e3(null) : e3.current = null), t2 ? !t2(this.props, n3) || !r3 : C(this.props, n3);\n  }\n  function r2(t3) {\n    return this.shouldComponentUpdate = e2, h$3(n2, t3);\n  }\n  return r2.displayName = \"Memo(\" + (n2.displayName || n2.name) + \")\", r2.prototype.isReactComponent = true, r2.__f = true, r2;\n}\n(E.prototype = new d$3()).isPureReactComponent = true, E.prototype.shouldComponentUpdate = function (n2, t2) {\n  return C(this.props, n2) || C(this.state, t2);\n};\nvar w = l$3.__b;\nl$3.__b = function (n2) {\n  n2.type && n2.type.__f && n2.ref && (n2.props.ref = n2.ref, n2.ref = null), w && w(n2);\n};\nvar x$1 = typeof Symbol != \"undefined\" && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction R(n2) {\n  function t2(t3) {\n    var e2 = S({}, t3);\n    return delete e2.ref, n2(e2, t3.ref || null);\n  }\n  return t2.$$typeof = x$1, t2.render = t2, t2.prototype.isReactComponent = t2.__f = true, t2.displayName = \"ForwardRef(\" + (n2.displayName || n2.name) + \")\", t2;\n}\nvar A = l$3.__e;\nl$3.__e = function (n2, t2, e2, r2) {\n  if (n2.then) {\n    for (var u2, o2 = t2; o2 = o2.__;) if ((u2 = o2.__c) && u2.__c) return t2.__e == null && (t2.__e = e2.__e, t2.__k = e2.__k), u2.__c(n2, t2);\n  }\n  A(n2, t2, e2, r2);\n};\nvar O = l$3.unmount;\nfunction T() {\n  this.__u = 0, this.t = null, this.__b = null;\n}\nfunction L(n2) {\n  var t2 = n2.__.__c;\n  return t2 && t2.__a && t2.__a(n2);\n}\nfunction D() {\n  this.u = null, this.o = null;\n}\nl$3.unmount = function (n2) {\n  var t2 = n2.__c;\n  t2 && t2.__R && t2.__R(), t2 && n2.__h === true && (n2.type = null), O && O(n2);\n}, (T.prototype = new d$3()).__c = function (n2, t2) {\n  var e2 = t2.__c,\n    r2 = this;\n  r2.t == null && (r2.t = []), r2.t.push(e2);\n  var u2 = L(r2.__v),\n    o2 = false,\n    i2 = function () {\n      o2 || (o2 = true, e2.__R = null, u2 ? u2(l2) : l2());\n    };\n  e2.__R = i2;\n  var l2 = function () {\n      if (! --r2.__u) {\n        if (r2.state.__a) {\n          var n3 = r2.state.__a;\n          r2.__v.__k[0] = function n4(t4, e3, r3) {\n            return t4 && (t4.__v = null, t4.__k = t4.__k && t4.__k.map(function (t5) {\n              return n4(t5, e3, r3);\n            }), t4.__c && t4.__c.__P === e3 && (t4.__e && r3.insertBefore(t4.__e, t4.__d), t4.__c.__e = true, t4.__c.__P = r3)), t4;\n          }(n3, n3.__c.__P, n3.__c.__O);\n        }\n        var t3;\n        for (r2.setState({\n          __a: r2.__b = null\n        }); t3 = r2.t.pop();) t3.forceUpdate();\n      }\n    },\n    f2 = t2.__h === true;\n  r2.__u++ || f2 || r2.setState({\n    __a: r2.__b = r2.__v.__k[0]\n  }), n2.then(i2, i2);\n}, T.prototype.componentWillUnmount = function () {\n  this.t = [];\n}, T.prototype.render = function (n2, t2) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var e2 = document.createElement(\"div\"),\n        r2 = this.__v.__k[0].__c;\n      this.__v.__k[0] = function n3(t3, e3, r3) {\n        return t3 && (t3.__c && t3.__c.__H && (t3.__c.__H.__.forEach(function (n4) {\n          typeof n4.__c == \"function\" && n4.__c();\n        }), t3.__c.__H = null), (t3 = S({}, t3)).__c != null && (t3.__c.__P === r3 && (t3.__c.__P = e3), t3.__c = null), t3.__k = t3.__k && t3.__k.map(function (t4) {\n          return n3(t4, e3, r3);\n        })), t3;\n      }(this.__b, e2, r2.__O = r2.__P);\n    }\n    this.__b = null;\n  }\n  var u2 = t2.__a && h$3(p$3, null, n2.fallback);\n  return u2 && (u2.__h = null), [h$3(p$3, null, t2.__a ? null : n2.children), u2];\n};\nvar F = function (n2, t2, e2) {\n  if (++e2[1] === e2[0] && n2.o.delete(t2), n2.props.revealOrder && (n2.props.revealOrder[0] !== \"t\" || !n2.o.size)) for (e2 = n2.u; e2;) {\n    for (; e2.length > 3;) e2.pop()();\n    if (e2[1] < e2[0]) break;\n    n2.u = e2 = e2[2];\n  }\n};\nfunction I(n2) {\n  return this.getChildContext = function () {\n    return n2.context;\n  }, n2.children;\n}\nfunction M(n2) {\n  var t2 = this,\n    e2 = n2.i;\n  t2.componentWillUnmount = function () {\n    P$2(null, t2.l), t2.l = null, t2.i = null;\n  }, t2.i && t2.i !== e2 && t2.componentWillUnmount(), n2.__v ? (t2.l || (t2.i = e2, t2.l = {\n    nodeType: 1,\n    parentNode: e2,\n    childNodes: [],\n    appendChild: function (n3) {\n      this.childNodes.push(n3), t2.i.appendChild(n3);\n    },\n    insertBefore: function (n3, e3) {\n      this.childNodes.push(n3), t2.i.appendChild(n3);\n    },\n    removeChild: function (n3) {\n      this.childNodes.splice(this.childNodes.indexOf(n3) >>> 1, 1), t2.i.removeChild(n3);\n    }\n  }), P$2(h$3(I, {\n    context: t2.context\n  }, n2.__v), t2.l)) : t2.l && t2.componentWillUnmount();\n}\nfunction V(n2, t2) {\n  var e2 = h$3(M, {\n    __v: n2,\n    i: t2\n  });\n  return e2.containerInfo = t2, e2;\n}\n(D.prototype = new d$3()).__a = function (n2) {\n  var t2 = this,\n    e2 = L(t2.__v),\n    r2 = t2.o.get(n2);\n  return r2[0]++, function (u2) {\n    var o2 = function () {\n      t2.props.revealOrder ? (r2.push(u2), F(t2, n2, r2)) : u2();\n    };\n    e2 ? e2(o2) : o2();\n  };\n}, D.prototype.render = function (n2) {\n  this.u = null, this.o = /* @__PURE__ */new Map();\n  var t2 = x$3(n2.children);\n  n2.revealOrder && n2.revealOrder[0] === \"b\" && t2.reverse();\n  for (var e2 = t2.length; e2--;) this.o.set(t2[e2], this.u = [1, 0, this.u]);\n  return n2.children;\n}, D.prototype.componentDidUpdate = D.prototype.componentDidMount = function () {\n  var n2 = this;\n  this.o.forEach(function (t2, e2) {\n    F(n2, e2, t2);\n  });\n};\nvar W = typeof Symbol != \"undefined\" && Symbol.for && Symbol.for(\"react.element\") || 60103,\n  P = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,\n  $ = typeof document != \"undefined\",\n  j = function (n2) {\n    return (typeof Symbol != \"undefined\" && typeof Symbol() == \"symbol\" ? /fil|che|rad/i : /fil|che|ra/i).test(n2);\n  };\nd$3.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function (n2) {\n  Object.defineProperty(d$3.prototype, n2, {\n    configurable: true,\n    get: function () {\n      return this[\"UNSAFE_\" + n2];\n    },\n    set: function (t2) {\n      Object.defineProperty(this, n2, {\n        configurable: true,\n        writable: true,\n        value: t2\n      });\n    }\n  });\n});\nvar H = l$3.event;\nfunction Z() {}\nfunction Y() {\n  return this.cancelBubble;\n}\nfunction q() {\n  return this.defaultPrevented;\n}\nl$3.event = function (n2) {\n  return H && (n2 = H(n2)), n2.persist = Z, n2.isPropagationStopped = Y, n2.isDefaultPrevented = q, n2.nativeEvent = n2;\n};\nvar J = {\n    configurable: true,\n    get: function () {\n      return this.class;\n    }\n  },\n  K = l$3.vnode;\nl$3.vnode = function (n2) {\n  var t2 = n2.type,\n    e2 = n2.props,\n    r2 = e2;\n  if (typeof t2 == \"string\") {\n    var u2 = t2.indexOf(\"-\") === -1;\n    for (var o2 in r2 = {}, e2) {\n      var i2 = e2[o2];\n      $ && o2 === \"children\" && t2 === \"noscript\" || o2 === \"value\" && \"defaultValue\" in e2 && i2 == null || (o2 === \"defaultValue\" && \"value\" in e2 && e2.value == null ? o2 = \"value\" : o2 === \"download\" && i2 === true ? i2 = \"\" : /ondoubleclick/i.test(o2) ? o2 = \"ondblclick\" : /^onchange(textarea|input)/i.test(o2 + t2) && !j(e2.type) ? o2 = \"oninput\" : /^onfocus$/i.test(o2) ? o2 = \"onfocusin\" : /^onblur$/i.test(o2) ? o2 = \"onfocusout\" : /^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o2) ? o2 = o2.toLowerCase() : u2 && P.test(o2) ? o2 = o2.replace(/[A-Z0-9]/, \"-$&\").toLowerCase() : i2 === null && (i2 = void 0), /^oninput$/i.test(o2) && (o2 = o2.toLowerCase(), r2[o2] && (o2 = \"oninputCapture\")), r2[o2] = i2);\n    }\n    t2 == \"select\" && r2.multiple && Array.isArray(r2.value) && (r2.value = x$3(e2.children).forEach(function (n3) {\n      n3.props.selected = r2.value.indexOf(n3.props.value) != -1;\n    })), t2 == \"select\" && r2.defaultValue != null && (r2.value = x$3(e2.children).forEach(function (n3) {\n      n3.props.selected = r2.multiple ? r2.defaultValue.indexOf(n3.props.value) != -1 : r2.defaultValue == n3.props.value;\n    })), n2.props = r2, e2.class != e2.className && (J.enumerable = \"className\" in e2, e2.className != null && (r2.class = e2.className), Object.defineProperty(r2, \"className\", J));\n  }\n  n2.$$typeof = W, K && K(n2);\n};\nvar Q = l$3.__r;\nl$3.__r = function (n2) {\n  Q && Q(n2), n2.__c;\n};\nfunction un(n2) {\n  return !!n2.__k && (P$2(null, n2), true);\n}\nfunction ExceedCount({\n  index,\n  exceedCount,\n  isClicked,\n  onClickExceedCount\n}) {\n  const clickExceedCount = () => onClickExceedCount(index);\n  const style = {\n    display: isClicked ? \"none\" : \"\"\n  };\n  return exceedCount && !isClicked ? /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"weekday-exceed-in-week\"),\n    onClick: clickExceedCount,\n    style\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"weekGridFooterExceed\",\n    param: exceedCount\n  })) : null;\n}\nfunction CollapseButton({\n  isClicked,\n  isClickedIndex,\n  onClickCollapseButton\n}) {\n  return isClicked && isClickedIndex ? /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"weekday-exceed-in-week\"),\n    onClick: onClickCollapseButton\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"collapseBtnTitle\"\n  })) : null;\n}\nfunction GridCell$1({\n  width,\n  left,\n  index,\n  exceedCount,\n  isClicked,\n  onClickExceedCount,\n  isClickedIndex,\n  onClickCollapseButton,\n  isLastCell\n}) {\n  const {\n    borderRight,\n    backgroundColor\n  } = useTheme(T$1(theme => theme.week.dayGrid, []));\n  const style = {\n    width,\n    left,\n    borderRight: isLastCell ? \"none\" : borderRight,\n    backgroundColor\n  };\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-grid\"),\n    style\n  }, /* @__PURE__ */h$3(ExceedCount, {\n    index,\n    exceedCount,\n    isClicked,\n    onClickExceedCount\n  }), /* @__PURE__ */h$3(CollapseButton, {\n    isClickedIndex,\n    isClicked,\n    onClickCollapseButton\n  }));\n}\nconst GridCells = g$1(function GridCells2({\n  uiModels,\n  weekDates,\n  narrowWeekend,\n  height,\n  clickedIndex,\n  isClickedCount,\n  onClickExceedCount,\n  onClickCollapseButton\n}) {\n  const eventTopMargin = 2;\n  const {\n    widthList,\n    leftList\n  } = getGridWidthAndLeftPercentValues(weekDates, narrowWeekend, TOTAL_WIDTH);\n  const lastCellIndex = weekDates.length - 1;\n  return /* @__PURE__ */h$3(p$3, null, weekDates.map((cell, index) => {\n    const width = toPercent(widthList[index]);\n    const left = toPercent(leftList[index]);\n    const uiModelsInCell = uiModels.filter(isInGrid(cell));\n    const exceedCount = getExceedCount(uiModelsInCell, height, EVENT_HEIGHT + eventTopMargin);\n    const isClickedIndex = index === clickedIndex;\n    const isLastCell = index === lastCellIndex;\n    return /* @__PURE__ */h$3(GridCell$1, {\n      key: `panel-grid-${cell.getDate()}`,\n      width,\n      left,\n      index,\n      exceedCount,\n      isClicked: isClickedCount,\n      onClickExceedCount,\n      isClickedIndex,\n      onClickCollapseButton,\n      isLastCell\n    });\n  }));\n});\nfunction HorizontalEventResizeIcon({\n  onMouseDown\n}) {\n  return /* @__PURE__ */h$3(\"span\", {\n    className: `${cls(\"weekday-resize-handle\")} ${cls(\"handle-y\")}`,\n    onMouseDown,\n    \"data-testid\": \"horizontal-event-resize-icon\"\n  }, /* @__PURE__ */h$3(\"i\", {\n    className: `${cls(\"icon\")} ${cls(\"ic-handle-y\")}`\n  }));\n}\nconst LayoutContainerContext = B$1(null);\nconst LayoutContainerProvider = LayoutContainerContext.Provider;\nconst useLayoutContainer = () => {\n  const ref = q$2(LayoutContainerContext);\n  if (isUndefined_1(ref)) {\n    throw new Error(\"LayoutContainerProvider is not found\");\n  }\n  return ref;\n};\nconst DRAGGING_TYPE_CONSTANTS = {\n  panelResizer: \"panelResizer\"\n};\nconst DRAGGING_TYPE_CREATORS = {\n  resizeEvent: (area, id) => `event/${area}/resize/${id}`,\n  moveEvent: (area, id) => `event/${area}/move/${id}`,\n  gridSelection: type => `gridSelection/${type}`\n};\nfunction useCalendarById(calendarId) {\n  return useStore(T$1(state => state.calendar.calendars.find(cal => cal.id === calendarId), [calendarId]));\n}\nfunction useCalendarColor(model) {\n  var _a;\n  const calendar = useCalendarById((_a = model == null ? void 0 : model.calendarId) != null ? _a : null);\n  return F$2(() => ({\n    color: calendar == null ? void 0 : calendar.color,\n    borderColor: calendar == null ? void 0 : calendar.borderColor,\n    backgroundColor: calendar == null ? void 0 : calendar.backgroundColor,\n    dragBackgroundColor: calendar == null ? void 0 : calendar.dragBackgroundColor\n  }), [calendar]);\n}\nvar KEY = /* @__PURE__ */(KEY2 => {\n  KEY2[\"ESCAPE\"] = \"Escape\";\n  return KEY2;\n})(KEY || {});\nconst KEYCODE = {\n  [\"Escape\"]: 27\n};\nconst MINIMUM_DRAG_MOUSE_DISTANCE = 3;\nfunction useTransientUpdate(selector, subscriber) {\n  const store = useInternalStore();\n  const selectorRef = s$2(selector);\n  const subscriberRef = s$2(subscriber);\n  _$2(() => {\n    selectorRef.current = selector;\n    subscriberRef.current = subscriber;\n  }, [selector, subscriber]);\n  _$2(() => store.subscribe(slice => subscriberRef.current(slice), state => selectorRef.current(state)), [selector, store]);\n}\nfunction isKeyPressed(e2, key) {\n  return e2.key ? e2.key === key : e2.keyCode === KEYCODE[key];\n}\nfunction isLeftClick(buttonNum) {\n  return buttonNum === 0;\n}\nfunction isMouseMoved(initX, initY, x2, y2) {\n  return Math.abs(initX - x2) >= MINIMUM_DRAG_MOUSE_DISTANCE || Math.abs(initY - y2) >= MINIMUM_DRAG_MOUSE_DISTANCE;\n}\nfunction useDrag(draggingItemType, {\n  onInit,\n  onDragStart,\n  onDrag,\n  onMouseUp,\n  onPressESCKey\n} = {}) {\n  const {\n    initDrag,\n    setDragging,\n    cancelDrag,\n    reset\n  } = useDispatch(\"dnd\");\n  const store = useInternalStore();\n  const dndSliceRef = s$2(store.getState().dnd);\n  useTransientUpdate(dndSelector, dndState => {\n    dndSliceRef.current = dndState;\n  });\n  const [isStarted, setStarted] = y$1(false);\n  const handleMouseMoveRef = s$2(null);\n  const handleMouseUpRef = s$2(null);\n  const handleKeyDownRef = s$2(null);\n  const handleMouseDown = T$1(e2 => {\n    if (!isLeftClick(e2.button)) {\n      return;\n    }\n    if (e2.currentTarget) {\n      e2.currentTarget.ondragstart = function () {\n        return false;\n      };\n    }\n    e2.preventDefault();\n    setStarted(true);\n    initDrag({\n      draggingItemType,\n      initX: e2.clientX,\n      initY: e2.clientY\n    });\n    onInit == null ? void 0 : onInit(e2, dndSliceRef.current);\n  }, [onInit, draggingItemType, initDrag]);\n  const handleMouseMove = T$1(e2 => {\n    const {\n      initX,\n      initY,\n      draggingState,\n      draggingItemType: currentDraggingItemType\n    } = dndSliceRef.current;\n    if (currentDraggingItemType !== draggingItemType) {\n      setStarted(false);\n      reset();\n      return;\n    }\n    if (isPresent(initX) && isPresent(initY) && !isMouseMoved(initX, initY, e2.clientX, e2.clientY)) {\n      return;\n    }\n    if (draggingState <= DraggingState.INIT) {\n      setDragging({\n        x: e2.clientX,\n        y: e2.clientY\n      });\n      onDragStart == null ? void 0 : onDragStart(e2, dndSliceRef.current);\n      return;\n    }\n    setDragging({\n      x: e2.clientX,\n      y: e2.clientY\n    });\n    onDrag == null ? void 0 : onDrag(e2, dndSliceRef.current);\n  }, [draggingItemType, onDrag, onDragStart, setDragging, reset]);\n  const handleMouseUp = T$1(e2 => {\n    e2.stopPropagation();\n    if (isStarted) {\n      onMouseUp == null ? void 0 : onMouseUp(e2, dndSliceRef.current);\n      setStarted(false);\n      reset();\n    }\n  }, [isStarted, onMouseUp, reset]);\n  const handleKeyDown = T$1(e2 => {\n    if (isKeyPressed(e2, KEY.ESCAPE)) {\n      setStarted(false);\n      cancelDrag();\n      onPressESCKey == null ? void 0 : onPressESCKey(e2, dndSliceRef.current);\n    }\n  }, [onPressESCKey, cancelDrag]);\n  _$2(() => {\n    handleMouseMoveRef.current = handleMouseMove;\n    handleMouseUpRef.current = handleMouseUp;\n    handleKeyDownRef.current = handleKeyDown;\n  }, [handleKeyDown, handleMouseMove, handleMouseUp]);\n  _$2(() => {\n    const wrappedHandleMouseMove = e2 => {\n      var _a;\n      return (_a = handleMouseMoveRef.current) == null ? void 0 : _a.call(handleMouseMoveRef, e2);\n    };\n    const wrappedHandleMouseUp = e2 => {\n      var _a;\n      return (_a = handleMouseUpRef.current) == null ? void 0 : _a.call(handleMouseUpRef, e2);\n    };\n    const wrappedHandleKeyDown = e2 => {\n      var _a;\n      return (_a = handleKeyDownRef.current) == null ? void 0 : _a.call(handleKeyDownRef, e2);\n    };\n    if (isStarted) {\n      document.addEventListener(\"mousemove\", wrappedHandleMouseMove);\n      document.addEventListener(\"mouseup\", wrappedHandleMouseUp);\n      document.addEventListener(\"keydown\", wrappedHandleKeyDown);\n      return () => {\n        document.removeEventListener(\"mousemove\", wrappedHandleMouseMove);\n        document.removeEventListener(\"mouseup\", wrappedHandleMouseUp);\n        document.removeEventListener(\"keydown\", wrappedHandleKeyDown);\n      };\n    }\n    return noop;\n  }, [isStarted, reset]);\n  return handleMouseDown;\n}\nfunction passConditionalProp(condition, prop) {\n  return condition ? prop : void 0;\n}\nfunction getMargins(flat) {\n  return {\n    vertical: flat ? 5 : 2,\n    horizontal: 8\n  };\n}\nfunction getBorderRadius(exceedLeft, exceedRight) {\n  const leftBorderRadius = exceedLeft ? 0 : \"2px\";\n  const rightBorderRadius = exceedRight ? 0 : \"2px\";\n  return `${leftBorderRadius} ${rightBorderRadius} ${rightBorderRadius} ${leftBorderRadius}`;\n}\nfunction getEventItemStyle({\n  uiModel,\n  flat,\n  eventHeight,\n  isDraggingTarget,\n  calendarColor\n}) {\n  const {\n    exceedLeft,\n    exceedRight\n  } = uiModel;\n  const {\n    color,\n    backgroundColor,\n    dragBackgroundColor,\n    borderColor\n  } = getEventColors(uiModel, calendarColor);\n  const defaultItemStyle = {\n    color,\n    backgroundColor: isDraggingTarget ? dragBackgroundColor : backgroundColor,\n    borderLeft: exceedLeft ? \"none\" : `3px solid ${borderColor}`,\n    borderRadius: getBorderRadius(exceedLeft, exceedRight),\n    overflow: \"hidden\",\n    height: eventHeight,\n    lineHeight: toPx(eventHeight),\n    opacity: isDraggingTarget ? 0.5 : 1\n  };\n  const margins = getMargins(flat);\n  return flat ? __spreadValues({\n    marginTop: margins.vertical\n  }, defaultItemStyle) : __spreadValues({\n    marginLeft: exceedLeft ? 0 : margins.horizontal,\n    marginRight: exceedRight ? 0 : margins.horizontal\n  }, defaultItemStyle);\n}\nfunction getContainerStyle({\n  flat,\n  uiModel,\n  resizingWidth,\n  movingLeft,\n  eventHeight,\n  headerHeight\n}) {\n  const {\n    top,\n    left,\n    width,\n    model\n  } = uiModel;\n  const margins = getMargins(flat);\n  const baseStyle = flat ? {} : {\n    width: resizingWidth || toPercent(width),\n    left: toPercent(movingLeft != null ? movingLeft : left),\n    top: (top - 1) * (eventHeight + margins.vertical) + headerHeight,\n    position: \"absolute\"\n  };\n  return Object.assign(baseStyle, model.customStyle);\n}\nfunction getTestId({\n  model\n}) {\n  const calendarId = model.calendarId ? `${model.calendarId}-` : \"\";\n  const id = model.id ? `${model.id}-` : \"\";\n  return `${calendarId}${id}${model.title}`;\n}\nconst classNames$k = {\n  eventBody: cls(\"weekday-event\"),\n  eventTitle: cls(\"weekday-event-title\"),\n  eventDot: cls(\"weekday-event-dot\"),\n  moveEvent: cls(\"dragging--move-event\"),\n  resizeEvent: cls(\"dragging--resize-horizontal-event\")\n};\nfunction HorizontalEvent({\n  flat = false,\n  uiModel,\n  eventHeight,\n  headerHeight,\n  resizingWidth = null,\n  movingLeft = null\n}) {\n  const {\n    currentView\n  } = useStore(viewSelector);\n  const {\n    useDetailPopup,\n    isReadOnly: isReadOnlyCalendar\n  } = useStore(optionsSelector);\n  const {\n    setDraggingEventUIModel\n  } = useDispatch(\"dnd\");\n  const {\n    showDetailPopup\n  } = useDispatch(\"popup\");\n  const layoutContainer = useLayoutContainer();\n  const eventBus = useEventBus();\n  const calendarColor = useCalendarColor(uiModel.model);\n  const [isDraggingTarget, setIsDraggingTarget] = y$1(false);\n  const eventContainerRef = s$2(null);\n  const {\n    isReadOnly,\n    id,\n    calendarId\n  } = uiModel.model;\n  const isDraggableEvent2 = !isReadOnlyCalendar && !isReadOnly && isNil(resizingWidth) && isNil(movingLeft);\n  const startDragEvent = className2 => {\n    setDraggingEventUIModel(uiModel);\n    layoutContainer == null ? void 0 : layoutContainer.classList.add(className2);\n  };\n  const endDragEvent = className2 => {\n    setIsDraggingTarget(false);\n    layoutContainer == null ? void 0 : layoutContainer.classList.remove(className2);\n  };\n  useTransientUpdate(dndSelector, ({\n    draggingEventUIModel,\n    draggingState\n  }) => {\n    if (draggingState === DraggingState.DRAGGING && (draggingEventUIModel == null ? void 0 : draggingEventUIModel.cid()) === uiModel.cid() && isNil(resizingWidth) && isNil(movingLeft)) {\n      setIsDraggingTarget(true);\n    } else {\n      setIsDraggingTarget(false);\n    }\n  });\n  _$2(() => {\n    if (isDraggableEvent2) {\n      eventBus.fire(\"afterRenderEvent\", uiModel.model.toEventObject());\n    }\n  }, []);\n  const onResizeStart = useDrag(DRAGGING_TYPE_CREATORS.resizeEvent(\"dayGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => startDragEvent(classNames$k.resizeEvent),\n    onMouseUp: () => endDragEvent(classNames$k.resizeEvent),\n    onPressESCKey: () => endDragEvent(classNames$k.resizeEvent)\n  });\n  const onMoveStart = useDrag(DRAGGING_TYPE_CREATORS.moveEvent(\"dayGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => {\n      if (isDraggableEvent2) {\n        startDragEvent(classNames$k.moveEvent);\n      }\n    },\n    onMouseUp: (e2, {\n      draggingState\n    }) => {\n      endDragEvent(classNames$k.moveEvent);\n      const isClick = draggingState <= DraggingState.INIT;\n      if (isClick && useDetailPopup && eventContainerRef.current) {\n        showDetailPopup({\n          event: uiModel.model,\n          eventRect: eventContainerRef.current.getBoundingClientRect()\n        }, flat);\n      }\n      if (isClick) {\n        eventBus.fire(\"clickEvent\", {\n          event: uiModel.model.toEventObject(),\n          nativeEvent: e2\n        });\n      }\n    },\n    onPressESCKey: () => endDragEvent(classNames$k.moveEvent)\n  });\n  const handleResizeStart = e2 => {\n    e2.stopPropagation();\n    if (isDraggableEvent2) {\n      onResizeStart(e2);\n    }\n  };\n  const handleMoveStart = e2 => {\n    e2.stopPropagation();\n    onMoveStart(e2);\n  };\n  const isDotEvent = !isDraggingTarget && currentView === \"month\" && uiModel.model.category === \"time\" && isSameDate(uiModel.model.start, uiModel.model.end);\n  const shouldHideResizeHandler = !isDraggableEvent2 || flat || isDraggingTarget || uiModel.exceedRight;\n  const containerStyle = getContainerStyle({\n    uiModel,\n    eventHeight,\n    headerHeight,\n    flat,\n    movingLeft,\n    resizingWidth\n  });\n  const eventItemStyle = getEventItemStyle({\n    uiModel,\n    flat,\n    eventHeight,\n    isDraggingTarget,\n    calendarColor\n  });\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"weekday-event-block\", {\n      \"weekday-exceed-left\": uiModel.exceedLeft,\n      \"weekday-exceed-right\": uiModel.exceedRight\n    }),\n    style: containerStyle,\n    \"data-testid\": passConditionalProp(isDraggableEvent2, getTestId(uiModel)),\n    \"data-calendar-id\": calendarId,\n    \"data-event-id\": id,\n    ref: eventContainerRef\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$k.eventBody,\n    style: __spreadProps(__spreadValues({}, eventItemStyle), {\n      backgroundColor: isDotEvent ? null : eventItemStyle.backgroundColor,\n      borderLeft: isDotEvent ? null : eventItemStyle.borderLeft\n    }),\n    onMouseDown: handleMoveStart\n  }, isDotEvent ? /* @__PURE__ */h$3(\"span\", {\n    className: classNames$k.eventDot,\n    style: {\n      backgroundColor: eventItemStyle.backgroundColor\n    }\n  }) : null, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$k.eventTitle\n  }, /* @__PURE__ */h$3(Template, {\n    template: uiModel.model.category,\n    param: uiModel.model\n  })), !shouldHideResizeHandler ? /* @__PURE__ */h$3(HorizontalEventResizeIcon, {\n    onMouseDown: handleResizeStart\n  }) : null));\n}\nfunction useWhen(callback, condition) {\n  const callbackRef = s$2(callback);\n  _$2(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n  _$2(() => {\n    const invoke = () => callbackRef.current();\n    if (condition) {\n      invoke();\n    }\n  }, [condition]);\n}\nfunction useCurrentPointerPositionInGrid(gridPositionFinder) {\n  const [currentGridPos, setCurrentGridPos] = y$1(null);\n  useTransientUpdate(dndSelector, dndState => {\n    if (isPresent(dndState.x) && isPresent(dndState.y)) {\n      const gridPosition = gridPositionFinder({\n        clientX: dndState.x,\n        clientY: dndState.y\n      });\n      if (gridPosition) {\n        setCurrentGridPos(gridPosition);\n      }\n    }\n  });\n  const clearCurrentGridPos = T$1(() => setCurrentGridPos(null), []);\n  return [currentGridPos, clearCurrentGridPos];\n}\nconst getTargetEventId = (itemType, area, behavior) => {\n  function isEventDraggingType(_itemType) {\n    return new RegExp(`^event/${area}/${behavior}/\\\\d+$`).test(_itemType);\n  }\n  if (isNil(itemType)) {\n    return null;\n  }\n  return isEventDraggingType(itemType) ? last(itemType.split(\"/\")) : null;\n};\nfunction useDraggingEvent(area, behavior) {\n  const [isDraggingEnd, setIsDraggingEnd] = y$1(false);\n  const [isDraggingCanceled, setIsDraggingCanceled] = y$1(false);\n  const [draggingEvent, setDraggingEvent] = y$1(null);\n  useTransientUpdate(dndSelector, ({\n    draggingItemType,\n    draggingEventUIModel,\n    draggingState\n  }) => {\n    const targetEventId = getTargetEventId(draggingItemType, area, behavior);\n    const hasMatchingTargetEvent = Number(targetEventId) === (draggingEventUIModel == null ? void 0 : draggingEventUIModel.cid());\n    const isIdle = draggingState === DraggingState.IDLE;\n    const isCanceled = draggingState === DraggingState.CANCELED;\n    if (isNil(draggingEvent) && hasMatchingTargetEvent) {\n      setDraggingEvent(draggingEventUIModel);\n    }\n    if (isPresent(draggingEvent) && (isIdle || isCanceled)) {\n      setIsDraggingEnd(true);\n      setIsDraggingCanceled(isCanceled);\n    }\n  });\n  const clearDraggingEvent = () => {\n    setDraggingEvent(null);\n    setIsDraggingEnd(false);\n    setIsDraggingCanceled(false);\n  };\n  return {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent,\n    clearDraggingEvent\n  };\n}\nfunction useAlldayGridRowEventMove({\n  rowStyleInfo,\n  gridPositionFinder\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: movingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"move\");\n  const startGridXRef = s$2(null);\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const {\n    columnIndex\n  } = currentGridPos != null ? currentGridPos : {};\n  const targetEventStartGridX = F$2(() => isNil(movingEvent) ? null : rowStyleInfo.findIndex(({\n    left\n  }) => left === movingEvent.left), [rowStyleInfo, movingEvent]);\n  const currentMovingLeft = F$2(() => {\n    if (isNil(columnIndex) || isNil(startGridXRef.current) || isNil(targetEventStartGridX)) {\n      return null;\n    }\n    const newColumnIndex = targetEventStartGridX + columnIndex - startGridXRef.current;\n    return newColumnIndex < 0 ? -rowStyleInfo[-newColumnIndex].left : rowStyleInfo[newColumnIndex].left;\n  }, [columnIndex, rowStyleInfo, targetEventStartGridX]);\n  _$2(() => {\n    if (isNil(startGridXRef.current) && isPresent(columnIndex)) {\n      startGridXRef.current = columnIndex;\n    }\n  }, [columnIndex]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(movingEvent) && isPresent(columnIndex) && isPresent(currentMovingLeft) && columnIndex !== startGridXRef.current;\n    if (shouldUpdate && isPresent(startGridXRef.current)) {\n      const dateOffset = columnIndex - startGridXRef.current;\n      const newStartDate = new TZDate(movingEvent.model.getStarts());\n      const newEndDate = new TZDate(movingEvent.model.getEnds());\n      newStartDate.addDate(dateOffset);\n      newEndDate.addDate(dateOffset);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: movingEvent.model.toEventObject(),\n        changes: {\n          start: newStartDate,\n          end: newEndDate\n        }\n      });\n    }\n    clearDraggingEvent();\n    clearCurrentGridPos();\n    startGridXRef.current = null;\n  }, isDraggingEnd);\n  return F$2(() => ({\n    movingEvent,\n    movingLeft: currentMovingLeft\n  }), [currentMovingLeft, movingEvent]);\n}\nfunction MovingEventShadow$2({\n  rowStyleInfo,\n  gridPositionFinder\n}) {\n  const {\n    movingEvent,\n    movingLeft\n  } = useAlldayGridRowEventMove({\n    rowStyleInfo,\n    gridPositionFinder\n  });\n  if (isNil(movingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(HorizontalEvent, {\n    uiModel: movingEvent,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0,\n    movingLeft\n  });\n}\nfunction getEventColIndex(uiModel, row) {\n  const start = getGridDateIndex(uiModel.getStarts(), row);\n  const end = getGridDateIndex(uiModel.getEnds(), row);\n  return {\n    start,\n    end\n  };\n}\nfunction useAlldayGridRowEventResize({\n  weekDates,\n  gridColWidthMap,\n  gridPositionFinder\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: resizingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"resize\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const {\n    columnIndex\n  } = currentGridPos != null ? currentGridPos : {};\n  const targetEventGridIndices = F$2(() => {\n    if (resizingEvent) {\n      return getEventColIndex(resizingEvent, weekDates);\n    }\n    return {\n      start: -1,\n      end: -1\n    };\n  }, [weekDates, resizingEvent]);\n  const resizingWidth = F$2(() => {\n    if (targetEventGridIndices.start > -1 && isPresent(columnIndex)) {\n      return gridColWidthMap[targetEventGridIndices.start][columnIndex];\n    }\n    return null;\n  }, [columnIndex, gridColWidthMap, targetEventGridIndices.start]);\n  useWhen(() => {\n    const shouldUpdateEvent = !isDraggingCanceled && isPresent(resizingEvent) && isPresent(columnIndex) && targetEventGridIndices.start <= columnIndex && targetEventGridIndices.end !== columnIndex;\n    if (shouldUpdateEvent) {\n      const targetDate = weekDates[columnIndex];\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: resizingEvent.model.toEventObject(),\n        changes: {\n          end: targetDate\n        }\n      });\n    }\n    clearCurrentGridPos();\n    clearDraggingEvent();\n  }, isDraggingEnd);\n  return F$2(() => ({\n    resizingEvent,\n    resizingWidth\n  }), [resizingWidth, resizingEvent]);\n}\nfunction ResizingEventShadow({\n  weekDates,\n  gridColWidthMap,\n  gridPositionFinder\n}) {\n  const {\n    resizingEvent,\n    resizingWidth\n  } = useAlldayGridRowEventResize({\n    weekDates,\n    gridColWidthMap,\n    gridPositionFinder\n  });\n  if (isNil(resizingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(HorizontalEvent, {\n    uiModel: resizingEvent,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0,\n    resizingWidth\n  });\n}\nfunction useDOMNode() {\n  const [node, setNode] = y$1(null);\n  const setNodeRef = T$1(ref => {\n    if (ref) {\n      setNode(ref);\n    }\n  }, []);\n  return [node, setNodeRef];\n}\nfunction useGridRowHeightController(maxTop, category) {\n  const [clickedIndex, setClickedIndex] = y$1(0);\n  const [isClickedCount, setClickedCount] = y$1(false);\n  const {\n    updateDayGridRowHeight\n  } = useDispatch(\"weekViewLayout\");\n  const onClickExceedCount = T$1(index => {\n    setClickedCount(true);\n    setClickedIndex(index);\n    updateDayGridRowHeight({\n      rowName: category,\n      height: (maxTop + 1) * EVENT_HEIGHT\n    });\n  }, [category, maxTop, updateDayGridRowHeight]);\n  const onClickCollapseButton = T$1(() => {\n    setClickedCount(false);\n    updateDayGridRowHeight({\n      rowName: category,\n      height: DEFAULT_PANEL_HEIGHT\n    });\n  }, [category, updateDayGridRowHeight]);\n  return {\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  };\n}\nfunction requestTimeout(fn2, delay, registerCancel) {\n  let start;\n  const loop = timestamp => {\n    if (!start) {\n      start = timestamp;\n    }\n    const elapsed = timestamp - start;\n    if (elapsed >= delay) {\n      fn2();\n      registerCancel(noop);\n      return;\n    }\n    const raf2 = requestAnimationFrame(loop);\n    registerCancel(() => cancelAnimationFrame(raf2));\n  };\n  const raf = requestAnimationFrame(loop);\n  registerCancel(() => cancelAnimationFrame(raf));\n}\nfunction useClickPrevention({\n  onClick,\n  onDblClick,\n  delay = 300\n}) {\n  const cancelCallback = s$2(noop);\n  const registerCancel = fn2 => {\n    cancelCallback.current = fn2;\n  };\n  const cancelScheduledWork = () => {\n    cancelCallback.current();\n  };\n  _$2(() => cancelScheduledWork, []);\n  const handleClick = e2 => {\n    cancelScheduledWork();\n    requestTimeout(onClick.bind(null, e2), delay, registerCancel);\n  };\n  const handleDblClick = e2 => {\n    cancelScheduledWork();\n    onDblClick(e2);\n  };\n  return [handleClick, handleDblClick];\n}\nconst GRID_SELECTION_TYPE_MAP = {\n  dayGridMonth: \"month\",\n  dayGridWeek: \"allday\",\n  timeGrid: \"time\"\n};\nfunction sortDates(a2, b2) {\n  const isIncreased = a2 < b2;\n  return isIncreased ? [a2, b2] : [b2, a2];\n}\nfunction useGridSelection({\n  type,\n  selectionSorter,\n  dateGetter,\n  dateCollection,\n  gridPositionFinder\n}) {\n  const {\n    useFormPopup,\n    gridSelection: gridSelectionOptions\n  } = useStore(optionsSelector);\n  const {\n    enableDblClick,\n    enableClick\n  } = gridSelectionOptions;\n  const {\n    setGridSelection,\n    addGridSelection,\n    clearAll\n  } = useDispatch(\"gridSelection\");\n  const {\n    hideAllPopup,\n    showFormPopup\n  } = useDispatch(\"popup\");\n  const eventBus = useEventBus();\n  const layoutContainer = useLayoutContainer();\n  const [initMousePosition, setInitMousePosition] = y$1(null);\n  const [initGridPosition, setInitGridPosition] = y$1(null);\n  const isSelectingGridRef = s$2(false);\n  const gridSelectionRef = s$2(null);\n  useTransientUpdate(T$1(state => state.gridSelection[type], [type]), gridSelection => {\n    gridSelectionRef.current = gridSelection;\n  });\n  useTransientUpdate(dndSelector, ({\n    draggingState,\n    draggingItemType\n  }) => {\n    isSelectingGridRef.current = draggingItemType === currentGridSelectionType && draggingState >= DraggingState.INIT;\n  });\n  const currentGridSelectionType = DRAGGING_TYPE_CREATORS.gridSelection(type);\n  const setGridSelectionByPosition = e2 => {\n    const gridPosition = gridPositionFinder(e2);\n    if (isPresent(initGridPosition) && isPresent(gridPosition)) {\n      setGridSelection(type, selectionSorter(initGridPosition, gridPosition));\n    }\n  };\n  const [handleClickWithDebounce, handleDblClickPreventingClick] = useClickPrevention({\n    onClick: e2 => {\n      if (enableClick) {\n        onMouseUp(e2, true);\n      }\n    },\n    onDblClick: e2 => {\n      if (enableDblClick) {\n        onMouseUp(e2, true);\n      }\n    },\n    delay: 250\n  });\n  const onMouseUpWithClick = e2 => {\n    const isClick = e2.detail <= 1;\n    if (!enableClick && (!enableDblClick || isClick)) {\n      return;\n    }\n    if (enableClick) {\n      if (isClick) {\n        handleClickWithDebounce(e2);\n      } else {\n        handleDblClickPreventingClick(e2);\n      }\n      return;\n    }\n    onMouseUp(e2, true);\n  };\n  const onMouseUp = (e2, isClickEvent) => {\n    var _a;\n    if (isClickEvent) {\n      setGridSelectionByPosition(e2);\n    }\n    if (isPresent(gridSelectionRef.current)) {\n      const [startDate, endDate] = sortDates(...dateGetter(dateCollection, gridSelectionRef.current));\n      if (useFormPopup && isPresent(initMousePosition)) {\n        const popupArrowPointPosition = {\n          top: (e2.clientY + initMousePosition.y) / 2,\n          left: (e2.clientX + initMousePosition.x) / 2\n        };\n        showFormPopup({\n          isCreationPopup: true,\n          title: \"\",\n          location: \"\",\n          start: startDate,\n          end: endDate,\n          isAllday: type !== \"timeGrid\",\n          isPrivate: false,\n          popupArrowPointPosition,\n          close: clearAll\n        });\n      }\n      const gridSelectionSelector = `.${cls(GRID_SELECTION_TYPE_MAP[type])}.${cls(\"grid-selection\")}`;\n      const gridSelectionElements = Array.from((_a = layoutContainer == null ? void 0 : layoutContainer.querySelectorAll(gridSelectionSelector)) != null ? _a : []);\n      eventBus.fire(\"selectDateTime\", {\n        start: startDate.toDate(),\n        end: endDate.toDate(),\n        isAllday: type !== \"timeGrid\",\n        nativeEvent: e2,\n        gridSelectionElements\n      });\n    }\n  };\n  const clearGridSelection = T$1(() => {\n    setInitMousePosition(null);\n    setInitGridPosition(null);\n    setGridSelection(type, null);\n  }, [setGridSelection, type]);\n  const onMouseDown = useDrag(currentGridSelectionType, {\n    onInit: e2 => {\n      if (useFormPopup) {\n        setInitMousePosition({\n          x: e2.clientX,\n          y: e2.clientY\n        });\n        hideAllPopup();\n      }\n      const gridPosition = gridPositionFinder(e2);\n      if (isPresent(gridPosition)) {\n        setInitGridPosition(gridPosition);\n      }\n      if (!useFormPopup) {\n        addGridSelection(type, gridSelectionRef.current);\n      }\n    },\n    onDragStart: e2 => {\n      setGridSelectionByPosition(e2);\n    },\n    onDrag: e2 => {\n      if (isSelectingGridRef.current) {\n        setGridSelectionByPosition(e2);\n      }\n    },\n    onMouseUp: (e2, {\n      draggingState\n    }) => {\n      e2.stopPropagation();\n      const isClickEvent = draggingState <= DraggingState.INIT;\n      if (isClickEvent) {\n        onMouseUpWithClick(e2);\n      } else {\n        onMouseUp(e2, isClickEvent);\n      }\n    },\n    onPressESCKey: clearGridSelection\n  });\n  _$2(() => clearGridSelection, [clearGridSelection]);\n  return onMouseDown;\n}\nconst rowTitleTemplate = `alldayTitle`;\nfunction AlldayGridRow({\n  events,\n  weekDates,\n  height = DEFAULT_PANEL_HEIGHT,\n  options = {},\n  rowStyleInfo,\n  gridColWidthMap\n}) {\n  const {\n    isReadOnly\n  } = useStore(optionsSelector);\n  const dayGridLeftTheme = useTheme(weekDayGridLeftSelector);\n  const [panelContainer, setPanelContainerRef] = useDOMNode();\n  const {\n    narrowWeekend = false,\n    startDayOfWeek = Day$2.SUN\n  } = options;\n  const maxTop = F$2(() => Math.max(0, ...events.map(({\n    top\n  }) => top)), [events]);\n  const gridPositionFinder = F$2(() => createGridPositionFinder({\n    container: panelContainer,\n    rowsCount: 1,\n    columnsCount: weekDates.length,\n    narrowWeekend,\n    startDayOfWeek\n  }), [panelContainer, weekDates.length, narrowWeekend, startDayOfWeek]);\n  const {\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  } = useGridRowHeightController(maxTop, \"allday\");\n  const horizontalEvents = F$2(() => events.filter(isWithinHeight(height, EVENT_HEIGHT + WEEK_EVENT_MARGIN_TOP)).map(uiModel => /* @__PURE__ */h$3(HorizontalEvent, {\n    key: `allday-DayEvent-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0\n  })), [events, height]);\n  const startGridSelection = useGridSelection({\n    type: \"dayGridWeek\",\n    gridPositionFinder,\n    dateCollection: weekDates,\n    selectionSorter: alldayGridRowSelectionHelper.sortSelection,\n    dateGetter: alldayGridRowSelectionHelper.getDateFromCollection\n  });\n  const onMouseDown = e2 => {\n    const target = e2.target;\n    if (isReadOnly || !target.classList.contains(cls(\"panel-grid\"))) {\n      return;\n    }\n    startGridSelection(e2);\n  };\n  return /* @__PURE__ */h$3(p$3, null, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-title\"),\n    style: dayGridLeftTheme\n  }, /* @__PURE__ */h$3(Template, {\n    template: rowTitleTemplate,\n    param: \"alldayTitle\"\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"allday-panel\"),\n    ref: setPanelContainerRef,\n    onMouseDown\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-grid-wrapper\")\n  }, /* @__PURE__ */h$3(GridCells, {\n    uiModels: events,\n    weekDates,\n    narrowWeekend,\n    height,\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: cls(`panel-allday-events`)\n  }, horizontalEvents), /* @__PURE__ */h$3(ResizingEventShadow, {\n    weekDates,\n    gridPositionFinder,\n    gridColWidthMap\n  }), /* @__PURE__ */h$3(MovingEventShadow$2, {\n    rowStyleInfo,\n    gridPositionFinder\n  }), /* @__PURE__ */h$3(AlldayGridSelection, {\n    weekDates,\n    narrowWeekend\n  })));\n}\nfunction OtherGridRow({\n  events,\n  weekDates,\n  category,\n  height = DEFAULT_PANEL_HEIGHT,\n  options = {}\n}) {\n  const dayGridLeftTheme = useTheme(weekDayGridLeftSelector);\n  const maxTop = F$2(() => Math.max(0, ...events.map(({\n    top\n  }) => top)), [events]);\n  const {\n    narrowWeekend = false\n  } = options;\n  const rowTitleTemplate2 = `${category}Title`;\n  const {\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  } = useGridRowHeightController(maxTop, category);\n  const horizontalEvents = F$2(() => events.filter(isWithinHeight(height, EVENT_HEIGHT + WEEK_EVENT_MARGIN_TOP)).map(uiModel => /* @__PURE__ */h$3(HorizontalEvent, {\n    key: `${category}-DayEvent-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0\n  })), [category, events, height]);\n  return /* @__PURE__ */h$3(p$3, null, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-title\"),\n    style: dayGridLeftTheme\n  }, /* @__PURE__ */h$3(Template, {\n    template: rowTitleTemplate2,\n    param: category\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"allday-panel\")\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-grid-wrapper\")\n  }, /* @__PURE__ */h$3(GridCells, {\n    uiModels: events,\n    weekDates,\n    narrowWeekend,\n    height,\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: cls(`panel-${category}-events`)\n  }, horizontalEvents)));\n}\nconst classNames$j = {\n  detailItem: cls(\"detail-item\"),\n  detailItemIndent: cls(\"detail-item\", \"detail-item-indent\"),\n  detailItemSeparate: cls(\"detail-item\", \"detail-item-separate\"),\n  sectionDetail: cls(\"popup-section\", \"section-detail\"),\n  content: cls(\"content\"),\n  locationIcon: cls(\"icon\", \"ic-location-b\"),\n  repeatIcon: cls(\"icon\", \"ic-repeat-b\"),\n  userIcon: cls(\"icon\", \"ic-user-b\"),\n  stateIcon: cls(\"icon\", \"ic-state-b\"),\n  calendarDotIcon: cls(\"icon\", \"calendar-dot\")\n};\nfunction EventDetailSectionDetail({\n  event\n}) {\n  var _a, _b;\n  const {\n    location: location2,\n    recurrenceRule,\n    attendees,\n    state,\n    calendarId,\n    body\n  } = event;\n  const calendar = useCalendarById(calendarId);\n  return /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.sectionDetail\n  }, location2 && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.locationIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailLocation\",\n    param: event,\n    as: \"span\"\n  }))), recurrenceRule && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.repeatIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailRecurrenceRule\",\n    param: event,\n    as: \"span\"\n  }))), attendees && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.detailItemIndent\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.userIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailAttendees\",\n    param: event,\n    as: \"span\"\n  }))), state && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.stateIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailState\",\n    param: event,\n    as: \"span\"\n  }))), calendar && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.calendarDotIcon,\n    style: {\n      backgroundColor: (_a = calendar == null ? void 0 : calendar.backgroundColor) != null ? _a : \"\"\n    }\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.content\n  }, (_b = calendar == null ? void 0 : calendar.name) != null ? _b : \"\")), body && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$j.detailItemSeparate\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailBody\",\n    param: event,\n    as: \"span\"\n  }))));\n}\nconst classNames$i = {\n  sectionHeader: cls(\"popup-section\", \"section-header\"),\n  content: cls(\"content\"),\n  eventTitle: cls(\"event-title\")\n};\nfunction EventDetailSectionHeader({\n  event\n}) {\n  return /* @__PURE__ */h$3(\"div\", {\n    className: classNames$i.sectionHeader\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$i.eventTitle\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailTitle\",\n    param: event,\n    as: \"span\"\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$i.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDetailDate\",\n    param: event,\n    as: \"span\"\n  })));\n}\nconst SEE_MORE_POPUP_SLOT_CLASS_NAME = cls(\"see-more-popup-slot\");\nconst EVENT_FORM_POPUP_SLOT_CLASS_NAME = cls(\"event-form-popup-slot\");\nconst EVENT_DETAIL_POPUP_SLOT_CLASS_NAME = cls(\"event-detail-popup-slot\");\nconst HALF_OF_POPUP_ARROW_HEIGHT = 8;\nconst BOOLEAN_KEYS_OF_EVENT_MODEL_DATA = [\"isPrivate\", \"isAllday\", \"isPending\", \"isFocused\", \"isVisible\", \"isReadOnly\"];\nvar DetailPopupArrowDirection = /* @__PURE__ */(DetailPopupArrowDirection2 => {\n  DetailPopupArrowDirection2[\"right\"] = \"right\";\n  DetailPopupArrowDirection2[\"left\"] = \"left\";\n  return DetailPopupArrowDirection2;\n})(DetailPopupArrowDirection || {});\nvar FormPopupArrowDirection = /* @__PURE__ */(FormPopupArrowDirection2 => {\n  FormPopupArrowDirection2[\"top\"] = \"top\";\n  FormPopupArrowDirection2[\"bottom\"] = \"bottom\";\n  return FormPopupArrowDirection2;\n})(FormPopupArrowDirection || {});\nconst FloatingLayerContext = B$1(null);\nfunction FloatingLayerProvider({\n  children\n}) {\n  const [containerRef, containerRefCallback] = useDOMNode();\n  const [seeMorePopupSlotRef, seeMorePopupSlotRefCallback] = useDOMNode();\n  const [formPopupSlotRef, formPopupSlotRefCallback] = useDOMNode();\n  const [detailPopupSlotRef, detailPopupSlotRefCallback] = useDOMNode();\n  const floatingLayer = {\n    container: containerRef,\n    seeMorePopupSlot: seeMorePopupSlotRef,\n    formPopupSlot: formPopupSlotRef,\n    detailPopupSlot: detailPopupSlotRef\n  };\n  return /* @__PURE__ */h$3(FloatingLayerContext.Provider, {\n    value: floatingLayer\n  }, children, /* @__PURE__ */h$3(\"div\", {\n    ref: containerRefCallback,\n    className: cls(\"floating-layer\")\n  }, /* @__PURE__ */h$3(\"div\", {\n    ref: seeMorePopupSlotRefCallback,\n    className: SEE_MORE_POPUP_SLOT_CLASS_NAME\n  }), /* @__PURE__ */h$3(\"div\", {\n    ref: formPopupSlotRefCallback,\n    className: EVENT_FORM_POPUP_SLOT_CLASS_NAME\n  }), /* @__PURE__ */h$3(\"div\", {\n    ref: detailPopupSlotRefCallback,\n    className: EVENT_DETAIL_POPUP_SLOT_CLASS_NAME\n  })));\n}\nconst useFloatingLayer = floatingLayerType => {\n  var _a;\n  const floatingLayers = q$2(FloatingLayerContext);\n  if (isUndefined_1(floatingLayers)) {\n    throw new Error(\"FloatingLayerProvider is not found\");\n  }\n  return (_a = floatingLayers == null ? void 0 : floatingLayers[floatingLayerType]) != null ? _a : null;\n};\nfunction isTopOutOfLayout(top, layoutRect, popupRect) {\n  return top + popupRect.height > layoutRect.top + layoutRect.height;\n}\nfunction isLeftOutOfLayout(left, layoutRect, popupRect) {\n  return left + popupRect.width > layoutRect.left + layoutRect.width;\n}\nconst eventFormPopupParamSelector = state => {\n  return state.popup[PopupType.Form];\n};\nconst eventDetailPopupParamSelector = state => {\n  return state.popup[PopupType.Detail];\n};\nconst seeMorePopupParamSelector = state => {\n  return state.popup[PopupType.SeeMore];\n};\nconst classNames$h = {\n  popupContainer: cls(\"popup-container\"),\n  detailContainer: cls(\"detail-container\"),\n  topLine: cls(\"popup-top-line\"),\n  border: cls(\"popup-arrow-border\"),\n  fill: cls(\"popup-arrow-fill\"),\n  sectionButton: cls(\"popup-section\", \"section-button\"),\n  content: cls(\"content\"),\n  editIcon: cls(\"icon\", \"ic-edit\"),\n  deleteIcon: cls(\"icon\", \"ic-delete\"),\n  editButton: cls(\"edit-button\"),\n  deleteButton: cls(\"delete-button\"),\n  verticalLine: cls(\"vertical-line\")\n};\nfunction calculatePopupPosition$1(eventRect, layoutRect, popupRect) {\n  let top = eventRect.top + eventRect.height / 2 - popupRect.height / 2;\n  let left = eventRect.left + eventRect.width;\n  if (isTopOutOfLayout(top, layoutRect, popupRect)) {\n    top = layoutRect.top + layoutRect.height - popupRect.height;\n  }\n  if (isLeftOutOfLayout(left, layoutRect, popupRect)) {\n    left = eventRect.left - popupRect.width;\n  }\n  return [Math.max(top, layoutRect.top) + window.scrollY, Math.max(left, layoutRect.left) + window.scrollX];\n}\nfunction calculatePopupArrowPosition(eventRect, layoutRect, popupRect) {\n  const top = eventRect.top + eventRect.height / 2 + window.scrollY;\n  const popupLeft = eventRect.left + eventRect.width;\n  const isOutOfLayout = popupLeft + popupRect.width > layoutRect.left + layoutRect.width;\n  const direction = isOutOfLayout ? DetailPopupArrowDirection.right : DetailPopupArrowDirection.left;\n  return {\n    top,\n    direction\n  };\n}\nfunction EventDetailPopup() {\n  const {\n    useFormPopup\n  } = useStore(optionsSelector);\n  const popupParams = useStore(eventDetailPopupParamSelector);\n  const {\n    event,\n    eventRect\n  } = popupParams != null ? popupParams : {};\n  const {\n    showFormPopup,\n    hideDetailPopup\n  } = useDispatch(\"popup\");\n  const calendarColor = useCalendarColor(event);\n  const layoutContainer = useLayoutContainer();\n  const detailPopupSlot = useFloatingLayer(\"detailPopupSlot\");\n  const eventBus = useEventBus();\n  const popupContainerRef = s$2(null);\n  const [style, setStyle] = y$1({});\n  const [arrowTop, setArrowTop] = y$1(0);\n  const [arrowDirection, setArrowDirection] = y$1(DetailPopupArrowDirection.left);\n  const popupArrowClassName = F$2(() => {\n    const right = arrowDirection === DetailPopupArrowDirection.right;\n    const left = arrowDirection === DetailPopupArrowDirection.left;\n    return cls(\"popup-arrow\", {\n      right,\n      left\n    });\n  }, [arrowDirection]);\n  h$2(() => {\n    if (popupContainerRef.current && eventRect && layoutContainer) {\n      const layoutRect = layoutContainer.getBoundingClientRect();\n      const popupRect = popupContainerRef.current.getBoundingClientRect();\n      const [top, left] = calculatePopupPosition$1(eventRect, layoutRect, popupRect);\n      const {\n        top: arrowTopPosition,\n        direction\n      } = calculatePopupArrowPosition(eventRect, layoutRect, popupRect);\n      setStyle({\n        top,\n        left\n      });\n      setArrowTop(arrowTopPosition - top - HALF_OF_POPUP_ARROW_HEIGHT);\n      setArrowDirection(direction);\n    }\n  }, [eventRect, layoutContainer]);\n  if (isNil(event) || isNil(eventRect) || isNil(detailPopupSlot)) {\n    return null;\n  }\n  const {\n    title = \"\",\n    isAllday: isAllday2 = false,\n    start = new TZDate(),\n    end = new TZDate(),\n    location: location2,\n    state,\n    isReadOnly,\n    isPrivate\n  } = event;\n  const popupArrowPointPosition = {\n    top: eventRect.top + eventRect.height / 2,\n    left: eventRect.left + eventRect.width / 2\n  };\n  const onClickEditButton = () => {\n    if (useFormPopup) {\n      showFormPopup({\n        isCreationPopup: false,\n        event,\n        title,\n        location: location2,\n        start,\n        end,\n        isAllday: isAllday2,\n        isPrivate,\n        eventState: state,\n        popupArrowPointPosition\n      });\n    } else {\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: event.toEventObject(),\n        changes: {}\n      });\n    }\n  };\n  const onClickDeleteButton = () => {\n    eventBus.fire(\"beforeDeleteEvent\", event.toEventObject());\n    hideDetailPopup();\n  };\n  return V( /* @__PURE__ */h$3(\"div\", {\n    role: \"dialog\",\n    className: classNames$h.popupContainer,\n    ref: popupContainerRef,\n    style\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$h.detailContainer\n  }, /* @__PURE__ */h$3(EventDetailSectionHeader, {\n    event\n  }), /* @__PURE__ */h$3(EventDetailSectionDetail, {\n    event\n  }), !isReadOnly && /* @__PURE__ */h$3(\"div\", {\n    className: classNames$h.sectionButton\n  }, /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    className: classNames$h.editButton,\n    onClick: onClickEditButton\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$h.editIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$h.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupEdit\",\n    as: \"span\"\n  }))), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$h.verticalLine\n  }), /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    className: classNames$h.deleteButton,\n    onClick: onClickDeleteButton\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$h.deleteIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$h.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupDelete\",\n    as: \"span\"\n  }))))), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$h.topLine,\n    style: {\n      backgroundColor: calendarColor.backgroundColor\n    }\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: popupArrowClassName\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$h.border,\n    style: {\n      top: arrowTop\n    }\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$h.fill\n  })))), detailPopupSlot);\n}\nconst classNames$g = {\n  dropdownMenu: cls(\"dropdown-menu\"),\n  dropdownMenuItem: cls(\"dropdown-menu-item\"),\n  dotIcon: cls(\"icon\", \"dot\"),\n  content: cls(\"content\")\n};\nfunction DropdownMenuItem({\n  index,\n  name,\n  backgroundColor,\n  onClick\n}) {\n  return /* @__PURE__ */h$3(\"li\", {\n    className: classNames$g.dropdownMenuItem,\n    onClick: e2 => onClick(e2, index)\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$g.dotIcon,\n    style: {\n      backgroundColor\n    }\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$g.content\n  }, name));\n}\nfunction CalendarDropdownMenu({\n  calendars,\n  setOpened,\n  onChangeIndex\n}) {\n  const handleDropdownMenuItemClick = (e2, index) => {\n    e2.stopPropagation();\n    setOpened(false);\n    onChangeIndex(index);\n  };\n  return /* @__PURE__ */h$3(\"ul\", {\n    className: classNames$g.dropdownMenu\n  }, calendars.map(({\n    name,\n    backgroundColor = \"000\"\n  }, index) => /* @__PURE__ */h$3(DropdownMenuItem, {\n    key: `dropdown-${name}-${index}`,\n    index,\n    name,\n    backgroundColor,\n    onClick: handleDropdownMenuItemClick\n  })));\n}\nfunction PopupSection({\n  children,\n  classNames: classNames2 = [],\n  onClick = noop\n}) {\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"popup-section\", ...classNames2),\n    onClick\n  }, children);\n}\nfunction useDropdownState() {\n  const [isOpened, setOpened] = y$1(false);\n  const toggleDropdown = () => setOpened(prev => !prev);\n  return {\n    isOpened,\n    setOpened,\n    toggleDropdown\n  };\n}\nvar FormStateActionType = /* @__PURE__ */(FormStateActionType2 => {\n  FormStateActionType2[\"init\"] = \"init\";\n  FormStateActionType2[\"setCalendarId\"] = \"setCalendarId\";\n  FormStateActionType2[\"setTitle\"] = \"setTitle\";\n  FormStateActionType2[\"setLocation\"] = \"setLocation\";\n  FormStateActionType2[\"setPrivate\"] = \"setPrivate\";\n  FormStateActionType2[\"setAllday\"] = \"setAllday\";\n  FormStateActionType2[\"setState\"] = \"setState\";\n  FormStateActionType2[\"reset\"] = \"reset\";\n  return FormStateActionType2;\n})(FormStateActionType || {});\nconst defaultFormState = {\n  title: \"\",\n  location: \"\",\n  isAllday: false,\n  isPrivate: false,\n  state: \"Busy\"\n};\nfunction formStateReducer(state, action) {\n  switch (action.type) {\n    case \"init\":\n      return __spreadValues(__spreadValues({}, defaultFormState), action.event);\n    case \"setCalendarId\":\n      return __spreadProps(__spreadValues({}, state), {\n        calendarId: action.calendarId\n      });\n    case \"setTitle\":\n      return __spreadProps(__spreadValues({}, state), {\n        title: action.title\n      });\n    case \"setLocation\":\n      return __spreadProps(__spreadValues({}, state), {\n        location: action.location\n      });\n    case \"setPrivate\":\n      return __spreadProps(__spreadValues({}, state), {\n        isPrivate: action.isPrivate\n      });\n    case \"setAllday\":\n      return __spreadProps(__spreadValues({}, state), {\n        isAllday: action.isAllday\n      });\n    case \"setState\":\n      return __spreadProps(__spreadValues({}, state), {\n        state: action.state\n      });\n    case \"reset\":\n      return __spreadValues(__spreadValues({}, state), defaultFormState);\n    default:\n      return state;\n  }\n}\nfunction useFormState(initCalendarId) {\n  return d$2(formStateReducer, __spreadValues({\n    calendarId: initCalendarId\n  }, defaultFormState));\n}\nconst classNames$f = {\n  popupSection: [\"dropdown-section\", \"calendar-section\"],\n  popupSectionItem: cls(\"popup-section-item\", \"popup-button\"),\n  dotIcon: cls(\"icon\", \"dot\"),\n  content: cls(\"content\", \"event-calendar\")\n};\nfunction CalendarSelector({\n  calendars,\n  selectedCalendarId,\n  formStateDispatch\n}) {\n  const {\n    isOpened,\n    setOpened,\n    toggleDropdown\n  } = useDropdownState();\n  const selectedCalendar = calendars.find(calendar => calendar.id === selectedCalendarId);\n  const {\n    backgroundColor = \"\",\n    name = \"\"\n  } = selectedCalendar != null ? selectedCalendar : {};\n  const changeIndex = index => formStateDispatch({\n    type: FormStateActionType.setCalendarId,\n    calendarId: calendars[index].id\n  });\n  return /* @__PURE__ */h$3(PopupSection, {\n    onClick: toggleDropdown,\n    classNames: classNames$f.popupSection\n  }, /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    className: classNames$f.popupSectionItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$f.dotIcon,\n    style: {\n      backgroundColor\n    }\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$f.content\n  }, name), /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"icon\", \"ic-dropdown-arrow\", {\n      open: isOpened\n    })\n  })), isOpened && /* @__PURE__ */h$3(CalendarDropdownMenu, {\n    calendars,\n    setOpened,\n    onChangeIndex: changeIndex\n  }));\n}\nconst classNames$e = {\n  closeButton: cls(\"popup-button\", \"popup-close\"),\n  closeIcon: cls(\"icon\", \"ic-close\")\n};\nfunction ClosePopupButton({\n  type,\n  close\n}) {\n  const {\n    hideAllPopup\n  } = useDispatch(\"popup\");\n  const onClickHandler = () => {\n    hideAllPopup();\n    if (isFunction$2(close)) {\n      close();\n    }\n  };\n  return /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    className: classNames$e.closeButton,\n    onClick: onClickHandler\n  }, type === \"moreEvents\" ? /* @__PURE__ */h$3(Template, {\n    template: \"monthMoreClose\"\n  }) : /* @__PURE__ */h$3(\"i\", {\n    className: classNames$e.closeIcon\n  }));\n}\nconst classNames$d = {\n  confirmButton: cls(\"popup-button\", \"popup-confirm\")\n};\nfunction ConfirmPopupButton({\n  children\n}) {\n  return /* @__PURE__ */h$3(\"button\", {\n    type: \"submit\",\n    className: classNames$d.confirmButton\n  }, /* @__PURE__ */h$3(\"span\", null, children));\n}\nfunction useStringOnlyTemplate({\n  template,\n  model,\n  defaultValue = \"\"\n}) {\n  const templates2 = useStore(templateSelector);\n  const templateFunc = templates2[template];\n  if (isNil(templateFunc)) {\n    return defaultValue;\n  }\n  let result = templateFunc(model);\n  if (!isString_1(result)) {\n    result = defaultValue;\n  }\n  return result;\n}\nconst classNames$c = {\n  datePickerContainer: cls(\"datepicker-container\"),\n  datePicker: cls(\"popup-section-item\", \"popup-date-picker\"),\n  allday: cls(\"popup-section-item\", \"popup-section-allday\"),\n  dateIcon: cls(\"icon\", \"ic-date\"),\n  dateDash: cls(\"popup-date-dash\"),\n  content: cls(\"content\")\n};\nconst DateSelector = R(function DateSelector2({\n  start,\n  end,\n  isAllday: isAllday2 = false,\n  formStateDispatch\n}, ref) {\n  const {\n    usageStatistics\n  } = useStore(optionsSelector);\n  const startPickerContainerRef = s$2(null);\n  const startPickerInputRef = s$2(null);\n  const endPickerContainerRef = s$2(null);\n  const endPickerInputRef = s$2(null);\n  const startDatePlaceholder = useStringOnlyTemplate({\n    template: \"startDatePlaceholder\",\n    defaultValue: \"Start Date\"\n  });\n  const endDatePlaceholder = useStringOnlyTemplate({\n    template: \"endDatePlaceholder\",\n    defaultValue: \"End Date\"\n  });\n  const toggleAllday = () => formStateDispatch({\n    type: FormStateActionType.setAllday,\n    isAllday: !isAllday2\n  });\n  _$2(() => {\n    if (startPickerContainerRef.current && startPickerInputRef.current && endPickerContainerRef.current && endPickerInputRef.current) {\n      const startDate = new TZDate(start);\n      const endDate = new TZDate(end);\n      if (isAllday2) {\n        startDate.setHours(12, 0, 0);\n        endDate.setHours(13, 0, 0);\n      }\n      ref.current = DatePicker.createRangePicker({\n        startpicker: {\n          date: startDate.toDate(),\n          input: startPickerInputRef.current,\n          container: startPickerContainerRef.current\n        },\n        endpicker: {\n          date: endDate.toDate(),\n          input: endPickerInputRef.current,\n          container: endPickerContainerRef.current\n        },\n        format: isAllday2 ? \"yyyy-MM-dd\" : \"yyyy-MM-dd HH:mm\",\n        timePicker: isAllday2 ? false : {\n          showMeridiem: false,\n          usageStatistics\n        },\n        usageStatistics\n      });\n    }\n  }, [start, end, isAllday2, usageStatistics, ref]);\n  return /* @__PURE__ */h$3(PopupSection, null, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$c.datePicker\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$c.dateIcon\n  }), /* @__PURE__ */h$3(\"input\", {\n    name: \"start\",\n    className: classNames$c.content,\n    placeholder: startDatePlaceholder,\n    ref: startPickerInputRef\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$c.datePickerContainer,\n    ref: startPickerContainerRef\n  })), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$c.dateDash\n  }, \"-\"), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$c.datePicker\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$c.dateIcon\n  }), /* @__PURE__ */h$3(\"input\", {\n    name: \"end\",\n    className: classNames$c.content,\n    placeholder: endDatePlaceholder,\n    ref: endPickerInputRef\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$c.datePickerContainer,\n    ref: endPickerContainerRef\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$c.allday,\n    onClick: toggleAllday\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"icon\", {\n      \"ic-checkbox-normal\": !isAllday2,\n      \"ic-checkbox-checked\": isAllday2\n    })\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$c.content\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"popupIsAllday\"\n  })), /* @__PURE__ */h$3(\"input\", {\n    name: \"isAllday\",\n    type: \"checkbox\",\n    className: cls(\"hidden-input\"),\n    value: isAllday2 ? \"true\" : \"false\",\n    checked: isAllday2\n  })));\n});\nconst EVENT_STATES = [\"Busy\", \"Free\"];\nconst classNames$b = {\n  popupSectionItem: cls(\"popup-section-item\", \"dropdown-menu-item\"),\n  dropdownMenu: cls(\"dropdown-menu\"),\n  icon: cls(\"icon\"),\n  content: cls(\"content\")\n};\nfunction StateDropdownMenu({\n  setOpened,\n  setEventState\n}) {\n  const onClickDropdown = (e2, state) => {\n    e2.stopPropagation();\n    setOpened(false);\n    setEventState(state);\n  };\n  return /* @__PURE__ */h$3(\"ul\", {\n    className: classNames$b.dropdownMenu\n  }, EVENT_STATES.map(state => /* @__PURE__ */h$3(\"li\", {\n    key: state,\n    className: classNames$b.popupSectionItem,\n    onClick: e2 => onClickDropdown(e2, state)\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$b.icon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$b.content\n  }, state === \"Busy\" ? /* @__PURE__ */h$3(Template, {\n    template: \"popupStateBusy\"\n  }) : /* @__PURE__ */h$3(Template, {\n    template: \"popupStateFree\"\n  })))));\n}\nconst classNames$a = {\n  popupSection: [\"dropdown-section\", \"state-section\"],\n  popupSectionItem: cls(\"popup-section-item\", \"popup-button\"),\n  stateIcon: cls(\"icon\", \"ic-state\"),\n  arrowIcon: cls(\"icon\", \"ic-dropdown-arrow\"),\n  content: cls(\"content\", \"event-state\")\n};\nfunction EventStateSelector({\n  eventState = \"Busy\",\n  formStateDispatch\n}) {\n  const {\n    isOpened,\n    setOpened,\n    toggleDropdown\n  } = useDropdownState();\n  const handleChangeEventState = state => formStateDispatch({\n    type: FormStateActionType.setState,\n    state\n  });\n  return /* @__PURE__ */h$3(PopupSection, {\n    onClick: toggleDropdown,\n    classNames: classNames$a.popupSection\n  }, /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    className: classNames$a.popupSectionItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$a.stateIcon\n  }), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$a.content\n  }, eventState === \"Busy\" ? /* @__PURE__ */h$3(Template, {\n    template: \"popupStateBusy\"\n  }) : /* @__PURE__ */h$3(Template, {\n    template: \"popupStateFree\"\n  })), /* @__PURE__ */h$3(\"span\", {\n    className: classNames$a.arrowIcon\n  })), isOpened && /* @__PURE__ */h$3(StateDropdownMenu, {\n    setOpened,\n    setEventState: handleChangeEventState\n  }));\n}\nconst classNames$9 = {\n  popupSectionItem: cls(\"popup-section-item\", \"popup-section-location\"),\n  locationIcon: cls(\"icon\", \"ic-location\"),\n  content: cls(\"content\")\n};\nfunction LocationInputBox({\n  location: location2,\n  formStateDispatch\n}) {\n  const locationPlaceholder = useStringOnlyTemplate({\n    template: \"locationPlaceholder\",\n    defaultValue: \"Location\"\n  });\n  const handleLocationChange = e2 => {\n    formStateDispatch({\n      type: FormStateActionType.setLocation,\n      location: e2.currentTarget.value\n    });\n  };\n  return /* @__PURE__ */h$3(PopupSection, null, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$9.popupSectionItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$9.locationIcon\n  }), /* @__PURE__ */h$3(\"input\", {\n    name: \"location\",\n    className: classNames$9.content,\n    placeholder: locationPlaceholder,\n    value: location2,\n    onChange: handleLocationChange\n  })));\n}\nconst classNames$8 = {\n  popupSectionItem: cls(\"popup-section-item\", \"popup-section-title\"),\n  privateButton: cls(\"popup-section-item\", \"popup-section-private\", \"popup-button\"),\n  titleIcon: cls(\"icon\", \"ic-title\"),\n  content: cls(\"content\")\n};\nfunction TitleInputBox({\n  title,\n  isPrivate = false,\n  formStateDispatch\n}) {\n  const titlePlaceholder = useStringOnlyTemplate({\n    template: \"titlePlaceholder\",\n    defaultValue: \"Subject\"\n  });\n  const togglePrivate = () => formStateDispatch({\n    type: FormStateActionType.setPrivate,\n    isPrivate: !isPrivate\n  });\n  const handleInputChange = e2 => {\n    formStateDispatch({\n      type: FormStateActionType.setTitle,\n      title: e2.currentTarget.value\n    });\n  };\n  return /* @__PURE__ */h$3(PopupSection, null, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$8.popupSectionItem\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: classNames$8.titleIcon\n  }), /* @__PURE__ */h$3(\"input\", {\n    name: \"title\",\n    className: classNames$8.content,\n    placeholder: titlePlaceholder,\n    value: title,\n    onChange: handleInputChange,\n    required: true\n  })), /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    className: classNames$8.privateButton,\n    onClick: togglePrivate\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"icon\", {\n      \"ic-private\": isPrivate,\n      \"ic-public\": !isPrivate\n    })\n  }), /* @__PURE__ */h$3(\"input\", {\n    name: \"isPrivate\",\n    type: \"checkbox\",\n    className: cls(\"hidden-input\"),\n    value: isPrivate ? \"true\" : \"false\",\n    checked: isPrivate\n  })));\n}\nconst classNames$7 = {\n  popupContainer: cls(\"popup-container\"),\n  formContainer: cls(\"form-container\"),\n  popupArrowBorder: cls(\"popup-arrow-border\"),\n  popupArrowFill: cls(\"popup-arrow-fill\")\n};\nfunction calculatePopupPosition(popupArrowPointPosition, layoutRect, popupRect) {\n  let top = popupArrowPointPosition.top - popupRect.height - HALF_OF_POPUP_ARROW_HEIGHT;\n  let left = popupArrowPointPosition.left - popupRect.width / 2;\n  let direction = FormPopupArrowDirection.bottom;\n  if (top < layoutRect.top) {\n    direction = FormPopupArrowDirection.top;\n    top = popupArrowPointPosition.top + HALF_OF_POPUP_ARROW_HEIGHT;\n  }\n  if (isTopOutOfLayout(top, layoutRect, popupRect)) {\n    top = layoutRect.top + layoutRect.height - popupRect.height;\n  }\n  if (isLeftOutOfLayout(left, layoutRect, popupRect)) {\n    left = layoutRect.left + layoutRect.width - popupRect.width;\n  }\n  return {\n    top: top + window.scrollY,\n    left: Math.max(left, layoutRect.left) + window.scrollX,\n    direction\n  };\n}\nfunction isBooleanKey(key) {\n  return BOOLEAN_KEYS_OF_EVENT_MODEL_DATA.indexOf(key) !== -1;\n}\nfunction getChanges(event, eventObject) {\n  return Object.entries(eventObject).reduce((changes, [key, value]) => {\n    const eventObjectKey = key;\n    if (event[eventObjectKey] instanceof TZDate) {\n      if (compare(event[eventObjectKey], value) !== 0) {\n        changes[eventObjectKey] = value;\n      }\n    } else if (event[eventObjectKey] !== value) {\n      changes[eventObjectKey] = value;\n    }\n    return changes;\n  }, {});\n}\nfunction EventFormPopup() {\n  var _a;\n  const {\n    calendars\n  } = useStore(calendarSelector);\n  const {\n    hideAllPopup\n  } = useDispatch(\"popup\");\n  const popupParams = useStore(eventFormPopupParamSelector);\n  const {\n    start,\n    end,\n    popupArrowPointPosition,\n    close,\n    isCreationPopup,\n    event\n  } = popupParams != null ? popupParams : {};\n  const eventBus = useEventBus();\n  const formPopupSlot = useFloatingLayer(\"formPopupSlot\");\n  const [formState, formStateDispatch] = useFormState((_a = calendars[0]) == null ? void 0 : _a.id);\n  const datePickerRef = s$2(null);\n  const popupContainerRef = s$2(null);\n  const [style, setStyle] = y$1({});\n  const [arrowLeft, setArrowLeft] = y$1(0);\n  const [arrowDirection, setArrowDirection] = y$1(FormPopupArrowDirection.bottom);\n  const layoutContainer = useLayoutContainer();\n  const popupArrowClassName = F$2(() => {\n    const top = arrowDirection === FormPopupArrowDirection.top;\n    const bottom = arrowDirection === FormPopupArrowDirection.bottom;\n    return cls(\"popup-arrow\", {\n      top,\n      bottom\n    });\n  }, [arrowDirection]);\n  h$2(() => {\n    if (popupContainerRef.current && popupArrowPointPosition && layoutContainer) {\n      const layoutRect = layoutContainer.getBoundingClientRect();\n      const popupRect = popupContainerRef.current.getBoundingClientRect();\n      const {\n        top,\n        left,\n        direction\n      } = calculatePopupPosition(popupArrowPointPosition, layoutRect, popupRect);\n      const arrowLeftPosition = popupArrowPointPosition.left - left;\n      setStyle({\n        left,\n        top\n      });\n      setArrowLeft(arrowLeftPosition);\n      setArrowDirection(direction);\n    }\n  }, [layoutContainer, popupArrowPointPosition]);\n  _$2(() => {\n    if (isPresent(popupParams) && isPresent(event)) {\n      formStateDispatch({\n        type: FormStateActionType.init,\n        event: {\n          title: popupParams.title,\n          location: popupParams.location,\n          isAllday: popupParams.isAllday,\n          isPrivate: popupParams.isPrivate,\n          calendarId: event.calendarId,\n          state: popupParams.eventState\n        }\n      });\n    }\n  }, [calendars, event, formStateDispatch, popupParams]);\n  _$2(() => {\n    if (isNil(popupParams)) {\n      formStateDispatch({\n        type: FormStateActionType.reset\n      });\n    }\n  }, [formStateDispatch, popupParams]);\n  if (isNil(start) || isNil(end) || isNil(formPopupSlot)) {\n    return null;\n  }\n  const onSubmit = e2 => {\n    var _a2, _b;\n    e2.preventDefault();\n    const formData = new FormData(e2.target);\n    const eventData = __spreadValues({}, formState);\n    formData.forEach((data, key) => {\n      eventData[key] = isBooleanKey(key) ? data === \"true\" : data;\n    });\n    eventData.start = new TZDate((_a2 = datePickerRef.current) == null ? void 0 : _a2.getStartDate());\n    eventData.end = new TZDate((_b = datePickerRef.current) == null ? void 0 : _b.getEndDate());\n    if (isCreationPopup) {\n      eventBus.fire(\"beforeCreateEvent\", eventData);\n    } else if (event) {\n      const changes = getChanges(event, eventData);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: event.toEventObject(),\n        changes\n      });\n    }\n    hideAllPopup();\n  };\n  return V( /* @__PURE__ */h$3(\"div\", {\n    role: \"dialog\",\n    className: classNames$7.popupContainer,\n    ref: popupContainerRef,\n    style\n  }, /* @__PURE__ */h$3(\"form\", {\n    onSubmit\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$7.formContainer\n  }, (calendars == null ? void 0 : calendars.length) ? /* @__PURE__ */h$3(CalendarSelector, {\n    selectedCalendarId: formState.calendarId,\n    calendars,\n    formStateDispatch\n  }) : /* @__PURE__ */h$3(PopupSection, null), /* @__PURE__ */h$3(TitleInputBox, {\n    title: formState.title,\n    isPrivate: formState.isPrivate,\n    formStateDispatch\n  }), /* @__PURE__ */h$3(LocationInputBox, {\n    location: formState.location,\n    formStateDispatch\n  }), /* @__PURE__ */h$3(DateSelector, {\n    start,\n    end,\n    isAllday: formState.isAllday,\n    formStateDispatch,\n    ref: datePickerRef\n  }), /* @__PURE__ */h$3(EventStateSelector, {\n    eventState: formState.state,\n    formStateDispatch\n  }), /* @__PURE__ */h$3(ClosePopupButton, {\n    type: \"form\",\n    close\n  }), /* @__PURE__ */h$3(PopupSection, null, /* @__PURE__ */h$3(ConfirmPopupButton, null, isCreationPopup ? /* @__PURE__ */h$3(Template, {\n    template: \"popupSave\"\n  }) : /* @__PURE__ */h$3(Template, {\n    template: \"popupUpdate\"\n  })))), /* @__PURE__ */h$3(\"div\", {\n    className: popupArrowClassName\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$7.popupArrowBorder,\n    style: {\n      left: arrowLeft\n    }\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$7.popupArrowFill\n  }))))), formPopupSlot);\n}\nfunction shownPopupParamSelector(state) {\n  return Object.values(state.popup).find(popup => isPresent(popup));\n}\nfunction PopupOverlay() {\n  const shownPopupParam = useStore(shownPopupParamSelector);\n  const {\n    hideAllPopup\n  } = useDispatch(\"popup\");\n  const isPopupShown = isPresent(shownPopupParam);\n  const onClick = ev => {\n    var _a;\n    ev.stopPropagation();\n    (_a = shownPopupParam == null ? void 0 : shownPopupParam.close) == null ? void 0 : _a.call(shownPopupParam);\n    hideAllPopup();\n  };\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"popup-overlay\"),\n    style: {\n      display: isPopupShown ? \"block\" : \"none\"\n    },\n    onClick\n  });\n}\nconst classNames$6 = {\n  container: cls(\"see-more-container\"),\n  seeMore: cls(\"see-more\"),\n  header: cls(\"see-more-header\"),\n  list: cls(\"month-more-list\")\n};\nfunction SeeMoreEventsPopup() {\n  const popupParams = useStore(seeMorePopupParamSelector);\n  const {\n    date: date2,\n    events = [],\n    popupPosition\n  } = popupParams != null ? popupParams : {};\n  const {\n    moreView,\n    moreViewTitle\n  } = useMonthTheme();\n  const seeMorePopupSlot = useFloatingLayer(\"seeMorePopupSlot\");\n  const eventBus = useEventBus();\n  const moreEventsPopupContainerRef = s$2(null);\n  const isHidden = isNil(date2) || isNil(popupPosition) || isNil(seeMorePopupSlot);\n  _$2(() => {\n    if (!isHidden && moreEventsPopupContainerRef.current) {\n      eventBus.fire(\"clickMoreEventsBtn\", {\n        date: date2.toDate(),\n        target: moreEventsPopupContainerRef.current\n      });\n    }\n  }, [date2, eventBus, isHidden]);\n  if (isHidden) {\n    return null;\n  }\n  const style = {\n    height: MONTH_MORE_VIEW_HEADER_HEIGHT,\n    marginBottom: MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM,\n    padding: MONTH_MORE_VIEW_HEADER_PADDING,\n    backgroundColor: moreViewTitle.backgroundColor\n  };\n  const moreTitle = {\n    ymd: toFormat(date2, \"YYYY-MM-DD\"),\n    day: date2.getDay(),\n    date: date2.getDate().toString().padStart(2, \"0\")\n  };\n  const moreViewListStyle = {\n    height: `calc(100% - ${MONTH_MORE_VIEW_HEADER_HEIGHT + MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM + MONTH_MORE_VIEW_HEADER_PADDING_TOP}px)`\n  };\n  return V( /* @__PURE__ */h$3(\"div\", {\n    role: \"dialog\",\n    className: classNames$6.container,\n    style: popupPosition,\n    ref: moreEventsPopupContainerRef\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$6.seeMore,\n    style: moreView\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$6.header,\n    style\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"monthMoreTitleDate\",\n    param: moreTitle\n  }), /* @__PURE__ */h$3(ClosePopupButton, {\n    type: \"moreEvents\"\n  })), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$6.list,\n    style: moreViewListStyle\n  }, events.map(uiModel => /* @__PURE__ */h$3(HorizontalEvent, {\n    key: `see-more-event-item-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: MONTH_EVENT_HEIGHT,\n    headerHeight: MONTH_MORE_VIEW_HEADER_HEIGHT,\n    flat: true\n  }))))), seeMorePopupSlot);\n}\nfunction getLayoutStylesFromInfo(width, height) {\n  const styles = {\n    height: toPercent(100)\n  };\n  if (width) {\n    styles.width = width;\n  }\n  if (height) {\n    styles.height = height;\n  }\n  return styles;\n}\nfunction Layout({\n  children,\n  width,\n  height,\n  className: className2 = \"\",\n  autoAdjustPanels = false\n}) {\n  const {\n    backgroundColor\n  } = useTheme(commonThemeSelector);\n  const [container, containerRefCallback] = useDOMNode();\n  const {\n    setLastPanelType,\n    updateLayoutHeight\n  } = useDispatch(\"weekViewLayout\");\n  const layoutClassName = F$2(() => `${cls(\"layout\")} ${className2}`, [className2]);\n  h$2(() => {\n    if (container) {\n      const onResizeWindow = () => updateLayoutHeight(container.offsetHeight);\n      onResizeWindow();\n      window.addEventListener(\"resize\", onResizeWindow);\n      return () => window.removeEventListener(\"resize\", onResizeWindow);\n    }\n    return noop;\n  }, [container, updateLayoutHeight]);\n  h$2(() => {\n    if (container && autoAdjustPanels) {\n      const childArray = x$3(children);\n      const lastChild = childArray[childArray.length - 1];\n      if (!isString_1(lastChild) && !isNumber_1(lastChild) && !isNil(lastChild)) {\n        setLastPanelType(lastChild.props.name);\n      }\n    }\n  }, [children, setLastPanelType, autoAdjustPanels, container]);\n  return /* @__PURE__ */h$3(LayoutContainerProvider, {\n    value: container\n  }, /* @__PURE__ */h$3(\"div\", {\n    ref: containerRefCallback,\n    className: layoutClassName,\n    style: __spreadProps(__spreadValues({}, getLayoutStylesFromInfo(width, height)), {\n      backgroundColor\n    })\n  }, container ? children : null), /* @__PURE__ */h$3(EventFormPopup, null), /* @__PURE__ */h$3(EventDetailPopup, null), /* @__PURE__ */h$3(SeeMoreEventsPopup, null), /* @__PURE__ */h$3(PopupOverlay, null));\n}\nfunction getDefaultStyle(height, border) {\n  return {\n    height,\n    width: \"100%\",\n    cursor: \"row-resize\",\n    borderTop: border,\n    borderBottom: border\n  };\n}\nfunction PanelResizer({\n  name,\n  height\n}) {\n  const border = useTheme(T$1(theme => theme.week.panelResizer.border, []));\n  const style = getDefaultStyle(height, border);\n  const defaultGuideStyle = __spreadProps(__spreadValues({}, style), {\n    display: \"none\",\n    border: \"none\",\n    backgroundColor: \"#999\"\n  });\n  const [guideStyle, setGuideStyle] = y$1(defaultGuideStyle);\n  const startPos = s$2(null);\n  const {\n    updateDayGridRowHeightByDiff\n  } = useDispatch(\"weekViewLayout\");\n  const onMouseDown = useDrag(DRAGGING_TYPE_CONSTANTS.panelResizer, {\n    onDragStart: e2 => {\n      startPos.current = {\n        left: e2.pageX,\n        top: e2.pageY\n      };\n    },\n    onDrag: e2 => {\n      if (startPos.current) {\n        const top = e2.pageY - startPos.current.top;\n        setGuideStyle(prev => __spreadProps(__spreadValues({}, prev), {\n          top,\n          display: null\n        }));\n      }\n    },\n    onMouseUp: e2 => {\n      if (startPos.current) {\n        const diff = e2.pageY - startPos.current.top;\n        startPos.current = null;\n        setGuideStyle(defaultGuideStyle);\n        updateDayGridRowHeightByDiff({\n          rowName: name,\n          diff\n        });\n      }\n    }\n  });\n  return /* @__PURE__ */h$3(\"div\", {\n    style: {\n      position: \"relative\"\n    }\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-resizer\"),\n    style,\n    onMouseDown\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel-resizer-guide\"),\n    style: guideStyle\n  }));\n}\nfunction getPanelSide(side, maxExpandableSide) {\n  return maxExpandableSide ? Math.min(maxExpandableSide, side) : side;\n}\nfunction getPanelStyle({\n  initialHeight,\n  initialWidth,\n  overflowX,\n  overflowY,\n  maxExpandableWidth,\n  maxExpandableHeight,\n  minHeight,\n  maxHeight,\n  minWidth,\n  maxWidth\n}) {\n  const style = {};\n  if (initialWidth) {\n    style.width = getPanelSide(initialWidth, maxExpandableWidth);\n    style.height = \"100%\";\n  }\n  if (initialHeight) {\n    style.width = \"100%\";\n    style.height = getPanelSide(initialHeight, maxExpandableHeight);\n  }\n  if (overflowX) {\n    style.overflowX = \"auto\";\n  }\n  if (overflowY) {\n    style.overflowY = \"auto\";\n  }\n  return __spreadProps(__spreadValues({}, style), {\n    minHeight,\n    maxHeight,\n    minWidth,\n    maxWidth\n  });\n}\nconst Panel = R(function Panel2({\n  name,\n  initialWidth = DEFAULT_PANEL_HEIGHT,\n  initialHeight = DEFAULT_PANEL_HEIGHT,\n  overflowX,\n  overflowY,\n  maxExpandableWidth,\n  maxExpandableHeight,\n  minHeight,\n  maxHeight,\n  minWidth,\n  maxWidth,\n  resizerWidth = DEFAULT_RESIZER_LENGTH,\n  resizerHeight = DEFAULT_RESIZER_LENGTH,\n  resizable,\n  children\n}, ref) {\n  const {\n    updateDayGridRowHeight\n  } = useDispatch(\"weekViewLayout\");\n  const {\n    height: dayGridRowHeight\n  } = useStore(T$1(state => {\n    var _a;\n    return (_a = state.weekViewLayout.dayGridRows[name]) != null ? _a : {};\n  }, [name]));\n  const height = dayGridRowHeight != null ? dayGridRowHeight : initialHeight;\n  h$2(() => {\n    updateDayGridRowHeight({\n      rowName: name,\n      height: initialHeight\n    });\n  }, [initialHeight, name, updateDayGridRowHeight]);\n  const styles = getPanelStyle({\n    initialWidth,\n    initialHeight: height,\n    overflowX,\n    overflowY,\n    maxExpandableWidth,\n    maxExpandableHeight,\n    minHeight,\n    maxHeight,\n    minWidth,\n    maxWidth\n  });\n  const isResizable = F$2(() => {\n    if (isNil(resizable) || isBoolean_1(resizable)) {\n      return !!resizable;\n    }\n    return resizable.includes(name);\n  }, [resizable, name]);\n  return /* @__PURE__ */h$3(p$3, null, /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"panel\", name),\n    style: styles,\n    ref\n  }, children), isResizable ? /* @__PURE__ */h$3(PanelResizer, {\n    name,\n    width: resizerWidth,\n    height: resizerHeight\n  }) : null);\n});\nconst className = \"timegrid\";\nconst addTimeGridPrefix = selector => `${className}-${selector}`;\nconst timeFormats = {\n  second: \"HH:mm:ss\",\n  minute: \"HH:mm\",\n  hour: \"HH:mm\",\n  date: \"HH:mm\",\n  month: \"MM.DD\",\n  year: \"YYYY.MM.DD\"\n};\nconst classNames$5 = {\n  time: cls(\"event-time\"),\n  content: cls(\"event-time-content\"),\n  travelTime: cls(\"travel-time\"),\n  resizeHandleX: cls(\"resize-handler-x\"),\n  moveEvent: cls(\"dragging--move-event\"),\n  resizeEvent: cls(\"dragging--resize-vertical-event\")\n};\nfunction getMarginLeft(left) {\n  const {\n    percent,\n    px\n  } = extractPercentPx(`${left}`);\n  return left > 0 || percent > 0 || px > 0 ? TIME_EVENT_CONTAINER_MARGIN_LEFT : 0;\n}\nfunction getContainerWidth(width, marginLeft) {\n  if (isString_1(width)) {\n    return width;\n  }\n  if (width >= 0) {\n    return `calc(${toPercent(width)} - ${marginLeft}px)`;\n  }\n  return \"\";\n}\nfunction getStyles({\n  uiModel,\n  isDraggingTarget,\n  hasNextStartTime,\n  calendarColor,\n  minHeight\n}) {\n  const {\n    top,\n    left,\n    height,\n    width,\n    duplicateLeft,\n    duplicateWidth,\n    goingDurationHeight,\n    modelDurationHeight,\n    comingDurationHeight,\n    croppedStart,\n    croppedEnd\n  } = uiModel;\n  const travelBorderColor = \"white\";\n  const borderRadius = 2;\n  const defaultMarginBottom = 2;\n  const marginLeft = getMarginLeft(left);\n  const {\n    color,\n    backgroundColor,\n    borderColor,\n    dragBackgroundColor\n  } = getEventColors(uiModel, calendarColor);\n  const containerStyle = {\n    width: getContainerWidth(duplicateWidth || width, marginLeft),\n    height: `calc(${toPercent(Math.max(height, minHeight))} - ${defaultMarginBottom}px)`,\n    top: toPercent(top),\n    left: duplicateLeft || toPercent(left),\n    borderRadius,\n    borderLeft: `3px solid ${borderColor}`,\n    marginLeft,\n    color,\n    backgroundColor: isDraggingTarget ? dragBackgroundColor : backgroundColor,\n    opacity: isDraggingTarget ? 0.5 : 1,\n    zIndex: hasNextStartTime ? 1 : 0\n  };\n  const goingDurationStyle = {\n    height: toPercent(goingDurationHeight),\n    borderBottom: `1px dashed ${travelBorderColor}`\n  };\n  const modelDurationStyle = {\n    height: toPercent(modelDurationHeight)\n  };\n  const comingDurationStyle = {\n    height: toPercent(comingDurationHeight),\n    borderTop: `1px dashed ${travelBorderColor}`\n  };\n  if (croppedStart) {\n    containerStyle.borderTopLeftRadius = 0;\n    containerStyle.borderTopRightRadius = 0;\n  }\n  if (croppedEnd) {\n    containerStyle.borderBottomLeftRadius = 0;\n    containerStyle.borderBottomRightRadius = 0;\n  }\n  return {\n    containerStyle,\n    goingDurationStyle,\n    modelDurationStyle,\n    comingDurationStyle\n  };\n}\nfunction isDraggableEvent({\n  uiModel,\n  isReadOnlyCalendar,\n  isDraggingTarget,\n  hasNextStartTime\n}) {\n  const {\n    model\n  } = uiModel;\n  return !isReadOnlyCalendar && !model.isReadOnly && !isDraggingTarget && !hasNextStartTime;\n}\nfunction TimeEvent({\n  uiModel,\n  nextStartTime,\n  isResizingGuide = false,\n  minHeight = 0\n}) {\n  const {\n    useDetailPopup,\n    isReadOnly: isReadOnlyCalendar,\n    week: weekOptions\n  } = useStore(optionsSelector);\n  const calendarColor = useCalendarColor(uiModel.model);\n  const {\n    collapseDuplicateEvents\n  } = weekOptions;\n  const layoutContainer = useLayoutContainer();\n  const {\n    showDetailPopup\n  } = useDispatch(\"popup\");\n  const {\n    setDraggingEventUIModel\n  } = useDispatch(\"dnd\");\n  const {\n    setSelectedDuplicateEventCid\n  } = useDispatch(\"weekViewLayout\");\n  const eventBus = useEventBus();\n  const eventContainerRef = s$2(null);\n  const [isDraggingTarget, setIsDraggingTarget] = y$1(false);\n  const {\n    model,\n    goingDurationHeight,\n    modelDurationHeight,\n    comingDurationHeight,\n    croppedEnd\n  } = uiModel;\n  const {\n    id,\n    calendarId,\n    customStyle\n  } = model;\n  const hasNextStartTime = isPresent(nextStartTime);\n  const {\n    containerStyle,\n    goingDurationStyle,\n    modelDurationStyle,\n    comingDurationStyle\n  } = getStyles({\n    uiModel,\n    isDraggingTarget,\n    hasNextStartTime,\n    calendarColor,\n    minHeight\n  });\n  const isGuide = hasNextStartTime || isResizingGuide;\n  useTransientUpdate(dndSelector, ({\n    draggingEventUIModel,\n    draggingState\n  }) => {\n    if (draggingState === DraggingState.DRAGGING && (draggingEventUIModel == null ? void 0 : draggingEventUIModel.cid()) === uiModel.cid() && !hasNextStartTime && !isResizingGuide) {\n      setIsDraggingTarget(true);\n    } else {\n      setIsDraggingTarget(false);\n    }\n  });\n  _$2(() => {\n    if (!isResizingGuide) {\n      eventBus.fire(\"afterRenderEvent\", uiModel.model.toEventObject());\n    }\n  }, []);\n  const startDragEvent = className2 => {\n    setDraggingEventUIModel(uiModel);\n    layoutContainer == null ? void 0 : layoutContainer.classList.add(className2);\n  };\n  const endDragEvent = className2 => {\n    setIsDraggingTarget(false);\n    layoutContainer == null ? void 0 : layoutContainer.classList.remove(className2);\n  };\n  const onMoveStart = useDrag(DRAGGING_TYPE_CREATORS.moveEvent(\"timeGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => {\n      if (isDraggable) {\n        startDragEvent(classNames$5.moveEvent);\n      }\n    },\n    onMouseUp: (e2, {\n      draggingState\n    }) => {\n      endDragEvent(classNames$5.moveEvent);\n      const isClick = draggingState <= DraggingState.INIT;\n      if (isClick && collapseDuplicateEvents) {\n        const selectedDuplicateEventCid = uiModel.duplicateEvents.length > 0 ? uiModel.cid() : DEFAULT_DUPLICATE_EVENT_CID;\n        setSelectedDuplicateEventCid(selectedDuplicateEventCid);\n      }\n      if (isClick && useDetailPopup && eventContainerRef.current) {\n        showDetailPopup({\n          event: uiModel.model,\n          eventRect: eventContainerRef.current.getBoundingClientRect()\n        }, false);\n      }\n      if (isClick) {\n        eventBus.fire(\"clickEvent\", {\n          event: uiModel.model.toEventObject(),\n          nativeEvent: e2\n        });\n      }\n    },\n    onPressESCKey: () => endDragEvent(classNames$5.moveEvent)\n  });\n  const handleMoveStart = e2 => {\n    e2.stopPropagation();\n    onMoveStart(e2);\n  };\n  const onResizeStart = useDrag(DRAGGING_TYPE_CREATORS.resizeEvent(\"timeGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => startDragEvent(classNames$5.resizeEvent),\n    onMouseUp: () => endDragEvent(classNames$5.resizeEvent),\n    onPressESCKey: () => endDragEvent(classNames$5.resizeEvent)\n  });\n  const handleResizeStart = e2 => {\n    e2.stopPropagation();\n    onResizeStart(e2);\n  };\n  const isDraggable = isDraggableEvent({\n    uiModel,\n    isReadOnlyCalendar,\n    isDraggingTarget,\n    hasNextStartTime\n  });\n  const shouldShowResizeHandle = isDraggable && !croppedEnd;\n  return /* @__PURE__ */h$3(\"div\", {\n    \"data-testid\": `${isGuide ? \"guide-\" : \"\"}time-event-${model.title}-${uiModel.cid()}`,\n    \"data-calendar-id\": calendarId,\n    \"data-event-id\": id,\n    className: classNames$5.time,\n    style: __spreadValues(__spreadValues({}, containerStyle), customStyle),\n    onMouseDown: handleMoveStart,\n    ref: eventContainerRef\n  }, goingDurationHeight ? /* @__PURE__ */h$3(\"div\", {\n    className: classNames$5.travelTime,\n    style: goingDurationStyle\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"goingDuration\",\n    param: model\n  })) : null, modelDurationHeight ? /* @__PURE__ */h$3(\"div\", {\n    className: classNames$5.content,\n    style: modelDurationStyle\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"time\",\n    param: __spreadProps(__spreadValues({}, model.toEventObject()), {\n      start: hasNextStartTime ? nextStartTime : model.start\n    })\n  })) : null, comingDurationHeight ? /* @__PURE__ */h$3(\"div\", {\n    className: classNames$5.travelTime,\n    style: comingDurationStyle\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"comingDuration\",\n    param: model\n  })) : null, shouldShowResizeHandle ? /* @__PURE__ */h$3(\"div\", {\n    className: classNames$5.resizeHandleX,\n    onMouseDown: handleResizeStart\n  }) : null);\n}\nfunction GridSelection({\n  top,\n  height,\n  text\n}) {\n  const {\n    backgroundColor,\n    border\n  } = useTheme(T$1(theme => theme.common.gridSelection, []));\n  const color = useTheme(T$1(theme => theme.week.gridSelection.color, []));\n  const style = {\n    top: toPercent(top),\n    height: toPercent(height),\n    backgroundColor,\n    border\n  };\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"time\", \"grid-selection\"),\n    style,\n    \"data-testid\": `time-grid-selection-${top}-${height}`\n  }, text.length > 0 ? /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"grid-selection-label\"),\n    style: {\n      color\n    }\n  }, text) : null);\n}\nfunction GridSelectionByColumn({\n  columnIndex,\n  timeGridRows\n}) {\n  const gridSelectionData = useStore(T$1(state => timeGridSelectionHelper.calculateSelection(state.gridSelection.timeGrid, columnIndex, timeGridRows.length - 1), [columnIndex, timeGridRows]));\n  const gridSelectionProps = F$2(() => {\n    if (!gridSelectionData) {\n      return null;\n    }\n    const {\n      startRowIndex,\n      endRowIndex,\n      isStartingColumn,\n      isSelectingMultipleColumns\n    } = gridSelectionData;\n    const {\n      top: startRowTop,\n      startTime: startRowStartTime\n    } = timeGridRows[startRowIndex];\n    const {\n      top: endRowTop,\n      height: endRowHeight,\n      endTime: endRowEndTime\n    } = timeGridRows[endRowIndex];\n    const gridSelectionHeight = endRowTop + endRowHeight - startRowTop;\n    let text = `${startRowStartTime} - ${endRowEndTime}`;\n    if (isSelectingMultipleColumns) {\n      text = isStartingColumn ? startRowStartTime : \"\";\n    }\n    return {\n      top: startRowTop,\n      height: gridSelectionHeight,\n      text\n    };\n  }, [gridSelectionData, timeGridRows]);\n  if (isNil(gridSelectionProps)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(GridSelection, __spreadValues({}, gridSelectionProps));\n}\nfunction useTimeGridEventResize({\n  gridPositionFinder,\n  totalUIModels,\n  columnIndex,\n  timeGridData\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: resizingStartUIModel,\n    clearDraggingEvent\n  } = useDraggingEvent(\"timeGrid\", \"resize\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const [guideUIModel, setGuideUIModel] = y$1(null);\n  const clearStates = T$1(() => {\n    setGuideUIModel(null);\n    clearDraggingEvent();\n    clearCurrentGridPos();\n  }, [clearCurrentGridPos, clearDraggingEvent]);\n  const baseResizingInfo = F$2(() => {\n    if (isNil(resizingStartUIModel)) {\n      return null;\n    }\n    const {\n      columns,\n      rows\n    } = timeGridData;\n    const resizeTargetUIModelColumns = totalUIModels.map(uiModels => uiModels.filter(uiModel => uiModel.cid() === resizingStartUIModel.cid()));\n    const findRowIndexOf = (targetDate, targetColumnIndex) => row => {\n      const rowStartTZDate = setTimeStrToDate(columns[targetColumnIndex].date, row.startTime);\n      const rowEndTZDate = setTimeStrToDate(timeGridData.columns[targetColumnIndex].date, row.endTime);\n      return rowStartTZDate <= targetDate && targetDate < rowEndTZDate;\n    };\n    const eventStartDateColumnIndex = resizeTargetUIModelColumns.findIndex(row => row.length > 0);\n    const resizingStartEventUIModel = resizeTargetUIModelColumns[eventStartDateColumnIndex][0];\n    const {\n      goingDuration = 0\n    } = resizingStartEventUIModel.model;\n    const renderStart = addMinutes(resizingStartEventUIModel.getStarts(), -goingDuration);\n    const eventStartDateRowIndex = Math.max(rows.findIndex(findRowIndexOf(renderStart, eventStartDateColumnIndex)), 0);\n    const eventEndDateColumnIndex = findLastIndex(resizeTargetUIModelColumns, row => row.length > 0);\n    const resizingEndEventUIModel = resizeTargetUIModelColumns[eventEndDateColumnIndex][0];\n    const {\n      comingDuration = 0\n    } = resizingEndEventUIModel.model;\n    const renderEnd = addMinutes(resizingEndEventUIModel.getStarts(), comingDuration);\n    let eventEndDateRowIndex = rows.findIndex(findRowIndexOf(renderEnd, eventEndDateColumnIndex));\n    eventEndDateRowIndex = eventEndDateRowIndex >= 0 ? eventEndDateRowIndex : rows.length - 1;\n    return {\n      eventStartDateColumnIndex,\n      eventStartDateRowIndex,\n      eventEndDateColumnIndex,\n      eventEndDateRowIndex,\n      resizeTargetUIModelColumns\n    };\n  }, [resizingStartUIModel, timeGridData, totalUIModels]);\n  const canCalculateGuideUIModel = isPresent(baseResizingInfo) && isPresent(resizingStartUIModel) && isPresent(currentGridPos);\n  const oneRowHeight = F$2(() => baseResizingInfo ? timeGridData.rows[0].height : 0, [baseResizingInfo, timeGridData.rows]);\n  _$2(() => {\n    if (canCalculateGuideUIModel) {\n      const {\n        eventStartDateRowIndex,\n        eventStartDateColumnIndex,\n        eventEndDateColumnIndex\n      } = baseResizingInfo;\n      if (columnIndex === eventEndDateColumnIndex && eventStartDateColumnIndex === eventEndDateColumnIndex) {\n        const clonedUIModel = resizingStartUIModel.clone();\n        const {\n          height,\n          goingDurationHeight,\n          comingDurationHeight\n        } = clonedUIModel;\n        const newHeight = Math.max(oneRowHeight + goingDurationHeight * height / 100 + comingDurationHeight * height / 100, timeGridData.rows[currentGridPos.rowIndex].top - timeGridData.rows[eventStartDateRowIndex].top + oneRowHeight);\n        const newGoingDurationHeight = goingDurationHeight * height / newHeight;\n        const newComingDurationHeight = comingDurationHeight * height / newHeight;\n        clonedUIModel.setUIProps({\n          height: newHeight,\n          goingDurationHeight: newGoingDurationHeight,\n          comingDurationHeight: newComingDurationHeight,\n          modelDurationHeight: 100 - (newGoingDurationHeight + newComingDurationHeight)\n        });\n        setGuideUIModel(clonedUIModel);\n      }\n    }\n  }, [baseResizingInfo, canCalculateGuideUIModel, columnIndex, currentGridPos, resizingStartUIModel, timeGridData.rows, oneRowHeight]);\n  _$2(() => {\n    if (canCalculateGuideUIModel) {\n      const {\n        resizeTargetUIModelColumns,\n        eventStartDateColumnIndex,\n        eventEndDateColumnIndex\n      } = baseResizingInfo;\n      if ((columnIndex === eventStartDateColumnIndex || columnIndex === eventEndDateColumnIndex) && eventStartDateColumnIndex !== eventEndDateColumnIndex) {\n        let clonedUIModel;\n        if (columnIndex === eventStartDateColumnIndex) {\n          clonedUIModel = resizeTargetUIModelColumns[columnIndex][0].clone();\n        } else {\n          clonedUIModel = resizingStartUIModel.clone();\n          clonedUIModel.setUIProps({\n            height: timeGridData.rows[currentGridPos.rowIndex].top + oneRowHeight\n          });\n        }\n        setGuideUIModel(clonedUIModel);\n      }\n    }\n  }, [baseResizingInfo, canCalculateGuideUIModel, columnIndex, currentGridPos, resizingStartUIModel, timeGridData.rows, oneRowHeight]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(baseResizingInfo) && isPresent(currentGridPos) && isPresent(resizingStartUIModel) && baseResizingInfo.eventEndDateColumnIndex === columnIndex;\n    if (shouldUpdate) {\n      const {\n        comingDuration = 0\n      } = resizingStartUIModel.model;\n      const targetEndDate = addMinutes(setTimeStrToDate(timeGridData.columns[columnIndex].date, timeGridData.rows[currentGridPos.rowIndex].endTime), -comingDuration);\n      const minEndDate = addMinutes(resizingStartUIModel.getStarts(), 30);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: resizingStartUIModel.model.toEventObject(),\n        changes: {\n          end: max(minEndDate, targetEndDate)\n        }\n      });\n    }\n    clearStates();\n  }, isDraggingEnd);\n  return guideUIModel;\n}\nfunction ResizingGuideByColumn({\n  gridPositionFinder,\n  totalUIModels,\n  columnIndex,\n  timeGridData\n}) {\n  const guideUIModel = useTimeGridEventResize({\n    gridPositionFinder,\n    totalUIModels,\n    columnIndex,\n    timeGridData\n  });\n  if (isNil(guideUIModel)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(TimeEvent, {\n    uiModel: guideUIModel,\n    isResizingGuide: true\n  });\n}\nconst classNames$4 = {\n  column: cls(\"column\"),\n  backgrounds: cls(\"background-events\"),\n  events: cls(\"events\")\n};\nfunction VerticalEvents({\n  eventUIModels,\n  minEventHeight\n}) {\n  const style = {\n    marginRight: 8\n  };\n  return /* @__PURE__ */h$3(\"div\", {\n    className: classNames$4.events,\n    style\n  }, eventUIModels.map(eventUIModel => /* @__PURE__ */h$3(TimeEvent, {\n    key: `${eventUIModel.valueOf()}-${eventUIModel.cid()}`,\n    uiModel: eventUIModel,\n    minHeight: minEventHeight\n  })));\n}\nfunction backgroundColorSelector$1(theme) {\n  return {\n    defaultBackgroundColor: theme.week.dayGrid.backgroundColor,\n    todayBackgroundColor: theme.week.today.backgroundColor,\n    weekendBackgroundColor: theme.week.weekend.backgroundColor\n  };\n}\nfunction getBackgroundColor({\n  today,\n  columnDate,\n  defaultBackgroundColor,\n  todayBackgroundColor,\n  weekendBackgroundColor\n}) {\n  const isTodayColumn = isSameDate(today, columnDate);\n  const isWeekendColumn = isWeekend(columnDate.getDay());\n  if (isTodayColumn) {\n    return todayBackgroundColor;\n  }\n  if (isWeekendColumn) {\n    return weekendBackgroundColor;\n  }\n  return defaultBackgroundColor;\n}\nconst Column = g$1(function Column2({\n  columnDate,\n  columnWidth,\n  columnIndex,\n  totalUIModels,\n  gridPositionFinder,\n  timeGridData,\n  isLastColumn\n}) {\n  const {\n    rows: timeGridRows\n  } = timeGridData;\n  const borderRight = useTheme(T$1(theme => theme.week.timeGrid.borderRight, []));\n  const backgroundColorTheme = useTheme(backgroundColorSelector$1);\n  const [, getNow] = usePrimaryTimezone();\n  const today = getNow();\n  const backgroundColor = getBackgroundColor(__spreadValues({\n    today,\n    columnDate\n  }, backgroundColorTheme));\n  const style = {\n    width: columnWidth,\n    backgroundColor,\n    borderRight: isLastColumn ? \"none\" : borderRight\n  };\n  const uiModelsByColumn = totalUIModels[columnIndex];\n  const minEventHeight = timeGridRows[0].height;\n  return /* @__PURE__ */h$3(\"div\", {\n    className: classNames$4.column,\n    style,\n    \"data-testid\": `timegrid-column-${columnDate.getDay()}`\n  }, /* @__PURE__ */h$3(VerticalEvents, {\n    eventUIModels: uiModelsByColumn,\n    minEventHeight\n  }), /* @__PURE__ */h$3(ResizingGuideByColumn, {\n    gridPositionFinder,\n    totalUIModels,\n    columnIndex,\n    timeGridData\n  }), /* @__PURE__ */h$3(GridSelectionByColumn, {\n    columnIndex,\n    timeGridRows\n  }));\n});\nfunction gridLineBorderSelector(theme) {\n  return {\n    halfHourLineBorder: theme.week.timeGridHalfHourLine.borderBottom,\n    hourLineBorder: theme.week.timeGridHourLine.borderBottom\n  };\n}\nconst GridLines = g$1(function GridLines2({\n  timeGridRows\n}) {\n  const {\n    halfHourLineBorder,\n    hourLineBorder\n  } = useTheme(gridLineBorderSelector);\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"gridlines\")\n  }, timeGridRows.map((time, index) => {\n    const isUpperLine = index % 2 === 0;\n    return /* @__PURE__ */h$3(\"div\", {\n      key: `gridline-${time.startTime}-${time.endTime}`,\n      className: cls(\"gridline-half\"),\n      style: {\n        top: toPercent(time.top),\n        height: toPercent(time.height),\n        borderBottom: isUpperLine ? halfHourLineBorder : hourLineBorder\n      },\n      \"data-testid\": `gridline-${time.startTime}-${time.endTime}`\n    });\n  }));\n});\nconst THIRTY_MINUTES = 30;\nfunction getCurrentIndexByTime(time, hourStart) {\n  const hour = time.getHours() - hourStart;\n  const minutes = time.getMinutes();\n  return hour * 2 + Math.floor(minutes / THIRTY_MINUTES);\n}\nfunction getMovingEventPosition({\n  draggingEvent,\n  columnDiff,\n  rowDiff,\n  timeGridDataRows,\n  currentDate\n}) {\n  const rowHeight = timeGridDataRows[0].height;\n  const maxHeight = rowHeight * timeGridDataRows.length;\n  const millisecondsDiff = rowDiff * MS_PER_THIRTY_MINUTES + columnDiff * MS_PER_DAY;\n  const hourStart = Number(timeGridDataRows[0].startTime.split(\":\")[0]);\n  const {\n    goingDuration = 0,\n    comingDuration = 0\n  } = draggingEvent.model;\n  const goingStart = addMinutes(draggingEvent.getStarts(), -goingDuration);\n  const comingEnd = addMinutes(draggingEvent.getEnds(), comingDuration);\n  const nextStart = addMilliseconds(goingStart, millisecondsDiff);\n  const nextEnd = addMilliseconds(comingEnd, millisecondsDiff);\n  const startIndex = Math.max(getCurrentIndexByTime(nextStart, hourStart), 0);\n  const endIndex = Math.min(getCurrentIndexByTime(nextEnd, hourStart), timeGridDataRows.length - 1);\n  const isStartAtPrevDate = nextStart.getFullYear() < currentDate.getFullYear() || nextStart.getMonth() < currentDate.getMonth() || nextStart.getDate() < currentDate.getDate();\n  const isEndAtNextDate = nextEnd.getFullYear() > currentDate.getFullYear() || nextEnd.getMonth() > currentDate.getMonth() || nextEnd.getDate() > currentDate.getDate();\n  const indexDiff = endIndex - (isStartAtPrevDate ? 0 : startIndex);\n  const top = isStartAtPrevDate ? 0 : timeGridDataRows[startIndex].top;\n  const height = isEndAtNextDate ? maxHeight : Math.max(indexDiff, 1) * rowHeight;\n  return {\n    top,\n    height\n  };\n}\nconst initXSelector = state => state.dnd.initX;\nconst initYSelector = state => state.dnd.initY;\nfunction useTimeGridEventMove({\n  gridPositionFinder,\n  timeGridData\n}) {\n  const initX = useStore(initXSelector);\n  const initY = useStore(initYSelector);\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"timeGrid\", \"move\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const initGridPosRef = s$2(null);\n  _$2(() => {\n    if (isPresent(initX) && isPresent(initY)) {\n      initGridPosRef.current = gridPositionFinder({\n        clientX: initX,\n        clientY: initY\n      });\n    }\n  }, [gridPositionFinder, initX, initY]);\n  const gridDiff = F$2(() => {\n    if (isNil(initGridPosRef.current) || isNil(currentGridPos)) {\n      return null;\n    }\n    return {\n      columnDiff: currentGridPos.columnIndex - initGridPosRef.current.columnIndex,\n      rowDiff: currentGridPos.rowIndex - initGridPosRef.current.rowIndex\n    };\n  }, [currentGridPos]);\n  const startDateTime = F$2(() => {\n    if (isNil(draggingEvent)) {\n      return null;\n    }\n    return draggingEvent.getStarts();\n  }, [draggingEvent]);\n  const clearState = T$1(() => {\n    clearCurrentGridPos();\n    clearDraggingEvent();\n    initGridPosRef.current = null;\n  }, [clearCurrentGridPos, clearDraggingEvent]);\n  const nextStartTime = F$2(() => {\n    if (isNil(gridDiff) || isNil(startDateTime)) {\n      return null;\n    }\n    return addMilliseconds(startDateTime, gridDiff.rowDiff * MS_PER_THIRTY_MINUTES + gridDiff.columnDiff * MS_PER_DAY);\n  }, [gridDiff, startDateTime]);\n  const movingEvent = F$2(() => {\n    if (isNil(draggingEvent) || isNil(currentGridPos) || isNil(gridDiff)) {\n      return null;\n    }\n    const clonedEvent = draggingEvent.clone();\n    const {\n      top,\n      height\n    } = getMovingEventPosition({\n      draggingEvent: clonedEvent,\n      columnDiff: gridDiff.columnDiff,\n      rowDiff: gridDiff.rowDiff,\n      timeGridDataRows: timeGridData.rows,\n      currentDate: timeGridData.columns[currentGridPos.columnIndex].date\n    });\n    clonedEvent.setUIProps({\n      left: timeGridData.columns[currentGridPos.columnIndex].left,\n      width: timeGridData.columns[currentGridPos.columnIndex].width,\n      top,\n      height\n    });\n    return clonedEvent;\n  }, [currentGridPos, draggingEvent, gridDiff, timeGridData.columns, timeGridData.rows]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(draggingEvent) && isPresent(currentGridPos) && isPresent(gridDiff) && isPresent(nextStartTime) && (gridDiff.rowDiff !== 0 || gridDiff.columnDiff !== 0);\n    if (shouldUpdate) {\n      const duration = draggingEvent.duration();\n      const nextEndTime = addMilliseconds(nextStartTime, duration);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: draggingEvent.model.toEventObject(),\n        changes: {\n          start: nextStartTime,\n          end: nextEndTime\n        }\n      });\n    }\n    clearState();\n  }, isDraggingEnd);\n  return {\n    movingEvent,\n    nextStartTime\n  };\n}\nfunction MovingEventShadow$1({\n  gridPositionFinder,\n  timeGridData\n}) {\n  const {\n    movingEvent,\n    nextStartTime\n  } = useTimeGridEventMove({\n    gridPositionFinder,\n    timeGridData\n  });\n  if (isNil(movingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(TimeEvent, {\n    uiModel: movingEvent,\n    nextStartTime\n  });\n}\nconst TEST_IDS = {\n  NOW_INDICATOR: \"timegrid-now-indicator\",\n  NOW_INDICATOR_LABEL: \"timegrid-now-indicator-label\"\n};\nconst classNames$3 = {\n  line: cls(addTimeGridPrefix(\"now-indicator\")),\n  left: cls(addTimeGridPrefix(\"now-indicator-left\")),\n  marker: cls(addTimeGridPrefix(\"now-indicator-marker\")),\n  today: cls(addTimeGridPrefix(\"now-indicator-today\")),\n  right: cls(addTimeGridPrefix(\"now-indicator-right\"))\n};\nfunction nowIndicatorTheme(theme) {\n  return {\n    pastBorder: theme.week.nowIndicatorPast.border,\n    todayBorder: theme.week.nowIndicatorToday.border,\n    futureBorder: theme.week.nowIndicatorFuture.border,\n    bulletBackgroundColor: theme.week.nowIndicatorBullet.backgroundColor\n  };\n}\nfunction NowIndicator({\n  top,\n  columnWidth,\n  columnCount,\n  columnIndex\n}) {\n  const {\n    pastBorder,\n    todayBorder,\n    futureBorder,\n    bulletBackgroundColor\n  } = useTheme(nowIndicatorTheme);\n  const layoutContainer = useLayoutContainer();\n  const eventBus = useEventBus();\n  const indicatorRef = s$2(null);\n  const leftLine = {\n    left: toPercent(columnWidth * columnIndex),\n    width: toPercent(columnWidth * columnIndex)\n  };\n  const rightLine = {\n    left: toPercent(columnWidth * (columnIndex + 1)),\n    width: toPercent(columnWidth * (columnCount - columnIndex + 1))\n  };\n  _$2(() => {\n    const scrollToNow = behavior => {\n      var _a;\n      const scrollArea = (_a = layoutContainer == null ? void 0 : layoutContainer.querySelector(`.${cls(\"panel\")}.${cls(\"time\")}`)) != null ? _a : null;\n      if (scrollArea && indicatorRef.current) {\n        const {\n          offsetHeight: scrollAreaOffsetHeight\n        } = scrollArea;\n        const {\n          offsetTop: targetOffsetTop\n        } = indicatorRef.current;\n        const newScrollTop = targetOffsetTop - scrollAreaOffsetHeight / 2;\n        if (scrollArea.scrollTo) {\n          scrollArea.scrollTo({\n            top: newScrollTop,\n            behavior\n          });\n        } else {\n          scrollArea.scrollTop = newScrollTop;\n        }\n      }\n    };\n    eventBus.on(\"scrollToNow\", scrollToNow);\n    return () => eventBus.off(\"scrollToNow\", scrollToNow);\n  }, [eventBus, layoutContainer]);\n  _$2(() => {\n    eventBus.fire(\"scrollToNow\", \"smooth\");\n  }, [eventBus]);\n  return /* @__PURE__ */h$3(\"div\", {\n    ref: indicatorRef,\n    className: classNames$3.line,\n    style: {\n      top: toPercent(top)\n    },\n    \"data-testid\": TEST_IDS.NOW_INDICATOR\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames$3.left,\n    style: {\n      width: leftLine.width,\n      borderTop: pastBorder\n    }\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$3.marker,\n    style: {\n      left: leftLine.left,\n      backgroundColor: bulletBackgroundColor\n    }\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$3.today,\n    style: {\n      left: leftLine.left,\n      width: toPercent(columnWidth),\n      borderTop: todayBorder\n    }\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: classNames$3.right,\n    style: {\n      left: rightLine.left,\n      borderTop: futureBorder\n    }\n  }));\n}\nconst classNames$2 = {\n  now: addTimeGridPrefix(\"current-time\"),\n  dayDifference: addTimeGridPrefix(\"day-difference\")\n};\nfunction NowIndicatorLabel({\n  unit,\n  top,\n  now,\n  zonedNow\n}) {\n  const color = useTheme(T$1(theme => theme.week.nowIndicatorLabel.color, []));\n  const dateDifference = F$2(() => {\n    return getDateDifference(zonedNow, now);\n  }, [zonedNow, now]);\n  const model = {\n    unit,\n    time: zonedNow,\n    format: timeFormats[unit]\n  };\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(classNames$2.now),\n    style: {\n      top: toPercent(top),\n      color\n    },\n    \"data-testid\": TEST_IDS.NOW_INDICATOR_LABEL\n  }, dateDifference !== 0 && /* @__PURE__ */h$3(\"span\", {\n    className: cls(classNames$2.dayDifference)\n  }, `[${dateDifference > 0 ? \"+\" : \"-\"}${Math.abs(dateDifference)}]`), /* @__PURE__ */h$3(Template, {\n    template: \"timegridNowIndicatorLabel\",\n    param: model,\n    as: \"span\"\n  }));\n}\nconst monthVisibleEventCountSelector = state => {\n  var _a;\n  return (_a = state.options.month.visibleEventCount) != null ? _a : 6;\n};\nconst showNowIndicatorOptionSelector = state => state.options.week.showNowIndicator;\nconst showTimezoneCollapseButtonOptionSelector = state => {\n  var _a;\n  return (_a = state.options.week.showTimezoneCollapseButton) != null ? _a : false;\n};\nconst timezonesCollapsedOptionSelector = state => {\n  var _a;\n  return (_a = state.options.week.timezonesCollapsed) != null ? _a : false;\n};\nconst classNames$1 = {\n  timeColumn: addTimeGridPrefix(\"time-column\"),\n  hourRows: addTimeGridPrefix(\"hour-rows\"),\n  time: addTimeGridPrefix(\"time\"),\n  timeLabel: addTimeGridPrefix(\"time-label\"),\n  first: addTimeGridPrefix(\"time-first\"),\n  last: addTimeGridPrefix(\"time-last\"),\n  hidden: addTimeGridPrefix(\"time-hidden\")\n};\nfunction backgroundColorSelector(theme) {\n  return {\n    primaryTimezoneBackgroundColor: theme.week.timeGridLeft.backgroundColor,\n    subTimezoneBackgroundColor: theme.week.timeGridLeftAdditionalTimezone.backgroundColor\n  };\n}\nfunction timeColorSelector(theme) {\n  return {\n    pastTimeColor: theme.week.pastTime.color,\n    futureTimeColor: theme.week.futureTime.color\n  };\n}\nfunction HourRows({\n  rowsInfo,\n  isPrimary,\n  borderRight,\n  width,\n  nowIndicatorState\n}) {\n  var _a;\n  const showNowIndicator = useStore(showNowIndicatorOptionSelector);\n  const {\n    primaryTimezoneBackgroundColor,\n    subTimezoneBackgroundColor\n  } = useTheme(backgroundColorSelector);\n  const {\n    pastTimeColor,\n    futureTimeColor\n  } = useTheme(timeColorSelector);\n  const zonedNow = isPresent(nowIndicatorState) ? addMinutes(nowIndicatorState.now, (_a = rowsInfo[0].diffFromPrimaryTimezone) != null ? _a : 0) : null;\n  const backgroundColor = isPrimary ? primaryTimezoneBackgroundColor : subTimezoneBackgroundColor;\n  return /* @__PURE__ */h$3(\"div\", {\n    role: \"rowgroup\",\n    className: cls(classNames$1.hourRows),\n    style: {\n      width: toPercent(width),\n      borderRight,\n      backgroundColor\n    }\n  }, rowsInfo.map(({\n    date: date2,\n    top,\n    className: className2\n  }) => {\n    const isPast = isPresent(zonedNow) && date2 < zonedNow;\n    const color = isPast ? pastTimeColor : futureTimeColor;\n    return /* @__PURE__ */h$3(\"div\", {\n      key: date2.getTime(),\n      className: className2,\n      style: {\n        top: toPercent(top),\n        color\n      },\n      role: \"row\"\n    }, /* @__PURE__ */h$3(Template, {\n      template: `timegridDisplay${isPrimary ? \"Primary\" : \"\"}Time`,\n      param: {\n        time: date2\n      },\n      as: \"span\"\n    }));\n  }), showNowIndicator && isPresent(nowIndicatorState) && isPresent(zonedNow) && /* @__PURE__ */h$3(NowIndicatorLabel, {\n    unit: \"hour\",\n    top: nowIndicatorState.top,\n    now: nowIndicatorState.now,\n    zonedNow\n  }));\n}\nconst TimeColumn = g$1(function TimeColumn2({\n  timeGridRows,\n  nowIndicatorState\n}) {\n  const showNowIndicator = useStore(showNowIndicatorOptionSelector);\n  const timezones = useStore(timezonesSelector);\n  const timezonesCollapsed = useStore(timezonesCollapsedOptionSelector);\n  const tzConverter = useTZConverter();\n  const {\n    width,\n    borderRight\n  } = useTheme(weekTimeGridLeftSelector);\n  const rowsByHour = F$2(() => timeGridRows.filter((_2, index) => index % 2 === 0 || index === timeGridRows.length - 1), [timeGridRows]);\n  const hourRowsPropsMapper = T$1((row, index, diffFromPrimaryTimezone) => {\n    const shouldHideRow = ({\n      top: rowTop,\n      height: rowHeight\n    }) => {\n      if (!showNowIndicator || isNil(nowIndicatorState)) {\n        return false;\n      }\n      const indicatorTop = nowIndicatorState.top;\n      return rowTop - rowHeight <= indicatorTop && indicatorTop <= rowTop + rowHeight;\n    };\n    const isFirst = index === 0;\n    const isLast = index === rowsByHour.length - 1;\n    const className2 = cls(classNames$1.time, {\n      [classNames$1.first]: isFirst,\n      [classNames$1.last]: isLast,\n      [classNames$1.hidden]: shouldHideRow(row)\n    });\n    let date2 = setTimeStrToDate(new TZDate(), isLast ? row.endTime : row.startTime);\n    if (isPresent(diffFromPrimaryTimezone)) {\n      date2 = addMinutes(date2, diffFromPrimaryTimezone);\n    }\n    return {\n      date: date2,\n      top: row.top,\n      className: className2,\n      diffFromPrimaryTimezone\n    };\n  }, [rowsByHour, nowIndicatorState, showNowIndicator]);\n  const [primaryTimezone, ...otherTimezones] = timezones;\n  const hourRowsWidth = otherTimezones.length > 0 ? 100 / (otherTimezones.length + 1) : 100;\n  const primaryTimezoneHourRowsProps = rowsByHour.map((row, index) => hourRowsPropsMapper(row, index));\n  const otherTimezoneHourRowsProps = F$2(() => {\n    if (otherTimezones.length === 0) {\n      return [];\n    }\n    return otherTimezones.reverse().map(timezone => {\n      const {\n        timezoneName\n      } = timezone;\n      const primaryTimezoneOffset = tzConverter(primaryTimezone.timezoneName).getTimezoneOffset();\n      const currentTimezoneOffset = tzConverter(timezoneName).getTimezoneOffset();\n      const diffFromPrimaryTimezone = currentTimezoneOffset - primaryTimezoneOffset;\n      return rowsByHour.map((row, index) => hourRowsPropsMapper(row, index, diffFromPrimaryTimezone));\n    });\n  }, [hourRowsPropsMapper, otherTimezones, primaryTimezone, rowsByHour, tzConverter]);\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(classNames$1.timeColumn),\n    style: {\n      width\n    },\n    \"data-testid\": \"timegrid-time-column\"\n  }, !timezonesCollapsed && otherTimezoneHourRowsProps.map(rowsInfo => /* @__PURE__ */h$3(HourRows, {\n    key: rowsInfo[0].diffFromPrimaryTimezone,\n    rowsInfo,\n    isPrimary: false,\n    borderRight,\n    width: hourRowsWidth,\n    nowIndicatorState\n  })), /* @__PURE__ */h$3(HourRows, {\n    rowsInfo: primaryTimezoneHourRowsProps,\n    isPrimary: true,\n    borderRight,\n    width: timezonesCollapsed ? 100 : hourRowsWidth,\n    nowIndicatorState\n  }));\n});\nfunction getTopPercentByTime(date2, start, end) {\n  const startTime = start.getTime();\n  const endTime = end.getTime();\n  const time = limit(date2.getTime(), [startTime], [endTime]) - startTime;\n  const max2 = endTime - startTime;\n  const topPercent = ratio(max2, 100, time);\n  return limit(topPercent, [0], [100]);\n}\nfunction getTopHeightByTime(start, end, minTime, maxTime) {\n  const top = getTopPercentByTime(start, minTime, maxTime);\n  const bottom = getTopPercentByTime(end, minTime, maxTime);\n  const height = bottom - top;\n  return {\n    top,\n    height\n  };\n}\nconst MIN_HEIGHT_PERCENT = 1;\nfunction isBetween(startColumnTime, endColumnTime) {\n  return uiModel => {\n    const {\n      goingDuration = 0,\n      comingDuration = 0\n    } = uiModel.model;\n    const ownStarts = addMinutes(uiModel.getStarts(), -goingDuration);\n    const ownEnds = addMinutes(uiModel.getEnds(), comingDuration);\n    return !(ownEnds <= startColumnTime || ownStarts >= endColumnTime);\n  };\n}\nfunction setInnerHeights(uiModel, options) {\n  const {\n    renderStart,\n    renderEnd,\n    modelStart,\n    modelEnd\n  } = options;\n  const {\n    goingDuration = 0,\n    comingDuration = 0\n  } = uiModel.model;\n  let modelDurationHeight = 100;\n  if (goingDuration > 0) {\n    const {\n      height: goingDurationHeight\n    } = getTopHeightByTime(renderStart, modelStart, renderStart, renderEnd);\n    uiModel.goingDurationHeight = goingDurationHeight;\n    modelDurationHeight -= goingDurationHeight;\n  }\n  if (comingDuration > 0) {\n    const {\n      height: comingDurationHeight\n    } = getTopHeightByTime(modelEnd, renderEnd, renderStart, renderEnd);\n    uiModel.comingDurationHeight = comingDurationHeight;\n    modelDurationHeight -= comingDurationHeight;\n  }\n  uiModel.modelDurationHeight = modelDurationHeight;\n}\nfunction setCroppedEdges(uiModel, options) {\n  const {\n    goingStart,\n    comingEnd,\n    startColumnTime,\n    endColumnTime\n  } = options;\n  if (goingStart < startColumnTime) {\n    uiModel.croppedStart = true;\n  }\n  if (comingEnd > endColumnTime) {\n    uiModel.croppedEnd = true;\n  }\n}\nfunction getDuplicateLeft(uiModel, baseLeft) {\n  const {\n    duplicateEvents,\n    duplicateEventIndex\n  } = uiModel;\n  const prevEvent = duplicateEvents[duplicateEventIndex - 1];\n  let left = baseLeft;\n  if (prevEvent) {\n    const {\n      percent: leftPercent,\n      px: leftPx\n    } = extractPercentPx(`${prevEvent.duplicateLeft}`);\n    const {\n      percent: widthPercent,\n      px: widthPx\n    } = extractPercentPx(`${prevEvent.duplicateWidth}`);\n    const percent = leftPercent + widthPercent;\n    const px = leftPx + widthPx + TIME_EVENT_CONTAINER_MARGIN_LEFT;\n    if (percent !== 0) {\n      left = `calc(${toPercent(percent)} ${px > 0 ? \"+\" : \"-\"} ${toPx(Math.abs(px))})`;\n    } else {\n      left = toPx(px);\n    }\n  } else {\n    left = toPercent(left);\n  }\n  return left;\n}\nfunction getDuplicateWidth(uiModel, baseWidth) {\n  const {\n    collapse\n  } = uiModel;\n  return collapse ? `${COLLAPSED_DUPLICATE_EVENT_WIDTH_PX}px` : `calc(${toPercent(baseWidth)} - ${toPx((COLLAPSED_DUPLICATE_EVENT_WIDTH_PX + TIME_EVENT_CONTAINER_MARGIN_LEFT) * (uiModel.duplicateEvents.length - 1) + TIME_EVENT_CONTAINER_MARGIN_LEFT)})`;\n}\nfunction setDimension(uiModel, options) {\n  const {\n    startColumnTime,\n    endColumnTime,\n    baseWidth,\n    columnIndex,\n    renderStart,\n    renderEnd\n  } = options;\n  const {\n    duplicateEvents\n  } = uiModel;\n  const {\n    top,\n    height\n  } = getTopHeightByTime(renderStart, renderEnd, startColumnTime, endColumnTime);\n  const dimension = {\n    top,\n    left: baseWidth * columnIndex,\n    width: baseWidth,\n    height: Math.max(MIN_HEIGHT_PERCENT, height),\n    duplicateLeft: \"\",\n    duplicateWidth: \"\"\n  };\n  if (duplicateEvents.length > 0) {\n    dimension.duplicateLeft = getDuplicateLeft(uiModel, dimension.left);\n    dimension.duplicateWidth = getDuplicateWidth(uiModel, dimension.width);\n  }\n  uiModel.setUIProps(dimension);\n}\nfunction getRenderInfoOptions(uiModel, columnIndex, baseWidth, startColumnTime, endColumnTime) {\n  const {\n    goingDuration = 0,\n    comingDuration = 0\n  } = uiModel.model;\n  const modelStart = uiModel.getStarts();\n  const modelEnd = uiModel.getEnds();\n  const goingStart = addMinutes(modelStart, -goingDuration);\n  const comingEnd = addMinutes(modelEnd, comingDuration);\n  const renderStart = max(goingStart, startColumnTime);\n  const renderEnd = min(comingEnd, endColumnTime);\n  return {\n    baseWidth,\n    columnIndex,\n    modelStart,\n    modelEnd,\n    renderStart,\n    renderEnd,\n    goingStart,\n    comingEnd,\n    startColumnTime,\n    endColumnTime,\n    duplicateEvents: uiModel.duplicateEvents\n  };\n}\nfunction setRenderInfo({\n  uiModel,\n  columnIndex,\n  baseWidth,\n  startColumnTime,\n  endColumnTime,\n  isDuplicateEvent = false\n}) {\n  if (!isDuplicateEvent && uiModel.duplicateEvents.length > 0) {\n    uiModel.duplicateEvents.forEach(event => {\n      setRenderInfo({\n        uiModel: event,\n        columnIndex,\n        baseWidth,\n        startColumnTime,\n        endColumnTime,\n        isDuplicateEvent: true\n      });\n    });\n    return;\n  }\n  const renderInfoOptions = getRenderInfoOptions(uiModel, columnIndex, baseWidth, startColumnTime, endColumnTime);\n  setDimension(uiModel, renderInfoOptions);\n  setInnerHeights(uiModel, renderInfoOptions);\n  setCroppedEdges(uiModel, renderInfoOptions);\n}\nfunction setDuplicateEvents(uiModels, options, selectedDuplicateEventCid) {\n  const {\n    getDuplicateEvents,\n    getMainEvent\n  } = options;\n  const eventObjects = uiModels.map(uiModel => uiModel.model.toEventObject());\n  uiModels.forEach(targetUIModel => {\n    if (targetUIModel.collapse || targetUIModel.duplicateEvents.length > 0) {\n      return;\n    }\n    const duplicateEvents = getDuplicateEvents(targetUIModel.model.toEventObject(), eventObjects);\n    if (duplicateEvents.length <= 1) {\n      return;\n    }\n    const mainEvent = getMainEvent(duplicateEvents);\n    const duplicateEventUIModels = duplicateEvents.map(event => uiModels.find(uiModel => uiModel.cid() === event.__cid));\n    const isSelectedGroup = !!(selectedDuplicateEventCid > DEFAULT_DUPLICATE_EVENT_CID && duplicateEvents.find(event => event.__cid === selectedDuplicateEventCid));\n    const duplicateStarts = duplicateEvents.reduce((acc, {\n      start,\n      goingDuration\n    }) => {\n      const renderStart = addMinutes(start, -goingDuration);\n      return min(acc, renderStart);\n    }, duplicateEvents[0].start);\n    const duplicateEnds = duplicateEvents.reduce((acc, {\n      end,\n      comingDuration\n    }) => {\n      const renderEnd = addMinutes(end, comingDuration);\n      return max(acc, renderEnd);\n    }, duplicateEvents[0].end);\n    duplicateEventUIModels.forEach((event, index) => {\n      const isMain = event.cid() === mainEvent.__cid;\n      const collapse = !(isSelectedGroup && event.cid() === selectedDuplicateEventCid || !isSelectedGroup && isMain);\n      event.setUIProps({\n        duplicateEvents: duplicateEventUIModels,\n        duplicateEventIndex: index,\n        collapse,\n        isMain,\n        duplicateStarts,\n        duplicateEnds\n      });\n    });\n  });\n  return uiModels;\n}\nfunction setRenderInfoOfUIModels(events, startColumnTime, endColumnTime, selectedDuplicateEventCid, collapseDuplicateEventsOptions) {\n  const uiModels = events.filter(isTimeEvent).filter(isBetween(startColumnTime, endColumnTime)).sort(array.compare.event.asc);\n  if (collapseDuplicateEventsOptions) {\n    setDuplicateEvents(uiModels, collapseDuplicateEventsOptions, selectedDuplicateEventCid);\n  }\n  const expandedEvents = uiModels.filter(uiModel => !uiModel.collapse);\n  const uiModelColl = createEventCollection(...expandedEvents);\n  const usingTravelTime = true;\n  const collisionGroups = getCollisionGroup(expandedEvents, usingTravelTime);\n  const matrices = getMatrices(uiModelColl, collisionGroups, usingTravelTime);\n  matrices.forEach(matrix => {\n    const maxRowLength = Math.max(...matrix.map(row => row.length));\n    const baseWidth = Math.round(100 / maxRowLength);\n    matrix.forEach(row => {\n      row.forEach((uiModel, columnIndex) => {\n        setRenderInfo({\n          uiModel,\n          columnIndex,\n          baseWidth,\n          startColumnTime,\n          endColumnTime\n        });\n      });\n    });\n  });\n  return uiModels;\n}\nfunction useInterval(callback, delay) {\n  const savedCallback = s$2(callback);\n  _$2(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  _$2(() => {\n    const tick = () => savedCallback.current();\n    const intervalDelay = delay != null ? delay : -1;\n    if (intervalDelay > 0) {\n      const id = setInterval(tick, intervalDelay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\nfunction useIsMounted() {\n  const isMountedRef = s$2(true);\n  _$2(() => {\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return T$1(() => isMountedRef.current, []);\n}\nconst classNames = {\n  timegrid: cls(className),\n  scrollArea: cls(addTimeGridPrefix(\"scroll-area\"))\n};\nfunction TimeGrid({\n  timeGridData,\n  events\n}) {\n  const {\n    isReadOnly,\n    week: {\n      narrowWeekend,\n      startDayOfWeek,\n      collapseDuplicateEvents\n    }\n  } = useStore(optionsSelector);\n  const showNowIndicator = useStore(showNowIndicatorOptionSelector);\n  const selectedDuplicateEventCid = useStore(state => state.weekViewLayout.selectedDuplicateEventCid);\n  const [, getNow] = usePrimaryTimezone();\n  const isMounted = useIsMounted();\n  const {\n    width: timeGridLeftWidth\n  } = useTheme(weekTimeGridLeftSelector);\n  const [nowIndicatorState, setNowIndicatorState] = y$1(null);\n  const {\n    columns,\n    rows\n  } = timeGridData;\n  const lastColumnIndex = columns.length - 1;\n  const totalUIModels = F$2(() => columns.map(({\n    date: date2\n  }) => events.filter(isBetween(toStartOfDay(date2), toEndOfDay(date2))).map(uiModel => uiModel.clone())).map((uiModelsByColumn, columnIndex) => setRenderInfoOfUIModels(uiModelsByColumn, setTimeStrToDate(columns[columnIndex].date, first(rows).startTime), setTimeStrToDate(columns[columnIndex].date, last(rows).endTime), selectedDuplicateEventCid, collapseDuplicateEvents)), [columns, rows, events, selectedDuplicateEventCid, collapseDuplicateEvents]);\n  const currentDateData = F$2(() => {\n    const now = getNow();\n    const currentDateIndexInColumns = columns.findIndex(column => isSameDate(column.date, now));\n    if (currentDateIndexInColumns < 0) {\n      return null;\n    }\n    const startTime = setTimeStrToDate(columns[currentDateIndexInColumns].date, timeGridData.rows[0].startTime);\n    const endTime = setTimeStrToDate(columns[currentDateIndexInColumns].date, last(timeGridData.rows).endTime);\n    return {\n      startTime,\n      endTime,\n      currentDateIndex: currentDateIndexInColumns\n    };\n  }, [columns, getNow, timeGridData.rows]);\n  const [columnsContainer, setColumnsContainer] = useDOMNode();\n  const gridPositionFinder = F$2(() => createGridPositionFinder({\n    rowsCount: rows.length,\n    columnsCount: columns.length,\n    container: columnsContainer,\n    narrowWeekend,\n    startDayOfWeek\n  }), [columns.length, columnsContainer, narrowWeekend, rows.length, startDayOfWeek]);\n  const onMouseDown = useGridSelection({\n    type: \"timeGrid\",\n    gridPositionFinder,\n    selectionSorter: timeGridSelectionHelper.sortSelection,\n    dateGetter: timeGridSelectionHelper.getDateFromCollection,\n    dateCollection: timeGridData\n  });\n  const updateTimeGridIndicator = T$1(() => {\n    if (isPresent(currentDateData)) {\n      const {\n        startTime,\n        endTime\n      } = currentDateData;\n      const now = getNow();\n      if (startTime <= now && now <= endTime) {\n        setNowIndicatorState({\n          top: getTopPercentByTime(now, startTime, endTime),\n          now\n        });\n      }\n    }\n  }, [currentDateData, getNow]);\n  h$2(() => {\n    var _a;\n    if (isMounted()) {\n      if (((_a = currentDateData == null ? void 0 : currentDateData.currentDateIndex) != null ? _a : -1) >= 0) {\n        updateTimeGridIndicator();\n      } else {\n        setNowIndicatorState(null);\n      }\n    }\n  }, [currentDateData, isMounted, updateTimeGridIndicator]);\n  useInterval(updateTimeGridIndicator, isPresent(currentDateData) ? MS_PER_MINUTES : null);\n  return /* @__PURE__ */h$3(\"div\", {\n    className: classNames.timegrid\n  }, /* @__PURE__ */h$3(\"div\", {\n    className: classNames.scrollArea\n  }, /* @__PURE__ */h$3(TimeColumn, {\n    timeGridRows: rows,\n    nowIndicatorState\n  }), /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"columns\"),\n    style: {\n      left: timeGridLeftWidth\n    },\n    ref: setColumnsContainer,\n    onMouseDown: passConditionalProp(!isReadOnly, onMouseDown)\n  }, /* @__PURE__ */h$3(GridLines, {\n    timeGridRows: rows\n  }), /* @__PURE__ */h$3(MovingEventShadow$1, {\n    gridPositionFinder,\n    timeGridData\n  }), columns.map((column, index) => /* @__PURE__ */h$3(Column, {\n    key: column.date.toString(),\n    timeGridData,\n    columnDate: column.date,\n    columnWidth: toPercent(column.width),\n    columnIndex: index,\n    totalUIModels,\n    gridPositionFinder,\n    isLastColumn: index === lastColumnIndex\n  })), showNowIndicator && isPresent(currentDateData) && isPresent(nowIndicatorState) ? /* @__PURE__ */h$3(NowIndicator, {\n    top: nowIndicatorState.top,\n    columnWidth: columns[0].width,\n    columnCount: columns.length,\n    columnIndex: currentDateData.currentDateIndex\n  }) : null)));\n}\nfunction TimezoneCollapseButton({\n  isCollapsed\n}) {\n  const eventBus = useEventBus();\n  const iconClassName = cls(\"icon\", {\n    \"ic-arrow-right\": isCollapsed,\n    \"ic-arrow-left\": !isCollapsed\n  });\n  return /* @__PURE__ */h$3(\"button\", {\n    className: cls(addTimeGridPrefix(\"timezone-collapse-button\")),\n    \"aria-expanded\": !isCollapsed,\n    onClick: () => eventBus.fire(\"clickTimezonesCollapseBtn\", isCollapsed)\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: iconClassName,\n    role: \"img\"\n  }));\n}\nfunction TimezoneLabel({\n  label,\n  offset,\n  tooltip,\n  width = 100,\n  left\n}) {\n  return /* @__PURE__ */h$3(\"div\", {\n    title: tooltip,\n    className: cls(addTimeGridPrefix(\"timezone-label\")),\n    style: {\n      width: toPercent(width),\n      height: toPercent(100),\n      left: toPercent(left)\n    },\n    role: \"gridcell\"\n  }, /* @__PURE__ */h$3(Template, {\n    template: \"timezoneDisplayLabel\",\n    param: {\n      displayLabel: label,\n      timezoneOffset: offset\n    },\n    as: \"span\"\n  }));\n}\nfunction useTimezoneCollapseOptions() {\n  const showTimezoneCollapseButton = useStore(showTimezoneCollapseButtonOptionSelector);\n  const timezonesCollapsed = useStore(timezonesCollapsedOptionSelector);\n  return F$2(() => {\n    return {\n      showTimezoneCollapseButton,\n      timezonesCollapsed\n    };\n  }, [showTimezoneCollapseButton, timezonesCollapsed]);\n}\nfunction TimezoneLabels({\n  top\n}) {\n  const timezones = useStore(timezonesSelector);\n  const {\n    width\n  } = useTheme(weekTimeGridLeftSelector);\n  const tzConverter = useTZConverter();\n  const {\n    showTimezoneCollapseButton,\n    timezonesCollapsed\n  } = useTimezoneCollapseOptions();\n  if (timezones.length <= 1) {\n    return null;\n  }\n  const timezoneLabelProps = timezones.map(({\n    displayLabel,\n    timezoneName,\n    tooltip\n  }) => {\n    return !isUndefined_1(displayLabel) ? {\n      label: displayLabel,\n      offset: null,\n      tooltip: tooltip != null ? tooltip : timezoneName\n    } : {\n      label: null,\n      offset: tzConverter(timezoneName).getTimezoneOffset(),\n      tooltip: tooltip != null ? tooltip : timezoneName\n    };\n  });\n  const [primaryTimezone, ...restTimezones] = timezoneLabelProps;\n  const subTimezones = restTimezones.reverse();\n  const timezonesCount = timezonesCollapsed ? 1 : timezones.length;\n  const timezoneLabelWidth = 100 / timezonesCount;\n  return /* @__PURE__ */h$3(\"div\", {\n    style: {\n      top,\n      width\n    },\n    role: \"columnheader\",\n    className: cls(\"timezone-labels-slot\")\n  }, !timezonesCollapsed && subTimezones.map((subTimezone, index) => {\n    var _a;\n    return /* @__PURE__ */h$3(TimezoneLabel, __spreadValues({\n      key: `subTimezone-${(_a = subTimezone.label) != null ? _a : subTimezone.offset}`,\n      width: timezoneLabelWidth,\n      left: timezoneLabelWidth * index\n    }, subTimezone));\n  }), showTimezoneCollapseButton && /* @__PURE__ */h$3(TimezoneCollapseButton, {\n    isCollapsed: timezonesCollapsed\n  }), /* @__PURE__ */h$3(TimezoneLabel, __spreadValues({\n    width: timezoneLabelWidth,\n    left: timezoneLabelWidth * subTimezones.length\n  }, primaryTimezone)));\n}\nconst VIEW_TYPE = {\n  MONTH: \"month\",\n  WEEK: \"week\",\n  DAY: \"day\"\n};\nconst DEFAULT_TASK_PANEL = [\"milestone\", \"task\"];\nconst DEFAULT_EVENT_PANEL = [\"allday\", \"time\"];\nfunction getActivePanels(taskView, eventView) {\n  const activePanels = [];\n  if (taskView === true) {\n    activePanels.push(...DEFAULT_TASK_PANEL);\n  } else if (Array.isArray(taskView)) {\n    activePanels.push(...taskView);\n  }\n  if (eventView === true) {\n    activePanels.push(...DEFAULT_EVENT_PANEL);\n  } else if (Array.isArray(eventView)) {\n    activePanels.push(...eventView);\n  }\n  return activePanels;\n}\nfunction useEventsWithTimezone(events) {\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const tzConverter = useTZConverter();\n  return F$2(() => {\n    if (primaryTimezoneName === \"Local\") {\n      return events;\n    }\n    const isSystemUsingDST = isUsingDST(new TZDate());\n    const {\n      timedEvents = createEventCollection(),\n      totalEvents = createEventCollection()\n    } = events.groupBy(eventModel => eventModel.category === \"time\" ? \"timedEvents\" : \"totalEvents\");\n    timedEvents.each(eventModel => {\n      const clonedEventModel = clone$1(eventModel);\n      let zonedStart = tzConverter(primaryTimezoneName, clonedEventModel.start);\n      let zonedEnd = tzConverter(primaryTimezoneName, clonedEventModel.end);\n      if (isSystemUsingDST) {\n        if (!isUsingDST(zonedStart)) {\n          zonedStart = zonedStart.addHours(1);\n        }\n        if (!isUsingDST(zonedEnd)) {\n          zonedEnd = zonedEnd.addHours(1);\n        }\n      } else {\n        if (isUsingDST(zonedStart)) {\n          zonedStart = zonedStart.addHours(-1);\n        }\n        if (isUsingDST(zonedEnd)) {\n          zonedEnd = zonedEnd.addHours(-1);\n        }\n      }\n      clonedEventModel.start = zonedStart;\n      clonedEventModel.end = zonedEnd;\n      totalEvents.add(clonedEventModel);\n    });\n    return totalEvents;\n  }, [events, primaryTimezoneName, tzConverter]);\n}\nfunction useCalendarData(calendar, ...filters) {\n  const filteredEvents = F$2(() => calendar.events.filter(Collection.and(...filters)), [calendar.events, filters]);\n  const filteredEventsWithTimezone = useEventsWithTimezone(filteredEvents);\n  return F$2(() => __spreadProps(__spreadValues({}, calendar), {\n    events: filteredEventsWithTimezone\n  }), [calendar, filteredEventsWithTimezone]);\n}\nfunction isTimeGridDraggingType(draggingItemType) {\n  return /^(event|gridSelection)\\/timeGrid/.test(draggingItemType != null ? draggingItemType : \"\");\n}\nfunction useTimeGridScrollSync(scrollArea, rowCount) {\n  useTransientUpdate(dndSelector, ({\n    y: y2,\n    draggingItemType,\n    draggingState\n  }) => {\n    if (isPresent(scrollArea) && isTimeGridDraggingType(draggingItemType) && draggingState === DraggingState.DRAGGING && isPresent(y2)) {\n      const {\n        offsetTop,\n        offsetHeight,\n        scrollHeight\n      } = scrollArea;\n      const scrollBoundary = Math.floor(scrollHeight / rowCount);\n      const layoutHeight = offsetTop + offsetHeight;\n      if (y2 < offsetTop + scrollBoundary) {\n        const scrollDiff = y2 - (offsetTop + scrollBoundary);\n        scrollArea.scrollTop = Math.max(0, scrollArea.scrollTop + scrollDiff);\n      } else if (y2 > layoutHeight - scrollBoundary) {\n        const scrollDiff = y2 - (layoutHeight - scrollBoundary);\n        scrollArea.scrollTop = Math.min(offsetHeight, scrollArea.scrollTop + scrollDiff);\n      }\n    }\n  });\n}\nfunction timegridHeightSelector(state) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = state.weekViewLayout) == null ? void 0 : _a.dayGridRows) == null ? void 0 : _b.time) == null ? void 0 : _c.height;\n}\nfunction useTimezoneLabelsTop(timePanel) {\n  const timeGridPanelHeight = useStore(timegridHeightSelector);\n  const [stickyTop, setStickyTop] = y$1(null);\n  h$2(() => {\n    if (isPresent(timeGridPanelHeight) && timePanel) {\n      setStickyTop(timePanel.offsetTop);\n    }\n  }, [timeGridPanelHeight, timePanel]);\n  return stickyTop;\n}\nfunction useDayViewState() {\n  const calendar = useStore(calendarSelector);\n  const options = useStore(optionsSelector);\n  const {\n    dayGridRows: gridRowLayout,\n    lastPanelType\n  } = useStore(weekViewLayoutSelector);\n  const {\n    renderDate\n  } = useStore(viewSelector);\n  return F$2(() => ({\n    calendar,\n    options,\n    gridRowLayout,\n    lastPanelType,\n    renderDate\n  }), [calendar, options, gridRowLayout, lastPanelType, renderDate]);\n}\nfunction Day$1() {\n  var _a, _b;\n  const {\n    calendar,\n    options,\n    gridRowLayout,\n    lastPanelType,\n    renderDate\n  } = useDayViewState();\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const gridHeaderMarginLeft = useTheme(T$1(theme => theme.week.dayGridLeft.width, []));\n  const [timePanel, setTimePanelRef] = useDOMNode();\n  const weekOptions = options.week;\n  const {\n    narrowWeekend,\n    startDayOfWeek,\n    workweek,\n    hourStart,\n    hourEnd,\n    eventView,\n    taskView\n  } = weekOptions;\n  const days = F$2(() => [renderDate], [renderDate]);\n  const dayNames = getDayNames(days, (_b = (_a = options.week) == null ? void 0 : _a.dayNames) != null ? _b : []);\n  const {\n    rowStyleInfo,\n    cellWidthMap\n  } = getRowStyleInfo(days.length, narrowWeekend, startDayOfWeek, workweek);\n  const calendarData = useCalendarData(calendar, options.eventFilter);\n  const dayGridEvents = F$2(() => {\n    const getFilterRange = () => {\n      if (primaryTimezoneName === \"Local\") {\n        return [toStartOfDay(days[0]), toEndOfDay(days[0])];\n      }\n      return [toStartOfDay(addDate(days[0], -1)), toEndOfDay(addDate(days[0], 1))];\n    };\n    const [weekStartDate, weekEndDate] = getFilterRange();\n    return getWeekViewEvents(days, calendarData, {\n      narrowWeekend,\n      hourStart,\n      hourEnd,\n      weekStartDate,\n      weekEndDate\n    });\n  }, [calendarData, days, hourEnd, hourStart, narrowWeekend, primaryTimezoneName]);\n  const timeGridData = F$2(() => createTimeGridData(days, {\n    hourStart,\n    hourEnd,\n    narrowWeekend\n  }), [days, hourEnd, hourStart, narrowWeekend]);\n  const activePanels = getActivePanels(taskView, eventView);\n  const gridRows = activePanels.map(key => {\n    var _a2, _b2;\n    if (key === \"time\") {\n      return null;\n    }\n    const rowType = key;\n    return /* @__PURE__ */h$3(Panel, {\n      key: rowType,\n      name: rowType,\n      resizable: rowType !== lastPanelType\n    }, rowType === \"allday\" ? /* @__PURE__ */h$3(AlldayGridRow, {\n      events: dayGridEvents[rowType],\n      rowStyleInfo,\n      gridColWidthMap: cellWidthMap,\n      weekDates: days,\n      height: (_a2 = gridRowLayout[rowType]) == null ? void 0 : _a2.height,\n      options: weekOptions\n    }) : /* @__PURE__ */h$3(OtherGridRow, {\n      category: rowType,\n      events: dayGridEvents[rowType],\n      weekDates: days,\n      height: (_b2 = gridRowLayout[rowType]) == null ? void 0 : _b2.height,\n      options: weekOptions,\n      gridColWidthMap: cellWidthMap\n    }));\n  });\n  useTimeGridScrollSync(timePanel, timeGridData.rows.length);\n  const stickyTop = useTimezoneLabelsTop(timePanel);\n  return /* @__PURE__ */h$3(Layout, {\n    className: cls(\"day-view\"),\n    autoAdjustPanels: true\n  }, /* @__PURE__ */h$3(Panel, {\n    name: \"day-view-day-names\",\n    initialHeight: WEEK_DAY_NAME_HEIGHT + WEEK_DAY_NAME_BORDER\n  }, /* @__PURE__ */h$3(GridHeader, {\n    type: \"week\",\n    dayNames,\n    marginLeft: gridHeaderMarginLeft,\n    rowStyleInfo\n  })), gridRows, activePanels.includes(\"time\") ? /* @__PURE__ */h$3(Panel, {\n    name: \"time\",\n    autoSize: 1,\n    ref: setTimePanelRef\n  }, /* @__PURE__ */h$3(TimeGrid, {\n    events: dayGridEvents.time,\n    timeGridData\n  }), /* @__PURE__ */h$3(TimezoneLabels, {\n    top: stickyTop\n  })) : null);\n}\nfunction AccumulatedGridSelection({\n  rowIndex,\n  weekDates,\n  narrowWeekend\n}) {\n  const gridSelectionDataByRow = useStore(T$1(state => state.gridSelection.accumulated.dayGridMonth.map(gridSelection => dayGridMonthSelectionHelper.calculateSelection(gridSelection, rowIndex, weekDates.length)), [rowIndex, weekDates]));\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"accumulated-grid-selection\")\n  }, gridSelectionDataByRow.map(gridSelectionData => gridSelectionData ? /* @__PURE__ */h$3(GridSelection$1, {\n    type: \"accumulated\",\n    gridSelectionData,\n    weekDates,\n    narrowWeekend\n  }) : null));\n}\nfunction MoreEventsButton({\n  type,\n  number,\n  onClickButton,\n  className: className2\n}) {\n  const {\n    reset\n  } = useDispatch(\"dnd\");\n  const handleMouseDown = e2 => {\n    e2.stopPropagation();\n  };\n  const handleClick = () => {\n    reset();\n    onClickButton();\n  };\n  const exceedButtonTemplate = `monthGrid${type === CellBarType.header ? \"Header\" : \"Footer\"}Exceed`;\n  return /* @__PURE__ */h$3(\"button\", {\n    type: \"button\",\n    onMouseDown: handleMouseDown,\n    onClick: handleClick,\n    className: className2\n  }, /* @__PURE__ */h$3(Template, {\n    template: exceedButtonTemplate,\n    param: number\n  }));\n}\nfunction getDateColor({\n  date: date2,\n  theme,\n  renderDate,\n  isToday\n}) {\n  const dayIndex = date2.getDay();\n  const thisMonth = renderDate.getMonth();\n  const isSameMonth2 = thisMonth === date2.getMonth();\n  const {\n    common: {\n      holiday,\n      saturday,\n      today,\n      dayName\n    },\n    month: {\n      dayExceptThisMonth,\n      holidayExceptThisMonth\n    }\n  } = theme;\n  if (isToday) {\n    return today.color;\n  }\n  if (isSunday(dayIndex)) {\n    return isSameMonth2 ? holiday.color : holidayExceptThisMonth.color;\n  }\n  if (isSaturday(dayIndex)) {\n    return isSameMonth2 ? saturday.color : dayExceptThisMonth.color;\n  }\n  if (!isSameMonth2) {\n    return dayExceptThisMonth.color;\n  }\n  return dayName.color;\n}\nfunction useCellHeaderTheme() {\n  const common = useCommonTheme();\n  const month = useMonthTheme();\n  return F$2(() => ({\n    common,\n    month\n  }), [common, month]);\n}\nfunction CellHeader({\n  type = CellBarType.header,\n  exceedCount = 0,\n  date: date2,\n  onClickExceedCount\n}) {\n  const {\n    renderDate\n  } = useStore(viewSelector);\n  const [, getNow] = usePrimaryTimezone();\n  const theme = useCellHeaderTheme();\n  const height = theme.month.gridCell[`${type}Height`];\n  const ymd = toFormat(date2, \"YYYYMMDD\");\n  const todayYmd = toFormat(getNow(), \"YYYYMMDD\");\n  const isToday = ymd === todayYmd;\n  const templateParam = {\n    date: toFormat(date2, \"YYYY-MM-DD\"),\n    day: date2.getDay(),\n    hiddenEventCount: exceedCount,\n    isOtherMonth: date2.getMonth() !== renderDate.getMonth(),\n    isToday: ymd === todayYmd,\n    month: date2.getMonth(),\n    ymd\n  };\n  const gridCellDateStyle = {\n    color: getDateColor({\n      date: date2,\n      theme,\n      isToday,\n      renderDate\n    })\n  };\n  const monthGridTemplate = `monthGrid${capitalize(type)}`;\n  if (isNil(height)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(`grid-cell-${type}`),\n    style: {\n      height\n    }\n  }, /* @__PURE__ */h$3(\"span\", {\n    className: cls(\"grid-cell-date\"),\n    style: gridCellDateStyle\n  }, /* @__PURE__ */h$3(Template, {\n    template: monthGridTemplate,\n    param: templateParam\n  })), exceedCount ? /* @__PURE__ */h$3(MoreEventsButton, {\n    type,\n    number: exceedCount,\n    onClickButton: onClickExceedCount,\n    className: cls(\"grid-cell-more-events\")\n  }) : null);\n}\nfunction getSeeMorePopupSize({\n  grid,\n  offsetWidth,\n  eventLength,\n  layerSize\n}) {\n  const minHeight = getSize(grid).height + MONTH_MORE_VIEW_PADDING * 2;\n  let width = offsetWidth + MONTH_MORE_VIEW_PADDING * 2;\n  const {\n    width: moreViewWidth,\n    height: moreViewHeight\n  } = layerSize;\n  const MAX_DISPLAY_EVENT_COUNT = 10;\n  width = Math.max(width, MONTH_MORE_VIEW_MIN_WIDTH);\n  let height = MONTH_MORE_VIEW_HEADER_HEIGHT + MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM + MONTH_MORE_VIEW_PADDING;\n  const eventHeight = MONTH_EVENT_HEIGHT + MONTH_EVENT_MARGIN_TOP;\n  if (eventLength <= MAX_DISPLAY_EVENT_COUNT) {\n    height += eventHeight * eventLength;\n  } else {\n    height += eventHeight * MAX_DISPLAY_EVENT_COUNT;\n  }\n  if (moreViewWidth) {\n    width = moreViewWidth;\n  }\n  if (moreViewHeight) {\n    height = moreViewHeight;\n  }\n  if (isNaN(height) || height < minHeight) {\n    height = minHeight;\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction getSeeMorePopupPosition(popupSize, appContainerSize, cellRect) {\n  const {\n    width: containerWidth,\n    height: containerHeight,\n    left: containerLeft,\n    top: containerTop\n  } = appContainerSize;\n  const {\n    width: popupWidth,\n    height: popupHeight\n  } = popupSize;\n  const containerRight = containerLeft + containerWidth;\n  const containerBottom = containerTop + containerHeight;\n  let left = cellRect.left + cellRect.width / 2 - popupWidth / 2;\n  let {\n    top\n  } = cellRect;\n  const isLeftOutOfContainer = left < containerLeft;\n  const isRightOutOfContainer = left + popupWidth > containerRight;\n  const isUpperOutOfContainer = top < containerTop;\n  const isLowerOutOfContainer = top + popupHeight > containerBottom;\n  if (isLeftOutOfContainer) {\n    left = containerLeft;\n  }\n  if (isRightOutOfContainer) {\n    left = containerRight - popupWidth;\n  }\n  if (isUpperOutOfContainer) {\n    top = containerTop;\n  }\n  if (isLowerOutOfContainer) {\n    top = containerBottom - popupHeight;\n  }\n  return {\n    top: top + window.scrollY,\n    left: left + window.scrollX\n  };\n}\nfunction getSeeMorePopupRect({\n  layoutContainer,\n  cell,\n  popupSize\n}) {\n  const containerRect = layoutContainer.getBoundingClientRect();\n  const cellRect = cell.getBoundingClientRect();\n  const popupPosition = getSeeMorePopupPosition(popupSize, containerRect, cellRect);\n  return __spreadValues(__spreadValues({}, popupSize), popupPosition);\n}\nfunction usePopupPosition(eventLength, parentContainer, layoutContainer) {\n  const {\n    width: moreViewWidth,\n    height: moreViewHeight\n  } = useTheme(monthMoreViewSelector);\n  const [container, containerRefCallback] = useDOMNode();\n  const [popupPosition, setPopupPosition] = y$1(null);\n  _$2(() => {\n    if (layoutContainer && parentContainer && container) {\n      const popupSize = getSeeMorePopupSize({\n        grid: parentContainer,\n        offsetWidth: container.offsetWidth,\n        eventLength,\n        layerSize: {\n          width: moreViewWidth,\n          height: moreViewHeight\n        }\n      });\n      const rect = getSeeMorePopupRect({\n        cell: container,\n        layoutContainer,\n        popupSize\n      });\n      setPopupPosition(rect);\n    }\n  }, [layoutContainer, container, eventLength, parentContainer, moreViewWidth, moreViewHeight]);\n  return {\n    popupPosition,\n    containerRefCallback\n  };\n}\nfunction weekendBackgroundColorSelector(theme) {\n  return theme.month.weekend.backgroundColor;\n}\nfunction GridCell({\n  date: date2,\n  events = [],\n  style,\n  parentContainer,\n  contentAreaHeight\n}) {\n  const layoutContainer = useLayoutContainer();\n  const {\n    showSeeMorePopup\n  } = useDispatch(\"popup\");\n  const backgroundColor = useTheme(weekendBackgroundColorSelector);\n  const {\n    popupPosition,\n    containerRefCallback\n  } = usePopupPosition(events.length, parentContainer, layoutContainer);\n  const onOpenSeeMorePopup = T$1(() => {\n    if (popupPosition) {\n      showSeeMorePopup({\n        date: date2,\n        popupPosition,\n        events\n      });\n    }\n  }, [date2, events, popupPosition, showSeeMorePopup]);\n  const exceedCount = getExceedCount(events, contentAreaHeight, MONTH_EVENT_HEIGHT + MONTH_EVENT_MARGIN_TOP);\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"daygrid-cell\"),\n    style: __spreadProps(__spreadValues({}, style), {\n      backgroundColor: isWeekend(date2.getDay()) ? backgroundColor : \"inherit\"\n    }),\n    ref: containerRefCallback\n  }, /* @__PURE__ */h$3(CellHeader, {\n    type: CellBarType.header,\n    exceedCount,\n    date: date2,\n    onClickExceedCount: onOpenSeeMorePopup\n  }), /* @__PURE__ */h$3(CellHeader, {\n    type: CellBarType.footer,\n    exceedCount,\n    date: date2,\n    onClickExceedCount: onOpenSeeMorePopup\n  }));\n}\nconst GridRow = g$1(function GridRow2({\n  week,\n  rowInfo,\n  gridDateEventModelMap = {},\n  contentAreaHeight\n}) {\n  const [container, containerRefCallback] = useDOMNode();\n  const border = useTheme(T$1(theme => theme.common.border, []));\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"weekday-grid\"),\n    style: {\n      borderTop: border\n    },\n    ref: containerRefCallback\n  }, week.map((date2, columnIndex) => {\n    const dayIndex = date2.getDay();\n    const {\n      width,\n      left\n    } = rowInfo[columnIndex];\n    const ymd = toFormat(toStartOfDay(date2), \"YYYYMMDD\");\n    return /* @__PURE__ */h$3(GridCell, {\n      key: `daygrid-cell-${dayIndex}`,\n      date: date2,\n      style: {\n        width: toPercent(width),\n        left: toPercent(left)\n      },\n      parentContainer: container,\n      events: gridDateEventModelMap[ymd],\n      contentAreaHeight\n    });\n  }));\n});\nfunction GridSelectionByRow({\n  weekDates,\n  narrowWeekend,\n  rowIndex\n}) {\n  const gridSelectionDataByRow = useStore(T$1(state => dayGridMonthSelectionHelper.calculateSelection(state.gridSelection.dayGridMonth, rowIndex, weekDates.length), [rowIndex, weekDates.length]));\n  if (isNil(gridSelectionDataByRow)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(GridSelection$1, {\n    type: \"month\",\n    gridSelectionData: gridSelectionDataByRow,\n    weekDates,\n    narrowWeekend\n  });\n}\nconst MonthEvents = g$1(function MonthEvents2({\n  contentAreaHeight,\n  eventHeight = EVENT_HEIGHT,\n  events,\n  name,\n  className: className2\n}) {\n  const {\n    headerHeight\n  } = useTheme(monthGridCellSelector);\n  const dayEvents = events.filter(isWithinHeight(contentAreaHeight, eventHeight + MONTH_EVENT_MARGIN_TOP)).map(uiModel => /* @__PURE__ */h$3(HorizontalEvent, {\n    key: `${name}-DayEvent-${uiModel.cid()}`,\n    uiModel,\n    eventHeight,\n    headerHeight: headerHeight != null ? headerHeight : MONTH_CELL_BAR_HEIGHT\n  }));\n  return /* @__PURE__ */h$3(\"div\", {\n    className: className2\n  }, dayEvents);\n});\nfunction useDayGridMonthEventMove({\n  dateMatrix,\n  rowInfo,\n  gridPositionFinder,\n  rowIndex\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: movingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"move\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const movingEventUIModel = F$2(() => {\n    var _a, _b;\n    let shadowEventUIModel = null;\n    if (movingEvent && (currentGridPos == null ? void 0 : currentGridPos.rowIndex) === rowIndex) {\n      shadowEventUIModel = movingEvent;\n      shadowEventUIModel.left = rowInfo[(_a = currentGridPos == null ? void 0 : currentGridPos.columnIndex) != null ? _a : 0].left;\n      shadowEventUIModel.width = rowInfo[(_b = currentGridPos == null ? void 0 : currentGridPos.columnIndex) != null ? _b : 0].width;\n    }\n    return shadowEventUIModel;\n  }, [movingEvent, currentGridPos == null ? void 0 : currentGridPos.rowIndex, currentGridPos == null ? void 0 : currentGridPos.columnIndex, rowIndex, rowInfo]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(movingEventUIModel) && isPresent(currentGridPos);\n    if (shouldUpdate) {\n      const preStartDate = movingEventUIModel.model.getStarts();\n      const eventDuration = movingEventUIModel.duration();\n      const currentDate = dateMatrix[currentGridPos.rowIndex][currentGridPos.columnIndex];\n      const timeOffsetPerDay = getDateDifference(currentDate, preStartDate) * MS_PER_DAY;\n      const newStartDate = new TZDate(preStartDate.getTime() + timeOffsetPerDay);\n      const newEndDate = new TZDate(newStartDate.getTime() + eventDuration);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: movingEventUIModel.model.toEventObject(),\n        changes: {\n          start: newStartDate,\n          end: newEndDate\n        }\n      });\n    }\n    clearDraggingEvent();\n    clearCurrentGridPos();\n  }, isDraggingEnd);\n  return movingEventUIModel;\n}\nfunction MovingEventShadow({\n  dateMatrix,\n  gridPositionFinder,\n  rowInfo,\n  rowIndex\n}) {\n  const movingEvent = useDayGridMonthEventMove({\n    dateMatrix,\n    rowInfo,\n    gridPositionFinder,\n    rowIndex\n  });\n  if (isNil(movingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */h$3(HorizontalEvent, {\n    uiModel: movingEvent,\n    movingLeft: movingEvent.left,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: MONTH_CELL_PADDING_TOP + MONTH_CELL_BAR_HEIGHT\n  });\n}\nfunction getRowPosOfUIModel(uiModel, dateRow) {\n  const startColumnIndex = Math.max(getGridDateIndex(uiModel.getStarts(), dateRow), 0);\n  const endColumnIndex = getGridDateIndex(uiModel.getEnds(), dateRow);\n  return {\n    startColumnIndex,\n    endColumnIndex\n  };\n}\nfunction useDayGridMonthEventResize({\n  dateMatrix,\n  gridPositionFinder,\n  renderedUIModels,\n  cellWidthMap,\n  rowIndex\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: resizingStartUIModel,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"resize\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const [guideProps, setGuideProps] = y$1(null);\n  const clearStates = T$1(() => {\n    setGuideProps(null);\n    clearCurrentGridPos();\n    clearDraggingEvent();\n  }, [clearCurrentGridPos, clearDraggingEvent]);\n  const baseResizingInfo = F$2(() => {\n    if (isNil(resizingStartUIModel)) {\n      return null;\n    }\n    const resizeTargetUIModelRows = renderedUIModels.map(({\n      uiModels\n    }) => uiModels.filter(uiModel => uiModel.cid() === resizingStartUIModel.cid()));\n    const eventStartDateRowIndex = resizeTargetUIModelRows.findIndex(row => row.length > 0);\n    const eventEndDateRowIndex = findLastIndex(resizeTargetUIModelRows, row => row.length > 0);\n    const eventStartUIModelPos = getRowPosOfUIModel(resizeTargetUIModelRows[eventStartDateRowIndex][0], dateMatrix[eventStartDateRowIndex]);\n    const eventEndUIModelPos = getRowPosOfUIModel(resizeTargetUIModelRows[eventEndDateRowIndex][0], dateMatrix[eventEndDateRowIndex]);\n    return {\n      eventStartDateColumnIndex: eventStartUIModelPos.startColumnIndex,\n      eventStartDateRowIndex,\n      eventEndDateColumnIndex: eventEndUIModelPos.endColumnIndex,\n      eventEndDateRowIndex,\n      resizeTargetUIModelRows\n    };\n  }, [dateMatrix, renderedUIModels, resizingStartUIModel]);\n  const canCalculateProps = isPresent(baseResizingInfo) && isPresent(resizingStartUIModel) && isPresent(currentGridPos);\n  _$2(() => {\n    if (canCalculateProps && rowIndex === baseResizingInfo.eventStartDateRowIndex) {\n      const {\n        eventStartDateRowIndex,\n        eventStartDateColumnIndex\n      } = baseResizingInfo;\n      const clonedUIModel = baseResizingInfo.resizeTargetUIModelRows[eventStartDateRowIndex][0].clone();\n      let height;\n      if (eventStartDateRowIndex === currentGridPos.rowIndex) {\n        height = cellWidthMap[eventStartDateColumnIndex][Math.max(eventStartDateColumnIndex, currentGridPos.columnIndex)];\n      } else if (eventStartDateRowIndex > currentGridPos.rowIndex) {\n        height = cellWidthMap[eventStartDateColumnIndex][eventStartDateColumnIndex];\n      } else {\n        height = cellWidthMap[eventStartDateColumnIndex][dateMatrix[rowIndex].length - 1];\n        clonedUIModel.setUIProps({\n          exceedRight: true\n        });\n      }\n      setGuideProps([clonedUIModel, height]);\n    }\n  }, [baseResizingInfo, canCalculateProps, cellWidthMap, currentGridPos, dateMatrix, rowIndex]);\n  _$2(() => {\n    if (canCalculateProps && baseResizingInfo.eventStartDateRowIndex < rowIndex && rowIndex < currentGridPos.rowIndex) {\n      const clonedUIModel = resizingStartUIModel.clone();\n      clonedUIModel.setUIProps({\n        left: 0,\n        exceedLeft: true,\n        exceedRight: true\n      });\n      setGuideProps([clonedUIModel, \"100%\"]);\n    }\n  }, [baseResizingInfo, canCalculateProps, currentGridPos, resizingStartUIModel, rowIndex]);\n  _$2(() => {\n    if (canCalculateProps && baseResizingInfo.eventStartDateRowIndex < currentGridPos.rowIndex && rowIndex === currentGridPos.rowIndex) {\n      const clonedUIModel = resizingStartUIModel.clone();\n      clonedUIModel.setUIProps({\n        left: 0,\n        exceedLeft: true\n      });\n      setGuideProps([clonedUIModel, cellWidthMap[0][currentGridPos.columnIndex]]);\n    }\n  }, [baseResizingInfo, canCalculateProps, cellWidthMap, currentGridPos, resizingStartUIModel, rowIndex]);\n  _$2(() => {\n    if (canCalculateProps && rowIndex > baseResizingInfo.eventStartDateRowIndex && rowIndex > currentGridPos.rowIndex) {\n      setGuideProps(null);\n    }\n  }, [canCalculateProps, currentGridPos, baseResizingInfo, rowIndex]);\n  useWhen(() => {\n    if (canCalculateProps) {\n      const {\n        eventStartDateColumnIndex,\n        eventStartDateRowIndex\n      } = baseResizingInfo;\n      const shouldUpdate = !isDraggingCanceled && (currentGridPos.rowIndex === eventStartDateRowIndex && currentGridPos.columnIndex >= eventStartDateColumnIndex || currentGridPos.rowIndex > eventStartDateRowIndex);\n      if (shouldUpdate) {\n        const targetEndDate = dateMatrix[currentGridPos.rowIndex][currentGridPos.columnIndex];\n        eventBus.fire(\"beforeUpdateEvent\", {\n          event: resizingStartUIModel.model.toEventObject(),\n          changes: {\n            end: targetEndDate\n          }\n        });\n      }\n    }\n    clearStates();\n  }, isDraggingEnd);\n  return guideProps;\n}\nfunction ResizingGuideByRow({\n  dateMatrix,\n  cellWidthMap,\n  gridPositionFinder,\n  renderedUIModels,\n  rowIndex\n}) {\n  const resizingGuideProps = useDayGridMonthEventResize({\n    dateMatrix,\n    gridPositionFinder,\n    cellWidthMap,\n    renderedUIModels,\n    rowIndex\n  });\n  if (isNil(resizingGuideProps)) {\n    return null;\n  }\n  const [uiModel, resizingWidth] = resizingGuideProps;\n  return /* @__PURE__ */h$3(\"div\", {\n    className: cls(\"weekday-events\")\n  }, /* @__PURE__ */h$3(HorizontalEvent, {\n    key: `resizing-event-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: MONTH_EVENT_HEIGHT,\n    headerHeight: MONTH_CELL_PADDING_TOP + MONTH_CELL_BAR_HEIGHT,\n    resizingWidth\n  }));\n}\nconst TOTAL_PERCENT_HEIGHT = 100;\nfunction useCellContentAreaHeight(eventHeight) {\n  const visibleEventCount = useStore(monthVisibleEventCountSelector);\n  const {\n    headerHeight: themeHeaderHeight,\n    footerHeight: themeFooterHeight\n  } = useTheme(monthGridCellSelector);\n  const ref = s$2(null);\n  const [cellContentAreaHeight, setCellContentAreaHeight] = y$1(0);\n  _$2(() => {\n    if (ref.current) {\n      const rowHeight = getSize(ref.current).height;\n      const headerHeight = MONTH_CELL_PADDING_TOP + (themeHeaderHeight != null ? themeHeaderHeight : MONTH_CELL_BAR_HEIGHT);\n      const footerHeight = themeFooterHeight != null ? themeFooterHeight : 0;\n      const baseContentAreaHeight = rowHeight - headerHeight - footerHeight;\n      const visibleEventCountHeight = visibleEventCount * (eventHeight + MONTH_EVENT_MARGIN_TOP);\n      setCellContentAreaHeight(Math.min(baseContentAreaHeight, visibleEventCountHeight));\n    }\n  }, [themeFooterHeight, themeHeaderHeight, eventHeight, visibleEventCount]);\n  return {\n    ref,\n    cellContentAreaHeight\n  };\n}\nfunction DayGridMonth({\n  dateMatrix = [],\n  rowInfo = [],\n  cellWidthMap = []\n}) {\n  const [gridContainer, setGridContainerRef] = useDOMNode();\n  const calendar = useStore(calendarSelector);\n  const {\n    ref,\n    cellContentAreaHeight\n  } = useCellContentAreaHeight(MONTH_EVENT_HEIGHT);\n  const {\n    eventFilter,\n    month: monthOptions,\n    isReadOnly\n  } = useStore(optionsSelector);\n  const {\n    narrowWeekend,\n    startDayOfWeek\n  } = monthOptions;\n  const rowHeight = TOTAL_PERCENT_HEIGHT / dateMatrix.length;\n  const gridPositionFinder = F$2(() => createGridPositionFinder({\n    container: gridContainer,\n    rowsCount: dateMatrix.length,\n    columnsCount: dateMatrix[0].length,\n    narrowWeekend,\n    startDayOfWeek\n  }), [dateMatrix, gridContainer, narrowWeekend, startDayOfWeek]);\n  const calendarData = useCalendarData(calendar, eventFilter);\n  const renderedEventUIModels = F$2(() => dateMatrix.map(week => getRenderedEventUIModels(week, calendarData, narrowWeekend)), [calendarData, dateMatrix, narrowWeekend]);\n  const onMouseDown = useGridSelection({\n    type: \"dayGridMonth\",\n    gridPositionFinder,\n    dateCollection: dateMatrix,\n    dateGetter: dayGridMonthSelectionHelper.getDateFromCollection,\n    selectionSorter: dayGridMonthSelectionHelper.sortSelection\n  });\n  return /* @__PURE__ */h$3(\"div\", {\n    ref: setGridContainerRef,\n    onMouseDown: passConditionalProp(!isReadOnly, onMouseDown),\n    className: cls(\"month-daygrid\")\n  }, dateMatrix.map((week, rowIndex) => {\n    const {\n      uiModels,\n      gridDateEventModelMap\n    } = renderedEventUIModels[rowIndex];\n    return /* @__PURE__ */h$3(\"div\", {\n      key: `dayGrid-events-${rowIndex}`,\n      className: cls(\"month-week-item\"),\n      style: {\n        height: toPercent(rowHeight)\n      },\n      ref\n    }, /* @__PURE__ */h$3(\"div\", {\n      className: cls(\"weekday\")\n    }, /* @__PURE__ */h$3(GridRow, {\n      gridDateEventModelMap,\n      week,\n      rowInfo,\n      contentAreaHeight: cellContentAreaHeight\n    }), /* @__PURE__ */h$3(MonthEvents, {\n      name: \"month\",\n      events: uiModels,\n      contentAreaHeight: cellContentAreaHeight,\n      eventHeight: MONTH_EVENT_HEIGHT,\n      className: cls(\"weekday-events\")\n    }), /* @__PURE__ */h$3(GridSelectionByRow, {\n      weekDates: week,\n      narrowWeekend,\n      rowIndex\n    }), /* @__PURE__ */h$3(AccumulatedGridSelection, {\n      rowIndex,\n      weekDates: week,\n      narrowWeekend\n    })), /* @__PURE__ */h$3(ResizingGuideByRow, {\n      dateMatrix,\n      gridPositionFinder,\n      rowIndex,\n      cellWidthMap,\n      renderedUIModels: renderedEventUIModels\n    }), /* @__PURE__ */h$3(MovingEventShadow, {\n      dateMatrix,\n      gridPositionFinder,\n      rowIndex,\n      rowInfo\n    }));\n  }));\n}\nfunction getMonthDayNames(options) {\n  const {\n    dayNames,\n    startDayOfWeek,\n    workweek\n  } = options.month;\n  const dayIndices = [...Array(7)].map((_2, i2) => (startDayOfWeek + i2) % 7);\n  const monthDayNames = dayIndices.map(i2 => ({\n    day: i2,\n    label: capitalize(dayNames[i2])\n  }));\n  return monthDayNames.filter(dayNameInfo => workweek ? !isWeekend(dayNameInfo.day) : true);\n}\nfunction Month$1() {\n  const options = useStore(optionsSelector);\n  const {\n    renderDate\n  } = useStore(viewSelector);\n  const dayNames = getMonthDayNames(options);\n  const monthOptions = options.month;\n  const {\n    narrowWeekend,\n    startDayOfWeek,\n    workweek\n  } = monthOptions;\n  const dateMatrix = F$2(() => createDateMatrixOfMonth(renderDate, monthOptions), [monthOptions, renderDate]);\n  const {\n    rowStyleInfo,\n    cellWidthMap\n  } = F$2(() => getRowStyleInfo(dayNames.length, narrowWeekend, startDayOfWeek, workweek), [dayNames.length, narrowWeekend, startDayOfWeek, workweek]);\n  const rowInfo = rowStyleInfo.map((cellStyleInfo, index) => __spreadProps(__spreadValues({}, cellStyleInfo), {\n    date: dateMatrix[0][index]\n  }));\n  return /* @__PURE__ */h$3(Layout, {\n    className: cls(\"month\")\n  }, /* @__PURE__ */h$3(GridHeader, {\n    type: \"month\",\n    dayNames,\n    options: monthOptions,\n    rowStyleInfo\n  }), /* @__PURE__ */h$3(DayGridMonth, {\n    dateMatrix,\n    rowInfo,\n    cellWidthMap\n  }));\n}\nfunction useWeekViewState() {\n  const options = useStore(optionsSelector);\n  const calendar = useStore(calendarSelector);\n  const {\n    dayGridRows: gridRowLayout,\n    lastPanelType\n  } = useStore(weekViewLayoutSelector);\n  const {\n    renderDate\n  } = useStore(viewSelector);\n  return F$2(() => ({\n    options,\n    calendar,\n    gridRowLayout,\n    lastPanelType,\n    renderDate\n  }), [calendar, gridRowLayout, lastPanelType, options, renderDate]);\n}\nfunction Week$1() {\n  var _a, _b;\n  const {\n    options,\n    calendar,\n    gridRowLayout,\n    lastPanelType,\n    renderDate\n  } = useWeekViewState();\n  const gridHeaderMarginLeft = useTheme(T$1(theme => theme.week.dayGridLeft.width, []));\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const [timePanel, setTimePanelRef] = useDOMNode();\n  const weekOptions = options.week;\n  const {\n    narrowWeekend,\n    startDayOfWeek,\n    workweek,\n    hourStart,\n    hourEnd,\n    eventView,\n    taskView\n  } = weekOptions;\n  const weekDates = F$2(() => getWeekDates(renderDate, weekOptions), [renderDate, weekOptions]);\n  const dayNames = getDayNames(weekDates, (_b = (_a = options.week) == null ? void 0 : _a.dayNames) != null ? _b : []);\n  const {\n    rowStyleInfo,\n    cellWidthMap\n  } = getRowStyleInfo(weekDates.length, narrowWeekend, startDayOfWeek, workweek);\n  const calendarData = useCalendarData(calendar, options.eventFilter);\n  const eventByPanel = F$2(() => {\n    const getFilterRange = () => {\n      if (primaryTimezoneName === \"Local\") {\n        return [toStartOfDay(first(weekDates)), toEndOfDay(last(weekDates))];\n      }\n      return [toStartOfDay(addDate(first(weekDates), -1)), toEndOfDay(addDate(last(weekDates), 1))];\n    };\n    const [weekStartDate, weekEndDate] = getFilterRange();\n    return getWeekViewEvents(weekDates, calendarData, {\n      narrowWeekend,\n      hourStart,\n      hourEnd,\n      weekStartDate,\n      weekEndDate\n    });\n  }, [calendarData, hourEnd, hourStart, narrowWeekend, primaryTimezoneName, weekDates]);\n  const timeGridData = F$2(() => createTimeGridData(weekDates, {\n    hourStart,\n    hourEnd,\n    narrowWeekend\n  }), [hourEnd, hourStart, narrowWeekend, weekDates]);\n  const activePanels = getActivePanels(taskView, eventView);\n  const dayGridRows = activePanels.map(key => {\n    var _a2, _b2;\n    if (key === \"time\") {\n      return null;\n    }\n    const rowType = key;\n    return /* @__PURE__ */h$3(Panel, {\n      name: rowType,\n      key: rowType,\n      resizable: rowType !== lastPanelType\n    }, rowType === \"allday\" ? /* @__PURE__ */h$3(AlldayGridRow, {\n      events: eventByPanel[rowType],\n      rowStyleInfo,\n      gridColWidthMap: cellWidthMap,\n      weekDates,\n      height: (_a2 = gridRowLayout[rowType]) == null ? void 0 : _a2.height,\n      options: weekOptions\n    }) : /* @__PURE__ */h$3(OtherGridRow, {\n      category: rowType,\n      events: eventByPanel[rowType],\n      weekDates,\n      height: (_b2 = gridRowLayout[rowType]) == null ? void 0 : _b2.height,\n      options: weekOptions,\n      gridColWidthMap: cellWidthMap\n    }));\n  });\n  const hasTimePanel = F$2(() => activePanels.includes(\"time\"), [activePanels]);\n  useTimeGridScrollSync(timePanel, timeGridData.rows.length);\n  const stickyTop = useTimezoneLabelsTop(timePanel);\n  return /* @__PURE__ */h$3(Layout, {\n    className: cls(\"week-view\"),\n    autoAdjustPanels: true\n  }, /* @__PURE__ */h$3(Panel, {\n    name: \"week-view-day-names\",\n    initialHeight: WEEK_DAY_NAME_HEIGHT + WEEK_DAY_NAME_BORDER * 2\n  }, /* @__PURE__ */h$3(GridHeader, {\n    type: \"week\",\n    dayNames,\n    marginLeft: gridHeaderMarginLeft,\n    options: weekOptions,\n    rowStyleInfo\n  })), dayGridRows, hasTimePanel ? /* @__PURE__ */h$3(Panel, {\n    name: \"time\",\n    autoSize: 1,\n    ref: setTimePanelRef\n  }, /* @__PURE__ */h$3(TimeGrid, {\n    events: eventByPanel.time,\n    timeGridData\n  }), /* @__PURE__ */h$3(TimezoneLabels, {\n    top: stickyTop\n  })) : null);\n}\nconst views = {\n  month: Month$1,\n  week: Week$1,\n  day: Day$1\n};\nfunction Main() {\n  const {\n    currentView\n  } = useStore(viewSelector);\n  const CurrentViewComponent = F$2(() => views[currentView] || (() => null), [currentView]);\n  return /* @__PURE__ */h$3(CurrentViewComponent, null);\n}\nvar r = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,\n  n = /[&<>\"]/;\nfunction o(e2) {\n  var t2 = String(e2);\n  return n.test(t2) ? t2.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\") : t2;\n}\nvar a = function (e2, t2) {\n    return String(e2).replace(/(\\n+)/g, \"$1\" + (t2 || \"\t\"));\n  },\n  i = function (e2, t2, r2) {\n    return String(e2).length > (t2 || 40) || !r2 && String(e2).indexOf(\"\\n\") !== -1 || String(e2).indexOf(\"<\") !== -1;\n  },\n  l = {};\nfunction s(e2) {\n  var t2 = \"\";\n  for (var n2 in e2) {\n    var o2 = e2[n2];\n    o2 != null && o2 !== \"\" && (t2 && (t2 += \" \"), t2 += n2[0] == \"-\" ? n2 : l[n2] || (l[n2] = n2.replace(/([A-Z])/g, \"-$1\").toLowerCase()), t2 += \": \", t2 += o2, typeof o2 == \"number\" && r.test(n2) === false && (t2 += \"px\"), t2 += \";\");\n  }\n  return t2 || void 0;\n}\nfunction f(e2, t2) {\n  for (var r2 in t2) e2[r2] = t2[r2];\n  return e2;\n}\nfunction u(e2, t2) {\n  return Array.isArray(t2) ? t2.reduce(u, e2) : t2 != null && t2 !== false && e2.push(t2), e2;\n}\nvar c = {\n    shallow: true\n  },\n  p = [],\n  _ = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,\n  d = /[\\s\\n\\\\/='\"\\0<>]/;\nfunction v() {\n  this.__d = true;\n}\nm.render = m;\nvar g = function (e2, t2) {\n    return m(e2, t2, c);\n  },\n  h = [];\nfunction m(t2, r2, n2) {\n  r2 = r2 || {}, n2 = n2 || {};\n  var o2 = l$3.__s;\n  l$3.__s = true;\n  var a2 = x(t2, r2, n2);\n  return l$3.__c && l$3.__c(t2, h), h.length = 0, l$3.__s = o2, a2;\n}\nfunction x(r2, n2, l2, c2, g2, h2) {\n  if (r2 == null || typeof r2 == \"boolean\") return \"\";\n  if (typeof r2 != \"object\") return o(r2);\n  var m2 = l2.pretty,\n    y2 = m2 && typeof m2 == \"string\" ? m2 : \"\t\";\n  if (Array.isArray(r2)) {\n    for (var b2 = \"\", S2 = 0; S2 < r2.length; S2++) m2 && S2 > 0 && (b2 += \"\\n\"), b2 += x(r2[S2], n2, l2, c2, g2, h2);\n    return b2;\n  }\n  var k2,\n    w2 = r2.type,\n    O2 = r2.props,\n    C2 = false;\n  if (typeof w2 == \"function\") {\n    if (C2 = true, !l2.shallow || !c2 && l2.renderRootComponent !== false) {\n      if (w2 === p$3) {\n        var A2 = [];\n        return u(A2, r2.props.children), x(A2, n2, l2, l2.shallowHighOrder !== false, g2, h2);\n      }\n      var H2,\n        j2 = r2.__c = {\n          __v: r2,\n          context: n2,\n          props: r2.props,\n          setState: v,\n          forceUpdate: v,\n          __d: true,\n          __h: []\n        };\n      l$3.__b && l$3.__b(r2);\n      var F2 = l$3.__r;\n      if (w2.prototype && typeof w2.prototype.render == \"function\") {\n        var M2 = w2.contextType,\n          T2 = M2 && n2[M2.__c],\n          $2 = M2 != null ? T2 ? T2.props.value : M2.__ : n2;\n        (j2 = r2.__c = new w2(O2, $2)).__v = r2, j2._dirty = j2.__d = true, j2.props = O2, j2.state == null && (j2.state = {}), j2._nextState == null && j2.__s == null && (j2._nextState = j2.__s = j2.state), j2.context = $2, w2.getDerivedStateFromProps ? j2.state = f(f({}, j2.state), w2.getDerivedStateFromProps(j2.props, j2.state)) : j2.componentWillMount && (j2.componentWillMount(), j2.state = j2._nextState !== j2.state ? j2._nextState : j2.__s !== j2.state ? j2.__s : j2.state), F2 && F2(r2), H2 = j2.render(j2.props, j2.state, j2.context);\n      } else for (var L2 = w2.contextType, E2 = L2 && n2[L2.__c], D2 = L2 != null ? E2 ? E2.props.value : L2.__ : n2, N2 = 0; j2.__d && N2++ < 25;) j2.__d = false, F2 && F2(r2), H2 = w2.call(r2.__c, O2, D2);\n      return j2.getChildContext && (n2 = f(f({}, n2), j2.getChildContext())), l$3.diffed && l$3.diffed(r2), x(H2, n2, l2, l2.shallowHighOrder !== false, g2, h2);\n    }\n    w2 = (k2 = w2).displayName || k2 !== Function && k2.name || function (e2) {\n      var t2 = (Function.prototype.toString.call(e2).match(/^\\s*function\\s+([^( ]+)/) || \"\")[1];\n      if (!t2) {\n        for (var r3 = -1, n3 = p.length; n3--;) if (p[n3] === e2) {\n          r3 = n3;\n          break;\n        }\n        r3 < 0 && (r3 = p.push(e2) - 1), t2 = \"UnnamedComponent\" + r3;\n      }\n      return t2;\n    }(k2);\n  }\n  var P2,\n    R2,\n    U2 = \"<\" + w2;\n  if (O2) {\n    var W2 = Object.keys(O2);\n    l2 && l2.sortAttributes === true && W2.sort();\n    for (var q2 = 0; q2 < W2.length; q2++) {\n      var z2 = W2[q2],\n        I2 = O2[z2];\n      if (z2 !== \"children\") {\n        if (!d.test(z2) && (l2 && l2.allAttributes || z2 !== \"key\" && z2 !== \"ref\" && z2 !== \"__self\" && z2 !== \"__source\")) {\n          if (z2 === \"defaultValue\") z2 = \"value\";else if (z2 === \"defaultChecked\") z2 = \"checked\";else if (z2 === \"defaultSelected\") z2 = \"selected\";else if (z2 === \"className\") {\n            if (O2.class !== void 0) continue;\n            z2 = \"class\";\n          } else g2 && /^xlink:?./.test(z2) && (z2 = z2.toLowerCase().replace(/^xlink:?/, \"xlink:\"));\n          if (z2 === \"htmlFor\") {\n            if (O2.for) continue;\n            z2 = \"for\";\n          }\n          z2 === \"style\" && I2 && typeof I2 == \"object\" && (I2 = s(I2)), z2[0] === \"a\" && z2[1] === \"r\" && typeof I2 == \"boolean\" && (I2 = String(I2));\n          var V2 = l2.attributeHook && l2.attributeHook(z2, I2, n2, l2, C2);\n          if (V2 || V2 === \"\") U2 += V2;else if (z2 === \"dangerouslySetInnerHTML\") R2 = I2 && I2.__html;else if (w2 === \"textarea\" && z2 === \"value\") P2 = I2;else if ((I2 || I2 === 0 || I2 === \"\") && typeof I2 != \"function\") {\n            if (!(I2 !== true && I2 !== \"\" || (I2 = z2, l2 && l2.xml))) {\n              U2 = U2 + \" \" + z2;\n              continue;\n            }\n            if (z2 === \"value\") {\n              if (w2 === \"select\") {\n                h2 = I2;\n                continue;\n              }\n              w2 === \"option\" && h2 == I2 && O2.selected === void 0 && (U2 += \" selected\");\n            }\n            U2 = U2 + \" \" + z2 + '=\"' + o(I2) + '\"';\n          }\n        }\n      } else P2 = I2;\n    }\n  }\n  if (m2) {\n    var Z2 = U2.replace(/\\n\\s*/, \" \");\n    Z2 === U2 || ~Z2.indexOf(\"\\n\") ? m2 && ~U2.indexOf(\"\\n\") && (U2 += \"\\n\") : U2 = Z2;\n  }\n  if (U2 += \">\", d.test(w2)) throw new Error(w2 + \" is not a valid HTML tag name in \" + U2);\n  var B2,\n    G2 = _.test(w2) || l2.voidElements && l2.voidElements.test(w2),\n    J2 = [];\n  if (R2) m2 && i(R2) && (R2 = \"\\n\" + y2 + a(R2, y2)), U2 += R2;else if (P2 != null && u(B2 = [], P2).length) {\n    for (var K2 = m2 && ~U2.indexOf(\"\\n\"), Q2 = false, X2 = 0; X2 < B2.length; X2++) {\n      var Y2 = B2[X2];\n      if (Y2 != null && Y2 !== false) {\n        var ee = x(Y2, n2, l2, true, w2 === \"svg\" || w2 !== \"foreignObject\" && g2, h2);\n        if (m2 && !K2 && i(ee) && (K2 = true), ee) if (m2) {\n          var te = ee.length > 0 && ee[0] != \"<\";\n          Q2 && te ? J2[J2.length - 1] += ee : J2.push(ee), Q2 = te;\n        } else J2.push(ee);\n      }\n    }\n    if (m2 && K2) for (var re = J2.length; re--;) J2[re] = \"\\n\" + y2 + a(J2[re], y2);\n  }\n  if (J2.length || R2) U2 += J2.join(\"\");else if (l2 && l2.xml) return U2.substring(0, U2.length - 1) + \" />\";\n  return !G2 || B2 || R2 ? (m2 && ~U2.indexOf(\"\\n\") && (U2 += \"\\n\"), U2 = U2 + \"</\" + w2 + \">\") : U2 = U2.replace(/>$/, \" />\"), U2;\n}\nm.shallowRender = g;\nfunction forEachOwnProperties$2(obj, iteratee, context) {\n  var key;\n  context = context || null;\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (iteratee.call(context, obj[key], key, obj) === false) {\n        break;\n      }\n    }\n  }\n}\nvar forEachOwnProperties_1 = forEachOwnProperties$2;\nvar forEachOwnProperties$1 = forEachOwnProperties_1;\nfunction imagePing$1(url, trackingInfo) {\n  var trackingElement = document.createElement(\"img\");\n  var queryString = \"\";\n  forEachOwnProperties$1(trackingInfo, function (value, key) {\n    queryString += \"&\" + key + \"=\" + value;\n  });\n  queryString = queryString.substring(1);\n  trackingElement.src = url + \"?\" + queryString;\n  trackingElement.style.display = \"none\";\n  document.body.appendChild(trackingElement);\n  document.body.removeChild(trackingElement);\n  return trackingElement;\n}\nvar imagePing_1 = imagePing$1;\nvar isUndefined$1 = isUndefined_1;\nvar imagePing = imagePing_1;\nvar ms7days = 7 * 24 * 60 * 60 * 1e3;\nfunction isExpired(date2) {\n  var now = new Date().getTime();\n  return now - date2 > ms7days;\n}\nfunction sendHostname(appName, trackingId) {\n  var url = \"https://www.google-analytics.com/collect\";\n  var hostname = location.hostname;\n  var hitType = \"event\";\n  var eventCategory = \"use\";\n  var applicationKeyForStorage = \"TOAST UI \" + appName + \" for \" + hostname + \": Statistics\";\n  var date2 = window.localStorage.getItem(applicationKeyForStorage);\n  if (!isUndefined$1(window.tui) && window.tui.usageStatistics === false) {\n    return;\n  }\n  if (date2 && !isExpired(date2)) {\n    return;\n  }\n  window.localStorage.setItem(applicationKeyForStorage, new Date().getTime());\n  setTimeout(function () {\n    if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n      imagePing(url, {\n        v: 1,\n        t: hitType,\n        tid: trackingId,\n        cid: hostname,\n        dp: hostname,\n        dh: appName,\n        el: appName,\n        ec: eventCategory\n      });\n    }\n  }, 1e3);\n}\nvar sendHostname_1 = sendHostname;\nfunction CalendarContainer({\n  theme,\n  store,\n  eventBus,\n  children\n}) {\n  return /* @__PURE__ */h$3(EventBusProvider, {\n    value: eventBus\n  }, /* @__PURE__ */h$3(ThemeProvider, {\n    store: theme\n  }, /* @__PURE__ */h$3(StoreProvider, {\n    store\n  }, /* @__PURE__ */h$3(FloatingLayerProvider, null, children))));\n}\nconst GA_TRACKING_ID = \"UA-129951699-1\";\nfunction extend$1(target, objects) {\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n  var source, prop, i2, len;\n  for (i2 = 1, len = arguments.length; i2 < len; i2 += 1) {\n    source = arguments[i2];\n    for (prop in source) {\n      if (hasOwnProp.call(source, prop)) {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nvar extend_1 = extend$1;\nfunction isNull$1(obj) {\n  return obj === null;\n}\nvar isNull_1 = isNull$1;\nvar isUndefined = isUndefined_1;\nvar isNull = isNull_1;\nfunction isExisty$1(param) {\n  return !isUndefined(param) && !isNull(param);\n}\nvar isExisty_1 = isExisty$1;\nfunction isArray$2(obj) {\n  return obj instanceof Array;\n}\nvar isArray_1 = isArray$2;\nfunction isFunction$1(obj) {\n  return obj instanceof Function;\n}\nvar isFunction_1 = isFunction$1;\nfunction forEachArray$1(arr, iteratee, context) {\n  var index = 0;\n  var len = arr.length;\n  context = context || null;\n  for (; index < len; index += 1) {\n    if (iteratee.call(context, arr[index], index, arr) === false) {\n      break;\n    }\n  }\n}\nvar forEachArray_1 = forEachArray$1;\nvar isArray$1 = isArray_1;\nvar forEachArray = forEachArray_1;\nvar forEachOwnProperties = forEachOwnProperties_1;\nfunction forEach$1(obj, iteratee, context) {\n  if (isArray$1(obj)) {\n    forEachArray(obj, iteratee, context);\n  } else {\n    forEachOwnProperties(obj, iteratee, context);\n  }\n}\nvar forEach_1 = forEach$1;\nvar extend = extend_1;\nvar isExisty = isExisty_1;\nvar isString = isString_1;\nvar isObject = isObject_1;\nvar isArray = isArray_1;\nvar isFunction = isFunction_1;\nvar forEach = forEach_1;\nvar R_EVENTNAME_SPLIT = /\\s+/g;\nfunction CustomEvents() {\n  this.events = null;\n  this.contexts = null;\n}\nCustomEvents.mixin = function (func) {\n  extend(func.prototype, CustomEvents.prototype);\n};\nCustomEvents.prototype._getHandlerItem = function (handler, context) {\n  var item = {\n    handler\n  };\n  if (context) {\n    item.context = context;\n  }\n  return item;\n};\nCustomEvents.prototype._safeEvent = function (eventName) {\n  var events = this.events;\n  var byName;\n  if (!events) {\n    events = this.events = {};\n  }\n  if (eventName) {\n    byName = events[eventName];\n    if (!byName) {\n      byName = [];\n      events[eventName] = byName;\n    }\n    events = byName;\n  }\n  return events;\n};\nCustomEvents.prototype._safeContext = function () {\n  var context = this.contexts;\n  if (!context) {\n    context = this.contexts = [];\n  }\n  return context;\n};\nCustomEvents.prototype._indexOfContext = function (ctx) {\n  var context = this._safeContext();\n  var index = 0;\n  while (context[index]) {\n    if (ctx === context[index][0]) {\n      return index;\n    }\n    index += 1;\n  }\n  return -1;\n};\nCustomEvents.prototype._memorizeContext = function (ctx) {\n  var context, index;\n  if (!isExisty(ctx)) {\n    return;\n  }\n  context = this._safeContext();\n  index = this._indexOfContext(ctx);\n  if (index > -1) {\n    context[index][1] += 1;\n  } else {\n    context.push([ctx, 1]);\n  }\n};\nCustomEvents.prototype._forgetContext = function (ctx) {\n  var context, contextIndex;\n  if (!isExisty(ctx)) {\n    return;\n  }\n  context = this._safeContext();\n  contextIndex = this._indexOfContext(ctx);\n  if (contextIndex > -1) {\n    context[contextIndex][1] -= 1;\n    if (context[contextIndex][1] <= 0) {\n      context.splice(contextIndex, 1);\n    }\n  }\n};\nCustomEvents.prototype._bindEvent = function (eventName, handler, context) {\n  var events = this._safeEvent(eventName);\n  this._memorizeContext(context);\n  events.push(this._getHandlerItem(handler, context));\n};\nCustomEvents.prototype.on = function (eventName, handler, context) {\n  var self2 = this;\n  if (isString(eventName)) {\n    eventName = eventName.split(R_EVENTNAME_SPLIT);\n    forEach(eventName, function (name) {\n      self2._bindEvent(name, handler, context);\n    });\n  } else if (isObject(eventName)) {\n    context = handler;\n    forEach(eventName, function (func, name) {\n      self2.on(name, func, context);\n    });\n  }\n};\nCustomEvents.prototype.once = function (eventName, handler, context) {\n  var self2 = this;\n  if (isObject(eventName)) {\n    context = handler;\n    forEach(eventName, function (func, name) {\n      self2.once(name, func, context);\n    });\n    return;\n  }\n  function onceHandler() {\n    handler.apply(context, arguments);\n    self2.off(eventName, onceHandler, context);\n  }\n  this.on(eventName, onceHandler, context);\n};\nCustomEvents.prototype._spliceMatches = function (arr, predicate) {\n  var i2 = 0;\n  var len;\n  if (!isArray(arr)) {\n    return;\n  }\n  for (len = arr.length; i2 < len; i2 += 1) {\n    if (predicate(arr[i2]) === true) {\n      arr.splice(i2, 1);\n      len -= 1;\n      i2 -= 1;\n    }\n  }\n};\nCustomEvents.prototype._matchHandler = function (handler) {\n  var self2 = this;\n  return function (item) {\n    var needRemove = handler === item.handler;\n    if (needRemove) {\n      self2._forgetContext(item.context);\n    }\n    return needRemove;\n  };\n};\nCustomEvents.prototype._matchContext = function (context) {\n  var self2 = this;\n  return function (item) {\n    var needRemove = context === item.context;\n    if (needRemove) {\n      self2._forgetContext(item.context);\n    }\n    return needRemove;\n  };\n};\nCustomEvents.prototype._matchHandlerAndContext = function (handler, context) {\n  var self2 = this;\n  return function (item) {\n    var matchHandler = handler === item.handler;\n    var matchContext = context === item.context;\n    var needRemove = matchHandler && matchContext;\n    if (needRemove) {\n      self2._forgetContext(item.context);\n    }\n    return needRemove;\n  };\n};\nCustomEvents.prototype._offByEventName = function (eventName, handler) {\n  var self2 = this;\n  var andByHandler = isFunction(handler);\n  var matchHandler = self2._matchHandler(handler);\n  eventName = eventName.split(R_EVENTNAME_SPLIT);\n  forEach(eventName, function (name) {\n    var handlerItems = self2._safeEvent(name);\n    if (andByHandler) {\n      self2._spliceMatches(handlerItems, matchHandler);\n    } else {\n      forEach(handlerItems, function (item) {\n        self2._forgetContext(item.context);\n      });\n      self2.events[name] = [];\n    }\n  });\n};\nCustomEvents.prototype._offByHandler = function (handler) {\n  var self2 = this;\n  var matchHandler = this._matchHandler(handler);\n  forEach(this._safeEvent(), function (handlerItems) {\n    self2._spliceMatches(handlerItems, matchHandler);\n  });\n};\nCustomEvents.prototype._offByObject = function (obj, handler) {\n  var self2 = this;\n  var matchFunc;\n  if (this._indexOfContext(obj) < 0) {\n    forEach(obj, function (func, name) {\n      self2.off(name, func);\n    });\n  } else if (isString(handler)) {\n    matchFunc = this._matchContext(obj);\n    self2._spliceMatches(this._safeEvent(handler), matchFunc);\n  } else if (isFunction(handler)) {\n    matchFunc = this._matchHandlerAndContext(handler, obj);\n    forEach(this._safeEvent(), function (handlerItems) {\n      self2._spliceMatches(handlerItems, matchFunc);\n    });\n  } else {\n    matchFunc = this._matchContext(obj);\n    forEach(this._safeEvent(), function (handlerItems) {\n      self2._spliceMatches(handlerItems, matchFunc);\n    });\n  }\n};\nCustomEvents.prototype.off = function (eventName, handler) {\n  if (isString(eventName)) {\n    this._offByEventName(eventName, handler);\n  } else if (!arguments.length) {\n    this.events = {};\n    this.contexts = [];\n  } else if (isFunction(eventName)) {\n    this._offByHandler(eventName);\n  } else if (isObject(eventName)) {\n    this._offByObject(eventName, handler);\n  }\n};\nCustomEvents.prototype.fire = function (eventName) {\n  this.invoke.apply(this, arguments);\n};\nCustomEvents.prototype.invoke = function (eventName) {\n  var events, args, index, item;\n  if (!this.hasListener(eventName)) {\n    return true;\n  }\n  events = this._safeEvent(eventName);\n  args = Array.prototype.slice.call(arguments, 1);\n  index = 0;\n  while (events[index]) {\n    item = events[index];\n    if (item.handler.apply(item.context, args) === false) {\n      return false;\n    }\n    index += 1;\n  }\n  return true;\n};\nCustomEvents.prototype.hasListener = function (eventName) {\n  return this.getListenerLength(eventName) > 0;\n};\nCustomEvents.prototype.getListenerLength = function (eventName) {\n  var events = this._safeEvent(eventName);\n  return events.length;\n};\nvar customEvents = CustomEvents;\nclass EventBusImpl extends customEvents {\n  on(eventName, handler) {\n    super.on(eventName, handler);\n    return this;\n  }\n  off(eventName, handler) {\n    super.off(eventName, handler);\n    return this;\n  }\n  fire(eventName, ...args) {\n    super.fire(eventName, ...args);\n    return this;\n  }\n  once(eventName, handler) {\n    super.once(eventName, handler);\n    return this;\n  }\n}\nclass CalendarCore {\n  constructor(container, options = {}) {\n    var _a;\n    this.container = isString_1(container) ? (_a = document == null ? void 0 : document.querySelector(container)) != null ? _a : null : container;\n    this.theme = initThemeStore(options.theme);\n    this.eventBus = new EventBusImpl();\n    this.store = initCalendarStore(options);\n    this.renderRange = this.calculateRenderRange(toStartOfDay());\n    addAttributeHooks();\n    if (this.getStoreState().options.usageStatistics === true) {\n      sendHostname_1(\"calendar\", GA_TRACKING_ID);\n    }\n  }\n  getStoreState(group) {\n    const state = this.store.getState();\n    return group ? state[group] : state;\n  }\n  getStoreDispatchers(group) {\n    const dispatchers = this.store.getState().dispatch;\n    return group ? dispatchers[group] : dispatchers;\n  }\n  destroy() {\n    if (this.container) {\n      un(this.container);\n    }\n    this.store.clearListeners();\n    this.theme.clearListeners();\n    this.eventBus.off();\n    removeAttributeHooks();\n    for (const key in this) {\n      if (this.hasOwnProperty(key)) {\n        delete this[key];\n      }\n    }\n  }\n  calculateMonthRenderDate({\n    renderDate,\n    offset,\n    monthOptions\n  }) {\n    let newRenderDate = new TZDate(renderDate);\n    const {\n      visibleWeeksCount\n    } = monthOptions;\n    if (visibleWeeksCount > 0) {\n      newRenderDate = addDate(newRenderDate, offset * 7 * visibleWeeksCount);\n    } else {\n      newRenderDate = addMonths(newRenderDate, offset);\n    }\n    const dateMatrix = createDateMatrixOfMonth(newRenderDate, monthOptions);\n    const [[start]] = dateMatrix;\n    const end = last(last(dateMatrix));\n    return {\n      renderDate: newRenderDate,\n      renderRange: {\n        start,\n        end\n      }\n    };\n  }\n  calculateWeekRenderDate({\n    renderDate,\n    offset,\n    weekOptions\n  }) {\n    const newRenderDate = new TZDate(renderDate);\n    newRenderDate.addDate(offset * 7);\n    const weekDates = getWeekDates(newRenderDate, weekOptions);\n    const [start] = weekDates;\n    const end = last(weekDates);\n    return {\n      renderDate: newRenderDate,\n      renderRange: {\n        start,\n        end\n      }\n    };\n  }\n  calculateDayRenderDate({\n    renderDate,\n    offset\n  }) {\n    const newRenderDate = new TZDate(renderDate);\n    newRenderDate.addDate(offset);\n    const start = toStartOfDay(newRenderDate);\n    const end = toEndOfDay(newRenderDate);\n    return {\n      renderDate: newRenderDate,\n      renderRange: {\n        start,\n        end\n      }\n    };\n  }\n  move(offset) {\n    if (isNil(offset)) {\n      return;\n    }\n    const {\n      currentView,\n      renderDate\n    } = this.getStoreState().view;\n    const {\n      options\n    } = this.getStoreState();\n    const {\n      setRenderDate\n    } = this.getStoreDispatchers().view;\n    const newRenderDate = new TZDate(renderDate);\n    let calculatedRenderDate = {\n      renderDate: newRenderDate,\n      renderRange: {\n        start: new TZDate(newRenderDate),\n        end: new TZDate(newRenderDate)\n      }\n    };\n    if (currentView === \"month\") {\n      calculatedRenderDate = this.calculateMonthRenderDate({\n        renderDate,\n        offset,\n        monthOptions: options.month\n      });\n    } else if (currentView === \"week\") {\n      calculatedRenderDate = this.calculateWeekRenderDate({\n        renderDate,\n        offset,\n        weekOptions: options.week\n      });\n    } else if (currentView === \"day\") {\n      calculatedRenderDate = this.calculateDayRenderDate({\n        renderDate,\n        offset\n      });\n    }\n    setRenderDate(calculatedRenderDate.renderDate);\n    this.renderRange = calculatedRenderDate.renderRange;\n  }\n  createEvents(events) {\n    const {\n      createEvents: createEvents2\n    } = this.getStoreDispatchers(\"calendar\");\n    createEvents2(events);\n  }\n  getEventModel(eventId, calendarId) {\n    const {\n      events\n    } = this.getStoreState(\"calendar\");\n    return events.find(({\n      id,\n      calendarId: eventCalendarId\n    }) => id === eventId && eventCalendarId === calendarId);\n  }\n  getEvent(eventId, calendarId) {\n    var _a, _b;\n    return (_b = (_a = this.getEventModel(eventId, calendarId)) == null ? void 0 : _a.toEventObject()) != null ? _b : null;\n  }\n  updateEvent(eventId, calendarId, changes) {\n    const {\n      updateEvent: updateEvent2\n    } = this.getStoreDispatchers(\"calendar\");\n    const event = this.getEventModel(eventId, calendarId);\n    if (event) {\n      updateEvent2({\n        event,\n        eventData: changes\n      });\n    }\n  }\n  deleteEvent(eventId, calendarId) {\n    const {\n      deleteEvent: deleteEvent2\n    } = this.getStoreDispatchers(\"calendar\");\n    const event = this.getEventModel(eventId, calendarId);\n    if (event) {\n      deleteEvent2(event);\n    }\n  }\n  setCalendarVisibility(calendarId, isVisible) {\n    const {\n      setCalendarVisibility\n    } = this.getStoreDispatchers(\"calendar\");\n    const calendarIds = Array.isArray(calendarId) ? calendarId : [calendarId];\n    setCalendarVisibility(calendarIds, isVisible);\n  }\n  render() {\n    if (isPresent(this.container)) {\n      P$2( /* @__PURE__ */h$3(CalendarContainer, {\n        theme: this.theme,\n        store: this.store,\n        eventBus: this.eventBus\n      }, this.getComponent()), this.container);\n    }\n    return this;\n  }\n  renderToString() {\n    return m( /* @__PURE__ */h$3(CalendarContainer, {\n      theme: this.theme,\n      store: this.store,\n      eventBus: this.eventBus\n    }, this.getComponent()));\n  }\n  clear() {\n    const {\n      clearEvents: clearEvents2\n    } = this.getStoreDispatchers(\"calendar\");\n    clearEvents2();\n  }\n  scrollToNow(scrollBehavior = \"auto\") {\n    this.eventBus.fire(\"scrollToNow\", scrollBehavior);\n  }\n  calculateRenderRange(renderDate) {\n    const {\n      currentView\n    } = this.getStoreState().view;\n    const {\n      options\n    } = this.getStoreState();\n    const newRenderDate = new TZDate(renderDate);\n    let newRenderRange = {\n      start: new TZDate(newRenderDate),\n      end: new TZDate(newRenderDate)\n    };\n    if (currentView === \"month\") {\n      newRenderRange = this.calculateMonthRenderDate({\n        renderDate,\n        offset: 0,\n        monthOptions: options.month\n      }).renderRange;\n    } else if (currentView === \"week\") {\n      newRenderRange = this.calculateWeekRenderDate({\n        renderDate,\n        offset: 0,\n        weekOptions: options.week\n      }).renderRange;\n    } else if (currentView === \"day\") {\n      newRenderRange = this.calculateDayRenderDate({\n        renderDate,\n        offset: 0\n      }).renderRange;\n    }\n    return newRenderRange;\n  }\n  today() {\n    const {\n      setRenderDate\n    } = this.getStoreDispatchers().view;\n    const today = new TZDate();\n    setRenderDate(today);\n    this.renderRange = this.calculateRenderRange(today);\n  }\n  setDate(date2) {\n    const {\n      setRenderDate\n    } = this.getStoreDispatchers(\"view\");\n    const dateToChange = new TZDate(date2);\n    setRenderDate(dateToChange);\n    this.renderRange = this.calculateRenderRange(dateToChange);\n  }\n  next() {\n    this.move(1);\n  }\n  prev() {\n    this.move(-1);\n  }\n  setCalendarColor(calendarId, colorOptions) {\n    const {\n      setCalendarColor\n    } = this.getStoreDispatchers().calendar;\n    setCalendarColor(calendarId, colorOptions);\n  }\n  changeView(viewName) {\n    const {\n      changeView\n    } = this.getStoreDispatchers(\"view\");\n    changeView(viewName);\n    this.renderRange = this.calculateRenderRange(this.getDate());\n  }\n  getElement(eventId, calendarId) {\n    const event = this.getEvent(eventId, calendarId);\n    if (event && this.container) {\n      return this.container.querySelector(`[data-event-id=\"${eventId}\"][data-calendar-id=\"${calendarId}\"]`);\n    }\n    return null;\n  }\n  setTheme(theme) {\n    const {\n      setTheme\n    } = this.theme.getState().dispatch;\n    setTheme(theme);\n  }\n  getOptions() {\n    const {\n      options,\n      template\n    } = this.getStoreState();\n    const _a = this.theme.getState(),\n      {\n        dispatch\n      } = _a,\n      theme = __objRest(_a, [\"dispatch\"]);\n    return __spreadProps(__spreadValues({}, options), {\n      template,\n      theme\n    });\n  }\n  setOptions(options) {\n    const _a = options,\n      {\n        theme,\n        template\n      } = _a,\n      restOptions = __objRest(_a, [\"theme\", \"template\"]);\n    const {\n      setTheme\n    } = this.theme.getState().dispatch;\n    const {\n      options: {\n        setOptions\n      },\n      template: {\n        setTemplate\n      }\n    } = this.getStoreDispatchers();\n    if (isPresent(theme)) {\n      setTheme(theme);\n    }\n    if (isPresent(template)) {\n      setTemplate(template);\n    }\n    setOptions(restOptions);\n  }\n  getDate() {\n    const {\n      renderDate\n    } = this.getStoreState().view;\n    return renderDate;\n  }\n  getDateRangeStart() {\n    return this.renderRange.start;\n  }\n  getDateRangeEnd() {\n    return this.renderRange.end;\n  }\n  getViewName() {\n    const {\n      currentView\n    } = this.getStoreState(\"view\");\n    return currentView;\n  }\n  setCalendars(calendars) {\n    const {\n      setCalendars\n    } = this.getStoreDispatchers().calendar;\n    setCalendars(calendars);\n  }\n  openFormPopup(event) {\n    const {\n      showFormPopup\n    } = this.getStoreDispatchers().popup;\n    const eventModel = new EventModel(event);\n    const {\n      title,\n      location: location2,\n      start,\n      end,\n      isAllday: isAllday2,\n      isPrivate,\n      state: eventState\n    } = eventModel;\n    showFormPopup({\n      isCreationPopup: true,\n      event: eventModel,\n      title,\n      location: location2,\n      start,\n      end,\n      isAllday: isAllday2,\n      isPrivate,\n      eventState\n    });\n  }\n  clearGridSelections() {\n    const {\n      clearAll\n    } = this.getStoreDispatchers().gridSelection;\n    clearAll();\n  }\n  fire(eventName, ...args) {\n    this.eventBus.fire(eventName, ...args);\n    return this;\n  }\n  off(eventName, handler) {\n    this.eventBus.off(eventName, handler);\n    return this;\n  }\n  on(eventName, handler) {\n    this.eventBus.on(eventName, handler);\n    return this;\n  }\n  once(eventName, handler) {\n    this.eventBus.once(eventName, handler);\n    return this;\n  }\n}\nfunction isValidViewType(viewType) {\n  return !!Object.values(VIEW_TYPE).find(type => type === viewType);\n}\nclass Calendar extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    const {\n      defaultView = \"week\"\n    } = options;\n    if (!isValidViewType(defaultView)) {\n      throw new InvalidViewTypeError(defaultView);\n    }\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */h$3(Main, null);\n  }\n}\nclass Day extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */h$3(Day$1, null);\n  }\n}\nclass Month extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */h$3(Month$1, null);\n  }\n  hideMoreView() {\n    const {\n      hideSeeMorePopup\n    } = this.getStoreDispatchers().popup;\n    hideSeeMorePopup();\n  }\n}\nclass Week extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */h$3(Week$1, null);\n  }\n}\nexport { Day, Month, TZDate, Week, Calendar as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a2","b2","prop","call","__spreadProps","__objRest","source","exclude","target","indexOf","DatePicker","n$2","l$3","u$3","t$2","o$3","r$3","f$3","e$1","c$3","s$3","n2","l2","u2","a$3","parentNode","removeChild","h$3","i2","t2","o2","r2","f2","arguments","length","children","defaultProps","v$3","type","props","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","p$3","d$3","context","_$3","k$2","base","b$2","push","g$4","__r","debounceRendering","setTimeout","sort","n3","some","__P","j$3","__n","ownerSVGElement","z$2","w$3","c2","s2","h2","y2","d2","k2","g2","w2","x2","C2","Array","isArray","m$2","A$2","N","M$2","x$3","e2","n","appendChild","nextSibling","insertBefore","C$1","H$2","$$1","setProperty","test","style","cssText","replace","toLowerCase","slice","l","addEventListener","T$2","I$2","removeEventListener","setAttribute","removeAttribute","event","v2","_2","m2","A2","$2","H2","contextType","__E","render","O$2","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L$2","diffed","u3","p2","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","current","unmount","componentWillUnmount","P$2","firstChild","q$3","B$1","Consumer","l3","Provider","n4","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","t$1","u$2","r$2","o$2","i$2","c$2","f$2","e","a$2","v$2","l$2","m$1","p$2","__H","__V","y$1","d$2","z$1","t","_$2","w$2","u","h$2","s$2","F$2","T$1","q$2","c","b$1","shift","j$2","k$1","requestAnimationFrame","t3","clearTimeout","g$3","cancelAnimationFrame","filter","n$1","Error","map","join","r$1","Q$1","getPrototypeOf","Function","toString","Z$1","L$1","s$1","v$1","i$1","o$1","keys","nn","i","u$1","has","a$1","get","f$1","set","delete","add","c$1","X","Map","q$1","Set","p$1","o","l$1","rn","create","d$1","y","clear","h$1","freeze","isFrozen","b","tn","_$1","U","j$1","s","v","O$1","g$2","p","S$1","w$1","h","m","_","j","O","P$1","g","S","P","M$1","x$2","M","H$1","o3","A$1","A","I","k","r3","R","D","concat","F","z","I$1","getOwnPropertyDescriptor","E$1","R$1","T","e3","C","en","on","Proxy","revocable","revoke","proxy","J","D$1","K","F$1","from","G","W$1","Symbol","B","Reflect","for","ownKeys","getOwnPropertyNames","i3","deleteProperty","setPrototypeOf","apply","un$1","produce","r4","e4","Promise","then","produceWithPatches","i4","r5","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","$","an","fn","bind","commonjsGlobal","globalThis","window","global","self","isUndefined$3","isUndefined_1","isUndefined$2","range","start","stop","step","arr","flag","range_1","DEFAULT_DAY_NAME_MARGIN_LEFT","MONTH_EVENT_HEIGHT","MONTH_EVENT_MARGIN_TOP","MONTH_CELL_PADDING_TOP","MONTH_CELL_BAR_HEIGHT","MONTH_MORE_VIEW_PADDING","MONTH_MORE_VIEW_MIN_WIDTH","MONTH_MORE_VIEW_HEADER_HEIGHT","MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM","MONTH_MORE_VIEW_HEADER_PADDING_TOP","MONTH_MORE_VIEW_HEADER_PADDING","WEEK_DAY_NAME_HEIGHT","WEEK_DAY_NAME_BORDER","WEEK_EVENT_MARGIN_TOP","DEFAULT_PANEL_HEIGHT","DEFAULT_EVENT_COLORS","color","backgroundColor","dragBackgroundColor","borderColor","TIME_EVENT_CONTAINER_MARGIN_LEFT","COLLAPSED_DUPLICATE_EVENT_WIDTH_PX","isBoolean","Boolean","isBoolean_1","isNumber","Number","isNumber_1","isObject$1","isObject_1","isString$1","String","isString_1","isNil","isPresent","isFunction$2","CSS_PREFIX","cls","args","result","arg","className2","str","toPercent","toPx","extractPercentPx","percentRegexp","percentResult","match","pxRegexp","pxResult","percent","parseInt","px","getEventColors","uiModel","calendarColor","eventColors","model","getColors","reduce","colors","_key","_a","_b","rISO8601","throwNotSupported","getDateTime","dateString","exec","M2","ms","zoneInfo","d","createFromDateString","info","Date","LocalDate","firstArg","getTime","setTimezoneOffset","setTimezoneName","clone","toDate","getterMethods","setterMethods","methodName","UTCDate","getTimezoneOffset","getterProperties","setterProperties","INVALID_DATETIME_FORMAT","INVALID_TIMEZONE_NAME","INVALID_VIEW_TYPE","MESSAGE_PREFIX","InvalidTimezoneNameError","timezoneName","InvalidDateTimeFormatError","dateTimeString","InvalidViewTypeError","viewType","logger","error","restArgs","console","warn","Constructor","date","getLocalTimezoneOffset","calculateTimezoneOffset","targetDate","TZDate","isIntlDateTimeFormatSupported","validateIANATimezoneName","token","tokenizeTZDate","utcDate","tokenToUtcDate","Math","round","isUsingDST","jan","getFullYear","jul","max","dtfCache","timezoneNameValidationCache","Intl","DateTimeFormat","formatToParts","timeZone","getDateTimeFormat","dtf","hourCycle","hour12","year","month","day","hour","minute","second","typeToPos","tzDate","formatted","cur","pos","monthPlusOne","UTC","getTZOffsetMSDifference","offset","MS_PER_MINUTES","tzOffset","addFullYear","setFullYear","addMonth","setMonth","getMonth","addDate","setDate","getDate","addHours","setHours","getHours","addMinutes","setMinutes","getMinutes","addSeconds","setSeconds","getSeconds","addMilliseconds","setMilliseconds","getMilliseconds","setWithRaw","valueOf","getDay","setTime","tz","tzValue","newTZDate","local","pick","propNames","acc","clone$1","assign","mergeObject","targetKey","sourceKey","eventUIPropsKey","EventUIModel","top","left","width","height","exceedLeft","exceedRight","croppedStart","croppedEnd","goingDurationHeight","modelDurationHeight","comingDurationHeight","duplicateEvents","duplicateEventIndex","duplicateLeft","duplicateWidth","collapse","isMain","getUIProps","setUIProps","getStarts","renderStarts","getEnds","renderEnds","cid","duration","collidesWith","usingTravelTime","infos","isDuplicateEvent","duplicateStarts","end","duplicateEnds","goingDuration","comingDuration","thisInfo","targetInfo","targetStart","targetEnd","targetGoingDuration","targetComingDuration","eventUIModelProps","clonedEventUIModel","compareBooleansASC","compareNumbersASC","compareStringsASC","compareEventsASC","modelA","modelB","alldayCompare","isAllday","hasMultiDates","startsCompare","compare","durationA","durationB","bsearch","search","fn2","compareFn","minIndex","maxIndex","currentIndex","comp","array","asc","num","first","array2","last","findLastIndex","predicate","fill","Day$2","Day2","WEEK_DAYS","dateFormatRx","memo","millisecondsTo","millisecondsFrom","convByTimeUnit","leadingZero","number","zero","getHourForMeridiem","date2","tokenFunc","YYYYMMDD","YYYY","MM","DD","minutes","hh","tt","MS_PER_DAY","MS_EVENT_MIN_DURATION","MS_PER_THIRTY_MINUTES","toFormat","strFormat","entries","converter","convMilliseconds","iteratee","index","isNaN","cache","toStartOfDay","makeDateRange","startDate","endDate","startTime","endTime","cursor","d1","_d1","_d2","isSameYear","isSameMonth","isSameDate","min","parse","fixMonth","matches","separator","ymd","hms","split","substr","toEndOfDay","isWeekend","isSunday","isSaturday","toStartOfMonth","toEndOfMonth","getRowStyleInfo","days","narrowWeekend","startDayOfWeek","workweek","limitDaysToApplyNarrowWeekend","uniformWidth","wideWidth","accumulatedWidth","dates","rowStyleInfo","cellWidthMap","j2","widthList","setTimeStrToDate","timeStr","subtractDate","steps","addMonths","dayOfMonth","endOfDesiredMonth","daysInMonth","getDateDifference","hasCollision","abs","isSameEvent","eventId","calendarId","id","idGenerator","next","getId","generator","stamp","__fe_id","EventModel","title","body","location","attendees","category","dueDateClass","recurrenceRule","isVisible","isPending","isFocused","isReadOnly","isPrivate","customStyle","raw","init","isAllday2","location2","setAlldayPeriod","setTimePeriod","startedAt","endedAt","substring","now","equals","toEventObject","__cid","schema","required","dateRange","isTimeEvent","Collection","getItemIDFn","internalMap","getItemID","and","filterFns","item","or","_id","getFirstItem","iterator","values","items","remove","removeResult","doWhenHas","callback","filterFn","groupBy","groupByFn","find","findFn","done","toArray","each","size","createEventCollection","initItems","collection","getDateRange","filterByCategory","addToMatrix","idsOfDay","containDates","matrix","removeFromMatrix","modelID","ids","addEvent","calendarData","events","createEvent","eventData","createEvents","updateEvent","deleteEvent","clearEvents","createCalendarSlice","calendars","calendar","createCalendarDispatchers","setCalendars","setCalendarColor","colorOptions","_c","_d","setCalendarVisibility","calendarIds","includes","DraggingState","DraggingState2","createDndSlice","dnd","draggingItemType","draggingState","initX","initY","x","draggingEventUIModel","createDndDispatchers","initDrag","initState","setDragging","newState","cancelDrag","reset","setDraggingEventUIModel","eventUIModel","createGridSelectionSlice","gridSelection","dayGridMonth","dayGridWeek","timeGrid","accumulated","createGridSelectionDispatchers","setGridSelection","addGridSelection","clearAll","DEFAULT_RESIZER_LENGTH","DEFAULT_DUPLICATE_EVENT_CID","getRestPanelHeight","dayGridRowsState","lastPanelType","initHeight","rowName","createWeekViewLayoutSlice","layout","weekViewLayout","dayGridRows","selectedDuplicateEventCid","createWeekViewLayoutDispatchers","setLastPanelType","updateLayoutHeight","updateDayGridRowHeight","updateDayGridRowHeightByDiff","diff","setSelectedDuplicateEventCid","capitalize","charAt","toUpperCase","DEFAULT_DAY_NAMES","getDayName","dayIndex","getDayNames","weekDayNamesOption","dayName","isToday","renderDate","dateInstance","initializeCollapseDuplicateEvents","options","initialCollapseDuplicateEvents","getDuplicateEvents","targetEvent","getMainEvent","initializeWeekOptions","weekOptions","week","SUN","dayNames","showNowIndicator","showTimezoneCollapseButton","timezonesCollapsed","hourStart","hourEnd","eventView","taskView","collapseDuplicateEvents","initializeTimezoneOptions","timezoneOptions","zones","initializeMonthOptions","monthOptions","visibleWeeksCount","isAlways6Weeks","visibleEventCount","initializeGridSelectionOptions","enableDblClick","enableClick","initialEventFilter","createOptionsSlice","_e","_f","defaultView","useFormPopup","useDetailPopup","usageStatistics","eventFilter","timezone","createOptionsDispatchers","setOptions","newOptions","PopupType","PopupType2","createPopupSlice","popup","createPopupDispatchers","showSeeMorePopup","param","showFormPopup","showDetailPopup","isOpenedInSeeMorePopup","hideSeeMorePopup","hideFormPopup","hideDetailPopup","hideAllPopup","noop","CSS_AUTO_REGEX","getStyle","el","css","getComputedStyle","invalidateSizeValue","getSize","getBoundingClientRect","offsetWidth","offsetHeight","parseFloat","ElementClass","Element","elProto","webkitMatchesSelector","msMatchesSelector","selector","querySelectorAll","stripTags","SIXTY_MINUTES","templates","milestone","classNames2","className","milestoneTitle","task","taskTitle","alldayTitle","allday","time","floor","monthMoreTitleDate","moreTitle","classNameDay","classNameDayLabel","monthMoreClose","monthGridHeader","monthGridHeaderExceed","hiddenEvents","monthGridFooter","_model","monthGridFooterExceed","_hiddenEvents","monthDayName","label","weekDayName","classDate","weekGridFooterExceed","collapseBtnTitle","timezoneDisplayLabel","displayLabel","timezoneOffset","sign","hours","timegridDisplayPrimaryTime","timegridDisplayTime","timegridNowIndicatorLabel","format","popupIsAllday","popupStateFree","popupStateBusy","titlePlaceholder","locationPlaceholder","startDatePlaceholder","endDatePlaceholder","popupSave","popupUpdate","popupEdit","popupDelete","popupDetailTitle","popupDetailDate","dayFormat","timeFormat","detailFormat","endDateFormat","popupDetailLocation","popupDetailAttendees","popupDetailState","popupDetailRecurrenceRule","popupDetailBody","createTemplateSlice","templateConfig","template","createTemplateDispatchers","setTemplate","createViewSlice","initialView","view","currentView","createViewDispatchers","changeView","nextView","setRenderDate","isSSR","navigator","useIsomorphicLayoutEffect","createStoreContext","StoreContext","StoreProvider2","store","useStore2","equalityFn","storeCtx","notify","notifyCount","getState","stateRef","selectorRef","equalityFnRef","hasErrorRef","currentSliceRef","newStateSlice","hasNewStateSlice","shouldGetNewSlice","stateBeforeSubscriptionRef","listener","nextState","nextStateSlice","shouldUpdateState","message","unsubscribe","subscribe","useInternalStore2","StoreProvider","useStore","useInternalStore","createStore","storeCreator2","listeners","partialStateCreator","previousState","_listener","currentSlice","_equalityFn","nextSlice","previousSlice","clearListeners","internal","storeCreator","dispatch","initCalendarStore","useDispatch","group","topLevelStateSelector","calendarSelector","weekViewLayoutSelector","templateSelector","viewSelector","optionsSelector","dndSelector","purify","exports","module","global2","factory","_typeof","obj2","_setPrototypeOf","_setPrototypeOf2","p3","__proto__","_isNativeReflectConstruct","construct","sham","_construct","Parent","Class","_construct2","Parent2","args2","Class2","Constructor2","instance","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","len","arr2","TypeError","seal","_ref","apply2","fun","thisValue","freeze2","seal2","construct2","Func","arrayForEach","unapply","arrayPop","pop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","RegExp","typeErrorCreate","unconstruct","func","thisArg","_len","_len2","_key2","addToSet","element","lcElement","clone2","object","newObject","property","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","getGlobal2","_createTrustedTypesPolicy","_createTrustedTypesPolicy2","trustedTypes","document2","createPolicy","suffix","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","html2","createDOMPurify","window2","DOMPurify","DOMPurify2","root","version","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element2","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","transformCaseFunc","CONFIG","formElement","isRegexOrFunction","isRegexOrFunction2","testValue","_parseConfig","_parseConfig2","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","_checkValidNamespace2","parent","tagName","namespaceURI","parentTagName","_forceRemove","_forceRemove2","node","outerHTML","_3","_removeAttribute","_removeAttribute2","attribute","getAttributeNode","_initDocument","_initDocument2","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","documentElement","createDocument","_createIterator","_createIterator2","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","_isClobbered2","elm","nodeName","textContent","_isNode","_isNode2","_executeHook","_executeHook2","entryPoint","currentNode","hook","_sanitizeElements","_sanitizeElements2","allowedTags","hasChildNodes","firstElementChild","_basicCustomElementTest","childCount","_isValidAttribute","_isValidAttribute2","lcTag","lcName","_basicCustomElementTest2","_sanitizeAttributes","_sanitizeAttributes2","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","_sanitizeShadowDOM2","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify2","browser","default","TEMP_TARGET_ATTRIBUTE","addAttributeHooks","targetValue","removeAttributeHooks","Template","as","templates2","templateFunc","htmlOrVnode","EventBusContext","EventBusProvider","useEventBus","eventBus","primaryTimezoneSelector","customOffsetCalculatorSelector","customOffsetCalculator","timezonesSelector","useTZConverter","hasCustomOffsetCalculator","usePrimaryTimezone","primaryTimezoneName","tzConverter","getNow","isWeekDayName","getWeekDayNameColor","theme","today","isPastDay","common","holiday","pastDay","saturday","getMonthDayNameColor","DayName","templateType","handleClick","fire","onClick","commonThemeSelector","monthThemeSelector","weekDayGridLeftSelector","dayGridLeft","weekTimeGridLeftSelector","timeGridLeft","monthMoreViewSelector","moreView","monthGridCellSelector","gridCell","DEFAULT_COMMON_THEME","border","DEFAULT_WEEK_THEME","borderLeft","borderTop","borderBottom","weekend","panelResizer","dayGrid","borderRight","timeGridLeftAdditionalTimezone","timeGridHalfHourLine","timeGridHourLine","nowIndicatorLabel","nowIndicatorPast","nowIndicatorBullet","nowIndicatorToday","nowIndicatorFuture","pastTime","futureTime","DEFAULT_MONTH_THEME","holidayExceptThisMonth","dayExceptThisMonth","boxShadow","headerHeight","footerHeight","moreViewTitle","createCommonTheme","commonTheme","createThemeDispatch","setTheme","setCommonTheme","setWeekTheme","weekTheme","setMonthTheme","monthTheme","createMonthTheme","createWeekTheme","themeStoreCreator","themeOptions","initThemeStore","ThemeProvider","useInternalThemeStore","useTheme","useCommonTheme","useMonthTheme","weekDayNameSelector","monthDayNameSelector","GridHeader","marginLeft","rest","DEFAULT_VISIBLE_WEEKS","CellBarType","CellBarType2","getCollisionGroup","collisionGroups","previousEventList","reverse","found","previous","getLastRowInColumn","col","row","getMatrices","eventID","nextRow","lastRowInColumn","getEventInDateRangeFilter","ownStarts","ownEnds","positionUIModels","matrices","ymdListToRender","column","dateLength","limit$1","limitRenderRange","uiModelColl","convertToUIModel","eventCollection","_isAllday","_isNotAllday","_weightTopValue","_adjustRenderRange","_getAlldayMaxTopIndexAtYMD","uiModelAlldayColl","topIndexesInDate","_adjustTimeTopIndex","vAlldayColl","sortedTimeEvents","maxIndexInYMD","timeUIModel","eventYMD","alldayMaxTopInYMD","_stackTimeFromTop","indiceInYMD","topArrayInYMD","maxTopInYMD","_addMultiDatesInfo$1","findByDateRange$1","condition","andFilters","alldayFirstMode","coll","vList","collisionGroup","_makeHourRangeFilter","hStart","hEnd","ownHourStart","ownHourEnd","ownHourStartTime","ownHourEndTime","yyyy","mm","dd","_makeGetUIModelFuncForTimeView","splitEventByDateRange","range2","getUIModelForTimeView","uiModelTimeColl","ymdSplitted","_getUIModel","uiModels","_addMultiDatesInfo","getUIModelForAlldayView","findByDateRange","panels","limit","minArr","maxArr","ratio","isBetween$1","min2","max2","EVENT_HEIGHT","TOTAL_WIDTH","forEachMatrix3d","isWithinHeight","containerHeight","eventHeight","isExceededHeight","getExceedCount","getWeekendCount","cell","getGridWidthAndLeftPercentValues","totalWidth","weekendCount","gridCellCount","isAllWeekend","widthPerDay","leftList","getWidth","isInGrid","gridDate","eventStart","eventEnd","getGridDateIndex","findIndex","getLeftAndWidth","startIndex","endIndex","getEventLeftAndWidth","gridStartIndex","gridEndIndex","getEventUIModelWithPosition","modelStart","modelEnd","getRenderedEventUIModels","eventUIModels","idEventModelMap","gridDateEventModelMap","vm","getDayGridEventModels","eventModels","flattenMatrix3d","getModels","models","flatMap","getTimeGridEventModels","eventMatrix","matrix3d","getWeekViewEvents","weekStartDate","weekEndDate","show","createDateMatrixOfMonth","renderTargetDate","shouldApplyVisibleWeeksCount","baseDate","firstDateOfMatrix","dayOfFirstDateOfMatrix","totalDatesCountOfMonth","initialDifference","totalDatesOfMatrix","totalWeeksOfMatrix","ceil","weekIndex","weekRow","dayOfWeek","currentDay","getWeekDates","nowDay","prevDateCount","weekDayList","getColumnsData","datesOfWeek","datesCount","shouldApplyNarrowWeekend","defaultWidthByColumns","currentDateAndWidth","prev","createTimeGridData","columns","baseHeight","rows","isOdd","padStart","getRelativeMousePosition","clientX","clientY","clientLeft","clientTop","getIndexFromPosition","arrayLength","maxRange","currentPosition","calculatedIndex","createGridPositionFinder","rowsCount","columnsCount","container","dayRange","narrowColumnCount","gridPositionFinder","mousePosition","containerLeft","containerTop","containerWidth","unitWidth","columnWidthList","columnLeftList","columnIndex","columnLeft","rowIndex","commonGridSelectionSelector","GridSelection$1","gridSelectionData","weekDates","startCellIndex","endCellIndex","createSortedGridSelection","initPos","currentPos","isReversed","startColumnIndex","startRowIndex","endColumnIndex","endRowIndex","calculateTimeGridSelectionByCurrentIndex","timeGridSelection","maxRowIndex","hasMultipleColumns","isStartingColumn","resultGridSelection","isSelectingMultipleColumns","timeGridSelectionHelper","sortSelection","getDateFromCollection","dateCollection","timeGridData","calculateSelection","calculateDayGridMonthSelectionByCurrentIndex","weekLength","dayGridMonthSelectionHelper","dateMatrix","calculateAlldayGridRowSelectionByCurrentIndex","alldayGridRowSelectionHelper","dayGridWeekSelectionSelector","AlldayGridSelection","calculatedGridSelection","E","g$1","displayName","isReactComponent","__f","isPureReactComponent","w","x$1","$$typeof","__u","L","__a","__R","t4","t5","__O","fallback","revealOrder","V","containerInfo","W","H","Z","Y","cancelBubble","q","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","class","multiple","selected","defaultValue","Q","un","ExceedCount","exceedCount","isClicked","onClickExceedCount","clickExceedCount","display","CollapseButton","isClickedIndex","onClickCollapseButton","GridCell$1","isLastCell","GridCells","GridCells2","clickedIndex","isClickedCount","eventTopMargin","lastCellIndex","uiModelsInCell","HorizontalEventResizeIcon","onMouseDown","LayoutContainerContext","LayoutContainerProvider","useLayoutContainer","DRAGGING_TYPE_CONSTANTS","DRAGGING_TYPE_CREATORS","resizeEvent","area","moveEvent","useCalendarById","cal","useCalendarColor","KEY","KEY2","KEYCODE","MINIMUM_DRAG_MOUSE_DISTANCE","useTransientUpdate","subscriber","subscriberRef","isKeyPressed","keyCode","isLeftClick","buttonNum","isMouseMoved","useDrag","onInit","onDragStart","onDrag","onMouseUp","onPressESCKey","dndSliceRef","dndState","isStarted","setStarted","handleMouseMoveRef","handleMouseUpRef","handleKeyDownRef","handleMouseDown","button","currentTarget","ondragstart","preventDefault","handleMouseMove","currentDraggingItemType","INIT","handleMouseUp","stopPropagation","handleKeyDown","ESCAPE","wrappedHandleMouseMove","wrappedHandleMouseUp","wrappedHandleKeyDown","passConditionalProp","getMargins","flat","vertical","horizontal","getBorderRadius","leftBorderRadius","rightBorderRadius","getEventItemStyle","isDraggingTarget","defaultItemStyle","borderRadius","overflow","lineHeight","opacity","margins","marginTop","marginRight","getContainerStyle","resizingWidth","movingLeft","baseStyle","position","getTestId","classNames$k","eventBody","eventTitle","eventDot","HorizontalEvent","isReadOnlyCalendar","layoutContainer","setIsDraggingTarget","eventContainerRef","isDraggableEvent2","startDragEvent","classList","endDragEvent","DRAGGING","onResizeStart","onMoveStart","isClick","eventRect","handleResizeStart","handleMoveStart","isDotEvent","shouldHideResizeHandler","containerStyle","eventItemStyle","useWhen","callbackRef","invoke","useCurrentPointerPositionInGrid","currentGridPos","setCurrentGridPos","gridPosition","clearCurrentGridPos","getTargetEventId","itemType","behavior","isEventDraggingType","_itemType","useDraggingEvent","isDraggingEnd","setIsDraggingEnd","isDraggingCanceled","setIsDraggingCanceled","draggingEvent","setDraggingEvent","targetEventId","hasMatchingTargetEvent","isIdle","IDLE","isCanceled","CANCELED","clearDraggingEvent","useAlldayGridRowEventMove","movingEvent","startGridXRef","targetEventStartGridX","currentMovingLeft","newColumnIndex","shouldUpdate","dateOffset","newStartDate","newEndDate","changes","MovingEventShadow$2","getEventColIndex","useAlldayGridRowEventResize","gridColWidthMap","resizingEvent","targetEventGridIndices","shouldUpdateEvent","ResizingEventShadow","useDOMNode","setNode","setNodeRef","useGridRowHeightController","maxTop","setClickedIndex","setClickedCount","requestTimeout","delay","registerCancel","loop","timestamp","elapsed","raf2","raf","useClickPrevention","onDblClick","cancelCallback","cancelScheduledWork","handleDblClick","GRID_SELECTION_TYPE_MAP","sortDates","isIncreased","useGridSelection","selectionSorter","dateGetter","gridSelectionOptions","initMousePosition","setInitMousePosition","initGridPosition","setInitGridPosition","isSelectingGridRef","gridSelectionRef","currentGridSelectionType","setGridSelectionByPosition","handleClickWithDebounce","handleDblClickPreventingClick","onMouseUpWithClick","detail","isClickEvent","popupArrowPointPosition","isCreationPopup","close","gridSelectionSelector","gridSelectionElements","clearGridSelection","rowTitleTemplate","AlldayGridRow","dayGridLeftTheme","panelContainer","setPanelContainerRef","horizontalEvents","startGridSelection","contains","OtherGridRow","rowTitleTemplate2","classNames$j","detailItem","detailItemIndent","detailItemSeparate","sectionDetail","locationIcon","repeatIcon","userIcon","stateIcon","calendarDotIcon","EventDetailSectionDetail","classNames$i","sectionHeader","EventDetailSectionHeader","SEE_MORE_POPUP_SLOT_CLASS_NAME","EVENT_FORM_POPUP_SLOT_CLASS_NAME","EVENT_DETAIL_POPUP_SLOT_CLASS_NAME","HALF_OF_POPUP_ARROW_HEIGHT","BOOLEAN_KEYS_OF_EVENT_MODEL_DATA","DetailPopupArrowDirection","DetailPopupArrowDirection2","FormPopupArrowDirection","FormPopupArrowDirection2","FloatingLayerContext","FloatingLayerProvider","containerRef","containerRefCallback","seeMorePopupSlotRef","seeMorePopupSlotRefCallback","formPopupSlotRef","formPopupSlotRefCallback","detailPopupSlotRef","detailPopupSlotRefCallback","floatingLayer","seeMorePopupSlot","formPopupSlot","detailPopupSlot","useFloatingLayer","floatingLayerType","floatingLayers","isTopOutOfLayout","layoutRect","popupRect","isLeftOutOfLayout","eventFormPopupParamSelector","Form","eventDetailPopupParamSelector","Detail","seeMorePopupParamSelector","SeeMore","classNames$h","popupContainer","detailContainer","topLine","sectionButton","editIcon","deleteIcon","editButton","deleteButton","verticalLine","calculatePopupPosition$1","scrollY","scrollX","calculatePopupArrowPosition","popupLeft","isOutOfLayout","direction","right","EventDetailPopup","popupParams","popupContainerRef","setStyle","arrowTop","setArrowTop","arrowDirection","setArrowDirection","popupArrowClassName","arrowTopPosition","onClickEditButton","eventState","onClickDeleteButton","role","classNames$g","dropdownMenu","dropdownMenuItem","dotIcon","DropdownMenuItem","CalendarDropdownMenu","setOpened","onChangeIndex","handleDropdownMenuItemClick","PopupSection","classNames","useDropdownState","isOpened","toggleDropdown","FormStateActionType","FormStateActionType2","defaultFormState","formStateReducer","action","useFormState","initCalendarId","classNames$f","popupSection","popupSectionItem","CalendarSelector","selectedCalendarId","formStateDispatch","selectedCalendar","changeIndex","setCalendarId","open","classNames$e","closeButton","closeIcon","ClosePopupButton","onClickHandler","classNames$d","confirmButton","ConfirmPopupButton","useStringOnlyTemplate","classNames$c","datePickerContainer","datePicker","dateIcon","dateDash","DateSelector","DateSelector2","startPickerContainerRef","startPickerInputRef","endPickerContainerRef","endPickerInputRef","toggleAllday","setAllday","createRangePicker","startpicker","input","endpicker","timePicker","showMeridiem","placeholder","EVENT_STATES","classNames$b","icon","StateDropdownMenu","setEventState","onClickDropdown","classNames$a","arrowIcon","EventStateSelector","handleChangeEventState","classNames$9","LocationInputBox","handleLocationChange","setLocation","onChange","classNames$8","privateButton","titleIcon","TitleInputBox","togglePrivate","setPrivate","handleInputChange","setTitle","classNames$7","formContainer","popupArrowBorder","popupArrowFill","calculatePopupPosition","bottom","isBooleanKey","getChanges","eventObject","eventObjectKey","EventFormPopup","formState","datePickerRef","arrowLeft","setArrowLeft","arrowLeftPosition","onSubmit","_a2","formData","FormData","getStartDate","getEndDate","shownPopupParamSelector","PopupOverlay","shownPopupParam","isPopupShown","ev","classNames$6","seeMore","header","list","SeeMoreEventsPopup","popupPosition","moreEventsPopupContainerRef","isHidden","marginBottom","padding","moreViewListStyle","getLayoutStylesFromInfo","styles","Layout","autoAdjustPanels","layoutClassName","onResizeWindow","childArray","lastChild","getDefaultStyle","PanelResizer","defaultGuideStyle","guideStyle","setGuideStyle","startPos","pageX","pageY","getPanelSide","side","maxExpandableSide","getPanelStyle","initialHeight","initialWidth","overflowX","overflowY","maxExpandableWidth","maxExpandableHeight","minHeight","maxHeight","minWidth","maxWidth","Panel","Panel2","resizerWidth","resizerHeight","resizable","dayGridRowHeight","isResizable","addTimeGridPrefix","timeFormats","classNames$5","travelTime","resizeHandleX","getMarginLeft","getContainerWidth","getStyles","hasNextStartTime","travelBorderColor","defaultMarginBottom","zIndex","goingDurationStyle","modelDurationStyle","comingDurationStyle","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","isDraggableEvent","TimeEvent","nextStartTime","isResizingGuide","isGuide","isDraggable","shouldShowResizeHandle","GridSelection","GridSelectionByColumn","timeGridRows","gridSelectionProps","startRowTop","startRowStartTime","endRowTop","endRowHeight","endRowEndTime","gridSelectionHeight","useTimeGridEventResize","totalUIModels","resizingStartUIModel","guideUIModel","setGuideUIModel","clearStates","baseResizingInfo","resizeTargetUIModelColumns","findRowIndexOf","targetColumnIndex","rowStartTZDate","rowEndTZDate","eventStartDateColumnIndex","resizingStartEventUIModel","renderStart","eventStartDateRowIndex","eventEndDateColumnIndex","resizingEndEventUIModel","renderEnd","eventEndDateRowIndex","canCalculateGuideUIModel","oneRowHeight","clonedUIModel","newHeight","newGoingDurationHeight","newComingDurationHeight","targetEndDate","minEndDate","ResizingGuideByColumn","classNames$4","backgrounds","VerticalEvents","minEventHeight","backgroundColorSelector$1","defaultBackgroundColor","todayBackgroundColor","weekendBackgroundColor","getBackgroundColor","columnDate","isTodayColumn","isWeekendColumn","Column","Column2","columnWidth","isLastColumn","backgroundColorTheme","uiModelsByColumn","gridLineBorderSelector","halfHourLineBorder","hourLineBorder","GridLines","GridLines2","isUpperLine","THIRTY_MINUTES","getCurrentIndexByTime","getMovingEventPosition","columnDiff","rowDiff","timeGridDataRows","currentDate","rowHeight","millisecondsDiff","goingStart","comingEnd","nextStart","nextEnd","isStartAtPrevDate","isEndAtNextDate","indexDiff","initXSelector","initYSelector","useTimeGridEventMove","initGridPosRef","gridDiff","startDateTime","clearState","clonedEvent","nextEndTime","MovingEventShadow$1","TEST_IDS","NOW_INDICATOR","NOW_INDICATOR_LABEL","classNames$3","line","marker","nowIndicatorTheme","pastBorder","todayBorder","futureBorder","bulletBackgroundColor","NowIndicator","columnCount","indicatorRef","leftLine","rightLine","scrollToNow","scrollArea","querySelector","scrollAreaOffsetHeight","offsetTop","targetOffsetTop","newScrollTop","scrollTo","scrollTop","off","classNames$2","dayDifference","NowIndicatorLabel","unit","zonedNow","dateDifference","monthVisibleEventCountSelector","showNowIndicatorOptionSelector","showTimezoneCollapseButtonOptionSelector","timezonesCollapsedOptionSelector","classNames$1","timeColumn","hourRows","timeLabel","hidden","backgroundColorSelector","primaryTimezoneBackgroundColor","subTimezoneBackgroundColor","timeColorSelector","pastTimeColor","futureTimeColor","HourRows","rowsInfo","isPrimary","nowIndicatorState","diffFromPrimaryTimezone","isPast","TimeColumn","TimeColumn2","timezones","rowsByHour","hourRowsPropsMapper","shouldHideRow","rowTop","indicatorTop","isFirst","isLast","primaryTimezone","otherTimezones","hourRowsWidth","primaryTimezoneHourRowsProps","otherTimezoneHourRowsProps","primaryTimezoneOffset","currentTimezoneOffset","getTopPercentByTime","topPercent","getTopHeightByTime","minTime","maxTime","MIN_HEIGHT_PERCENT","isBetween","startColumnTime","endColumnTime","setInnerHeights","setCroppedEdges","getDuplicateLeft","baseLeft","prevEvent","leftPercent","leftPx","widthPercent","widthPx","getDuplicateWidth","baseWidth","setDimension","dimension","getRenderInfoOptions","setRenderInfo","renderInfoOptions","setDuplicateEvents","eventObjects","targetUIModel","mainEvent","duplicateEventUIModels","isSelectedGroup","setRenderInfoOfUIModels","collapseDuplicateEventsOptions","expandedEvents","maxRowLength","useInterval","savedCallback","tick","intervalDelay","setInterval","clearInterval","useIsMounted","isMountedRef","timegrid","TimeGrid","isMounted","timeGridLeftWidth","setNowIndicatorState","lastColumnIndex","currentDateData","currentDateIndexInColumns","currentDateIndex","columnsContainer","setColumnsContainer","updateTimeGridIndicator","TimezoneCollapseButton","isCollapsed","iconClassName","TimezoneLabel","tooltip","useTimezoneCollapseOptions","TimezoneLabels","timezoneLabelProps","restTimezones","subTimezones","timezonesCount","timezoneLabelWidth","subTimezone","VIEW_TYPE","MONTH","WEEK","DAY","DEFAULT_TASK_PANEL","DEFAULT_EVENT_PANEL","getActivePanels","activePanels","useEventsWithTimezone","isSystemUsingDST","timedEvents","totalEvents","eventModel","clonedEventModel","zonedStart","zonedEnd","useCalendarData","filters","filteredEvents","filteredEventsWithTimezone","isTimeGridDraggingType","useTimeGridScrollSync","rowCount","scrollHeight","scrollBoundary","layoutHeight","scrollDiff","timegridHeightSelector","useTimezoneLabelsTop","timePanel","timeGridPanelHeight","stickyTop","setStickyTop","useDayViewState","gridRowLayout","Day$1","gridHeaderMarginLeft","setTimePanelRef","dayGridEvents","getFilterRange","gridRows","_b2","rowType","autoSize","AccumulatedGridSelection","gridSelectionDataByRow","MoreEventsButton","onClickButton","exceedButtonTemplate","getDateColor","thisMonth","isSameMonth2","useCellHeaderTheme","CellHeader","todayYmd","templateParam","hiddenEventCount","isOtherMonth","gridCellDateStyle","monthGridTemplate","getSeeMorePopupSize","grid","eventLength","layerSize","moreViewWidth","moreViewHeight","MAX_DISPLAY_EVENT_COUNT","getSeeMorePopupPosition","popupSize","appContainerSize","cellRect","popupWidth","popupHeight","containerRight","containerBottom","isLeftOutOfContainer","isRightOutOfContainer","isUpperOutOfContainer","isLowerOutOfContainer","getSeeMorePopupRect","containerRect","usePopupPosition","parentContainer","setPopupPosition","rect","weekendBackgroundColorSelector","GridCell","contentAreaHeight","onOpenSeeMorePopup","footer","GridRow","GridRow2","rowInfo","GridSelectionByRow","MonthEvents","MonthEvents2","dayEvents","useDayGridMonthEventMove","movingEventUIModel","shadowEventUIModel","preStartDate","eventDuration","timeOffsetPerDay","MovingEventShadow","getRowPosOfUIModel","dateRow","useDayGridMonthEventResize","renderedUIModels","guideProps","setGuideProps","resizeTargetUIModelRows","eventStartUIModelPos","eventEndUIModelPos","canCalculateProps","ResizingGuideByRow","resizingGuideProps","TOTAL_PERCENT_HEIGHT","useCellContentAreaHeight","themeHeaderHeight","themeFooterHeight","cellContentAreaHeight","setCellContentAreaHeight","baseContentAreaHeight","visibleEventCountHeight","DayGridMonth","gridContainer","setGridContainerRef","renderedEventUIModels","getMonthDayNames","dayIndices","monthDayNames","dayNameInfo","Month$1","cellStyleInfo","useWeekViewState","Week$1","eventByPanel","hasTimePanel","views","Main","CurrentViewComponent","r","a","f","shallow","pretty","S2","O2","renderRootComponent","shallowHighOrder","F2","T2","_dirty","_nextState","L2","E2","D2","N2","P2","R2","U2","W2","sortAttributes","q2","z2","I2","allAttributes","V2","attributeHook","Z2","B2","G2","voidElements","J2","K2","Q2","X2","Y2","ee","te","re","shallowRender","forEachOwnProperties$2","forEachOwnProperties_1","forEachOwnProperties$1","imagePing$1","url","trackingInfo","trackingElement","queryString","src","imagePing_1","isUndefined$1","imagePing","ms7days","isExpired","sendHostname","appName","trackingId","hostname","hitType","eventCategory","applicationKeyForStorage","localStorage","getItem","tui","setItem","readyState","tid","dp","dh","ec","sendHostname_1","CalendarContainer","GA_TRACKING_ID","extend$1","objects","hasOwnProp","extend_1","isNull$1","isNull_1","isUndefined","isNull","isExisty$1","isExisty_1","isArray$2","isArray_1","isFunction$1","isFunction_1","forEachArray$1","forEachArray_1","isArray$1","forEachArray","forEachOwnProperties","forEach$1","forEach_1","extend","isExisty","isString","isObject","isFunction","R_EVENTNAME_SPLIT","CustomEvents","contexts","mixin","_getHandlerItem","handler","_safeEvent","eventName","byName","_safeContext","_indexOfContext","ctx","_memorizeContext","_forgetContext","contextIndex","_bindEvent","self2","once","onceHandler","_spliceMatches","_matchHandler","needRemove","_matchContext","_matchHandlerAndContext","matchHandler","matchContext","_offByEventName","andByHandler","handlerItems","_offByHandler","_offByObject","matchFunc","hasListener","getListenerLength","customEvents","EventBusImpl","CalendarCore","renderRange","calculateRenderRange","getStoreState","getStoreDispatchers","dispatchers","destroy","calculateMonthRenderDate","newRenderDate","calculateWeekRenderDate","calculateDayRenderDate","move","calculatedRenderDate","createEvents2","getEventModel","eventCalendarId","getEvent","updateEvent2","deleteEvent2","getComponent","renderToString","clearEvents2","scrollBehavior","newRenderRange","dateToChange","viewName","getElement","getOptions","restOptions","getDateRangeStart","getDateRangeEnd","getViewName","openFormPopup","clearGridSelections","isValidViewType","Calendar","Day","Month","hideMoreView","Week"],"sources":["C:/schedule/config/front/node_modules/@toast-ui/calendar/dist/toastui-calendar.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a2, b2) => {\n  for (var prop in b2 || (b2 = {}))\n    if (__hasOwnProp.call(b2, prop))\n      __defNormalProp(a2, prop, b2[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b2)) {\n      if (__propIsEnum.call(b2, prop))\n        __defNormalProp(a2, prop, b2[prop]);\n    }\n  return a2;\n};\nvar __spreadProps = (a2, b2) => __defProps(a2, __getOwnPropDescs(b2));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n/*!\n * TOAST UI Calendar 2nd Edition\n * @version 2.1.3 | Tue Aug 16 2022\n * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\nimport DatePicker from \"tui-date-picker\";\nvar n$2, l$3, u$3, t$2, o$3, r$3, f$3 = {}, e$1 = [], c$3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\nfunction s$3(n2, l2) {\n  for (var u2 in l2)\n    n2[u2] = l2[u2];\n  return n2;\n}\nfunction a$3(n2) {\n  var l2 = n2.parentNode;\n  l2 && l2.removeChild(n2);\n}\nfunction h$3(l2, u2, i2) {\n  var t2, o2, r2, f2 = {};\n  for (r2 in u2)\n    r2 == \"key\" ? t2 = u2[r2] : r2 == \"ref\" ? o2 = u2[r2] : f2[r2] = u2[r2];\n  if (arguments.length > 2 && (f2.children = arguments.length > 3 ? n$2.call(arguments, 2) : i2), typeof l2 == \"function\" && l2.defaultProps != null)\n    for (r2 in l2.defaultProps)\n      f2[r2] === void 0 && (f2[r2] = l2.defaultProps[r2]);\n  return v$3(l2, f2, t2, o2, null);\n}\nfunction v$3(n2, i2, t2, o2, r2) {\n  var f2 = { type: n2, props: i2, key: t2, ref: o2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: r2 == null ? ++u$3 : r2 };\n  return r2 == null && l$3.vnode != null && l$3.vnode(f2), f2;\n}\nfunction p$3(n2) {\n  return n2.children;\n}\nfunction d$3(n2, l2) {\n  this.props = n2, this.context = l2;\n}\nfunction _$3(n2, l2) {\n  if (l2 == null)\n    return n2.__ ? _$3(n2.__, n2.__.__k.indexOf(n2) + 1) : null;\n  for (var u2; l2 < n2.__k.length; l2++)\n    if ((u2 = n2.__k[l2]) != null && u2.__e != null)\n      return u2.__e;\n  return typeof n2.type == \"function\" ? _$3(n2) : null;\n}\nfunction k$2(n2) {\n  var l2, u2;\n  if ((n2 = n2.__) != null && n2.__c != null) {\n    for (n2.__e = n2.__c.base = null, l2 = 0; l2 < n2.__k.length; l2++)\n      if ((u2 = n2.__k[l2]) != null && u2.__e != null) {\n        n2.__e = n2.__c.base = u2.__e;\n        break;\n      }\n    return k$2(n2);\n  }\n}\nfunction b$2(n2) {\n  (!n2.__d && (n2.__d = true) && t$2.push(n2) && !g$4.__r++ || o$3 !== l$3.debounceRendering) && ((o$3 = l$3.debounceRendering) || setTimeout)(g$4);\n}\nfunction g$4() {\n  for (var n2; g$4.__r = t$2.length; )\n    n2 = t$2.sort(function(n3, l2) {\n      return n3.__v.__b - l2.__v.__b;\n    }), t$2 = [], n2.some(function(n3) {\n      var l2, u2, i2, t2, o2, r2;\n      n3.__d && (o2 = (t2 = (l2 = n3).__v).__e, (r2 = l2.__P) && (u2 = [], (i2 = s$3({}, t2)).__v = t2.__v + 1, j$3(r2, t2, i2, l2.__n, r2.ownerSVGElement !== void 0, t2.__h != null ? [o2] : null, u2, o2 == null ? _$3(t2) : o2, t2.__h), z$2(u2, t2), t2.__e != o2 && k$2(t2)));\n    });\n}\nfunction w$3(n2, l2, u2, i2, t2, o2, r2, c2, s2, a2) {\n  var h2, y2, d2, k2, b2, g2, w2, x2 = i2 && i2.__k || e$1, C2 = x2.length;\n  for (u2.__k = [], h2 = 0; h2 < l2.length; h2++)\n    if ((k2 = u2.__k[h2] = (k2 = l2[h2]) == null || typeof k2 == \"boolean\" ? null : typeof k2 == \"string\" || typeof k2 == \"number\" || typeof k2 == \"bigint\" ? v$3(null, k2, null, null, k2) : Array.isArray(k2) ? v$3(p$3, { children: k2 }, null, null, null) : k2.__b > 0 ? v$3(k2.type, k2.props, k2.key, null, k2.__v) : k2) != null) {\n      if (k2.__ = u2, k2.__b = u2.__b + 1, (d2 = x2[h2]) === null || d2 && k2.key == d2.key && k2.type === d2.type)\n        x2[h2] = void 0;\n      else\n        for (y2 = 0; y2 < C2; y2++) {\n          if ((d2 = x2[y2]) && k2.key == d2.key && k2.type === d2.type) {\n            x2[y2] = void 0;\n            break;\n          }\n          d2 = null;\n        }\n      j$3(n2, k2, d2 = d2 || f$3, t2, o2, r2, c2, s2, a2), b2 = k2.__e, (y2 = k2.ref) && d2.ref != y2 && (w2 || (w2 = []), d2.ref && w2.push(d2.ref, null, k2), w2.push(y2, k2.__c || b2, k2)), b2 != null ? (g2 == null && (g2 = b2), typeof k2.type == \"function\" && k2.__k === d2.__k ? k2.__d = s2 = m$2(k2, s2, n2) : s2 = A$2(n2, k2, d2, x2, b2, s2), typeof u2.type == \"function\" && (u2.__d = s2)) : s2 && d2.__e == s2 && s2.parentNode != n2 && (s2 = _$3(d2));\n    }\n  for (u2.__e = g2, h2 = C2; h2--; )\n    x2[h2] != null && (typeof u2.type == \"function\" && x2[h2].__e != null && x2[h2].__e == u2.__d && (u2.__d = _$3(i2, h2 + 1)), N(x2[h2], x2[h2]));\n  if (w2)\n    for (h2 = 0; h2 < w2.length; h2++)\n      M$2(w2[h2], w2[++h2], w2[++h2]);\n}\nfunction m$2(n2, l2, u2) {\n  for (var i2, t2 = n2.__k, o2 = 0; t2 && o2 < t2.length; o2++)\n    (i2 = t2[o2]) && (i2.__ = n2, l2 = typeof i2.type == \"function\" ? m$2(i2, l2, u2) : A$2(u2, i2, i2, t2, i2.__e, l2));\n  return l2;\n}\nfunction x$3(n2, l2) {\n  return l2 = l2 || [], n2 == null || typeof n2 == \"boolean\" || (Array.isArray(n2) ? n2.some(function(n3) {\n    x$3(n3, l2);\n  }) : l2.push(n2)), l2;\n}\nfunction A$2(n2, l2, u2, i2, t2, o2) {\n  var r2, f2, e2;\n  if (l2.__d !== void 0)\n    r2 = l2.__d, l2.__d = void 0;\n  else if (u2 == null || t2 != o2 || t2.parentNode == null)\n    n:\n      if (o2 == null || o2.parentNode !== n2)\n        n2.appendChild(t2), r2 = null;\n      else {\n        for (f2 = o2, e2 = 0; (f2 = f2.nextSibling) && e2 < i2.length; e2 += 2)\n          if (f2 == t2)\n            break n;\n        n2.insertBefore(t2, o2), r2 = o2;\n      }\n  return r2 !== void 0 ? r2 : t2.nextSibling;\n}\nfunction C$1(n2, l2, u2, i2, t2) {\n  var o2;\n  for (o2 in u2)\n    o2 === \"children\" || o2 === \"key\" || o2 in l2 || H$2(n2, o2, null, u2[o2], i2);\n  for (o2 in l2)\n    t2 && typeof l2[o2] != \"function\" || o2 === \"children\" || o2 === \"key\" || o2 === \"value\" || o2 === \"checked\" || u2[o2] === l2[o2] || H$2(n2, o2, l2[o2], u2[o2], i2);\n}\nfunction $$1(n2, l2, u2) {\n  l2[0] === \"-\" ? n2.setProperty(l2, u2) : n2[l2] = u2 == null ? \"\" : typeof u2 != \"number\" || c$3.test(l2) ? u2 : u2 + \"px\";\n}\nfunction H$2(n2, l2, u2, i2, t2) {\n  var o2;\n  n:\n    if (l2 === \"style\")\n      if (typeof u2 == \"string\")\n        n2.style.cssText = u2;\n      else {\n        if (typeof i2 == \"string\" && (n2.style.cssText = i2 = \"\"), i2)\n          for (l2 in i2)\n            u2 && l2 in u2 || $$1(n2.style, l2, \"\");\n        if (u2)\n          for (l2 in u2)\n            i2 && u2[l2] === i2[l2] || $$1(n2.style, l2, u2[l2]);\n      }\n    else if (l2[0] === \"o\" && l2[1] === \"n\")\n      o2 = l2 !== (l2 = l2.replace(/Capture$/, \"\")), l2 = l2.toLowerCase() in n2 ? l2.toLowerCase().slice(2) : l2.slice(2), n2.l || (n2.l = {}), n2.l[l2 + o2] = u2, u2 ? i2 || n2.addEventListener(l2, o2 ? T$2 : I$2, o2) : n2.removeEventListener(l2, o2 ? T$2 : I$2, o2);\n    else if (l2 !== \"dangerouslySetInnerHTML\") {\n      if (t2)\n        l2 = l2.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n      else if (l2 !== \"href\" && l2 !== \"list\" && l2 !== \"form\" && l2 !== \"tabIndex\" && l2 !== \"download\" && l2 in n2)\n        try {\n          n2[l2] = u2 == null ? \"\" : u2;\n          break n;\n        } catch (n3) {\n        }\n      typeof u2 == \"function\" || (u2 != null && (u2 !== false || l2[0] === \"a\" && l2[1] === \"r\") ? n2.setAttribute(l2, u2) : n2.removeAttribute(l2));\n    }\n}\nfunction I$2(n2) {\n  this.l[n2.type + false](l$3.event ? l$3.event(n2) : n2);\n}\nfunction T$2(n2) {\n  this.l[n2.type + true](l$3.event ? l$3.event(n2) : n2);\n}\nfunction j$3(n2, u2, i2, t2, o2, r2, f2, e2, c2) {\n  var a2, h2, v2, y2, _2, k2, b2, g2, m2, x2, A2, C2, $2, H2 = u2.type;\n  if (u2.constructor !== void 0)\n    return null;\n  i2.__h != null && (c2 = i2.__h, e2 = u2.__e = i2.__e, u2.__h = null, r2 = [e2]), (a2 = l$3.__b) && a2(u2);\n  try {\n    n:\n      if (typeof H2 == \"function\") {\n        if (g2 = u2.props, m2 = (a2 = H2.contextType) && t2[a2.__c], x2 = a2 ? m2 ? m2.props.value : a2.__ : t2, i2.__c ? b2 = (h2 = u2.__c = i2.__c).__ = h2.__E : (\"prototype\" in H2 && H2.prototype.render ? u2.__c = h2 = new H2(g2, x2) : (u2.__c = h2 = new d$3(g2, x2), h2.constructor = H2, h2.render = O$2), m2 && m2.sub(h2), h2.props = g2, h2.state || (h2.state = {}), h2.context = x2, h2.__n = t2, v2 = h2.__d = true, h2.__h = []), h2.__s == null && (h2.__s = h2.state), H2.getDerivedStateFromProps != null && (h2.__s == h2.state && (h2.__s = s$3({}, h2.__s)), s$3(h2.__s, H2.getDerivedStateFromProps(g2, h2.__s))), y2 = h2.props, _2 = h2.state, v2)\n          H2.getDerivedStateFromProps == null && h2.componentWillMount != null && h2.componentWillMount(), h2.componentDidMount != null && h2.__h.push(h2.componentDidMount);\n        else {\n          if (H2.getDerivedStateFromProps == null && g2 !== y2 && h2.componentWillReceiveProps != null && h2.componentWillReceiveProps(g2, x2), !h2.__e && h2.shouldComponentUpdate != null && h2.shouldComponentUpdate(g2, h2.__s, x2) === false || u2.__v === i2.__v) {\n            h2.props = g2, h2.state = h2.__s, u2.__v !== i2.__v && (h2.__d = false), h2.__v = u2, u2.__e = i2.__e, u2.__k = i2.__k, u2.__k.forEach(function(n3) {\n              n3 && (n3.__ = u2);\n            }), h2.__h.length && f2.push(h2);\n            break n;\n          }\n          h2.componentWillUpdate != null && h2.componentWillUpdate(g2, h2.__s, x2), h2.componentDidUpdate != null && h2.__h.push(function() {\n            h2.componentDidUpdate(y2, _2, k2);\n          });\n        }\n        if (h2.context = x2, h2.props = g2, h2.__v = u2, h2.__P = n2, A2 = l$3.__r, C2 = 0, \"prototype\" in H2 && H2.prototype.render)\n          h2.state = h2.__s, h2.__d = false, A2 && A2(u2), a2 = h2.render(h2.props, h2.state, h2.context);\n        else\n          do {\n            h2.__d = false, A2 && A2(u2), a2 = h2.render(h2.props, h2.state, h2.context), h2.state = h2.__s;\n          } while (h2.__d && ++C2 < 25);\n        h2.state = h2.__s, h2.getChildContext != null && (t2 = s$3(s$3({}, t2), h2.getChildContext())), v2 || h2.getSnapshotBeforeUpdate == null || (k2 = h2.getSnapshotBeforeUpdate(y2, _2)), $2 = a2 != null && a2.type === p$3 && a2.key == null ? a2.props.children : a2, w$3(n2, Array.isArray($2) ? $2 : [$2], u2, i2, t2, o2, r2, f2, e2, c2), h2.base = u2.__e, u2.__h = null, h2.__h.length && f2.push(h2), b2 && (h2.__E = h2.__ = null), h2.__e = false;\n      } else\n        r2 == null && u2.__v === i2.__v ? (u2.__k = i2.__k, u2.__e = i2.__e) : u2.__e = L$2(i2.__e, u2, i2, t2, o2, r2, f2, c2);\n    (a2 = l$3.diffed) && a2(u2);\n  } catch (n3) {\n    u2.__v = null, (c2 || r2 != null) && (u2.__e = e2, u2.__h = !!c2, r2[r2.indexOf(e2)] = null), l$3.__e(n3, u2, i2);\n  }\n}\nfunction z$2(n2, u2) {\n  l$3.__c && l$3.__c(u2, n2), n2.some(function(u3) {\n    try {\n      n2 = u3.__h, u3.__h = [], n2.some(function(n3) {\n        n3.call(u3);\n      });\n    } catch (n3) {\n      l$3.__e(n3, u3.__v);\n    }\n  });\n}\nfunction L$2(l2, u2, i2, t2, o2, r2, e2, c2) {\n  var s2, h2, v2, y2 = i2.props, p2 = u2.props, d2 = u2.type, k2 = 0;\n  if (d2 === \"svg\" && (o2 = true), r2 != null) {\n    for (; k2 < r2.length; k2++)\n      if ((s2 = r2[k2]) && \"setAttribute\" in s2 == !!d2 && (d2 ? s2.localName === d2 : s2.nodeType === 3)) {\n        l2 = s2, r2[k2] = null;\n        break;\n      }\n  }\n  if (l2 == null) {\n    if (d2 === null)\n      return document.createTextNode(p2);\n    l2 = o2 ? document.createElementNS(\"http://www.w3.org/2000/svg\", d2) : document.createElement(d2, p2.is && p2), r2 = null, c2 = false;\n  }\n  if (d2 === null)\n    y2 === p2 || c2 && l2.data === p2 || (l2.data = p2);\n  else {\n    if (r2 = r2 && n$2.call(l2.childNodes), h2 = (y2 = i2.props || f$3).dangerouslySetInnerHTML, v2 = p2.dangerouslySetInnerHTML, !c2) {\n      if (r2 != null)\n        for (y2 = {}, k2 = 0; k2 < l2.attributes.length; k2++)\n          y2[l2.attributes[k2].name] = l2.attributes[k2].value;\n      (v2 || h2) && (v2 && (h2 && v2.__html == h2.__html || v2.__html === l2.innerHTML) || (l2.innerHTML = v2 && v2.__html || \"\"));\n    }\n    if (C$1(l2, p2, y2, o2, c2), v2)\n      u2.__k = [];\n    else if (k2 = u2.props.children, w$3(l2, Array.isArray(k2) ? k2 : [k2], u2, i2, t2, o2 && d2 !== \"foreignObject\", r2, e2, r2 ? r2[0] : i2.__k && _$3(i2, 0), c2), r2 != null)\n      for (k2 = r2.length; k2--; )\n        r2[k2] != null && a$3(r2[k2]);\n    c2 || (\"value\" in p2 && (k2 = p2.value) !== void 0 && (k2 !== l2.value || d2 === \"progress\" && !k2 || d2 === \"option\" && k2 !== y2.value) && H$2(l2, \"value\", k2, y2.value, false), \"checked\" in p2 && (k2 = p2.checked) !== void 0 && k2 !== l2.checked && H$2(l2, \"checked\", k2, y2.checked, false));\n  }\n  return l2;\n}\nfunction M$2(n2, u2, i2) {\n  try {\n    typeof n2 == \"function\" ? n2(u2) : n2.current = u2;\n  } catch (n3) {\n    l$3.__e(n3, i2);\n  }\n}\nfunction N(n2, u2, i2) {\n  var t2, o2;\n  if (l$3.unmount && l$3.unmount(n2), (t2 = n2.ref) && (t2.current && t2.current !== n2.__e || M$2(t2, null, u2)), (t2 = n2.__c) != null) {\n    if (t2.componentWillUnmount)\n      try {\n        t2.componentWillUnmount();\n      } catch (n3) {\n        l$3.__e(n3, u2);\n      }\n    t2.base = t2.__P = null;\n  }\n  if (t2 = n2.__k)\n    for (o2 = 0; o2 < t2.length; o2++)\n      t2[o2] && N(t2[o2], u2, typeof n2.type != \"function\");\n  i2 || n2.__e == null || a$3(n2.__e), n2.__e = n2.__d = void 0;\n}\nfunction O$2(n2, l2, u2) {\n  return this.constructor(n2, u2);\n}\nfunction P$2(u2, i2, t2) {\n  var o2, r2, e2;\n  l$3.__ && l$3.__(u2, i2), r2 = (o2 = typeof t2 == \"function\") ? null : t2 && t2.__k || i2.__k, e2 = [], j$3(i2, u2 = (!o2 && t2 || i2).__k = h$3(p$3, null, [u2]), r2 || f$3, f$3, i2.ownerSVGElement !== void 0, !o2 && t2 ? [t2] : r2 ? null : i2.firstChild ? n$2.call(i2.childNodes) : null, e2, !o2 && t2 ? t2 : r2 ? r2.__e : i2.firstChild, o2), z$2(e2, u2);\n}\nfunction q$3(l2, u2, i2) {\n  var t2, o2, r2, f2 = s$3({}, l2.props);\n  for (r2 in u2)\n    r2 == \"key\" ? t2 = u2[r2] : r2 == \"ref\" ? o2 = u2[r2] : f2[r2] = u2[r2];\n  return arguments.length > 2 && (f2.children = arguments.length > 3 ? n$2.call(arguments, 2) : i2), v$3(l2.type, f2, t2 || l2.key, o2 || l2.ref, null);\n}\nfunction B$1(n2, l2) {\n  var u2 = { __c: l2 = \"__cC\" + r$3++, __: n2, Consumer: function(n3, l3) {\n    return n3.children(l3);\n  }, Provider: function(n3) {\n    var u3, i2;\n    return this.getChildContext || (u3 = [], (i2 = {})[l2] = this, this.getChildContext = function() {\n      return i2;\n    }, this.shouldComponentUpdate = function(n4) {\n      this.props.value !== n4.value && u3.some(b$2);\n    }, this.sub = function(n4) {\n      u3.push(n4);\n      var l3 = n4.componentWillUnmount;\n      n4.componentWillUnmount = function() {\n        u3.splice(u3.indexOf(n4), 1), l3 && l3.call(n4);\n      };\n    }), n3.children;\n  } };\n  return u2.Provider.__ = u2.Consumer.contextType = u2;\n}\nn$2 = e$1.slice, l$3 = { __e: function(n2, l2, u2, i2) {\n  for (var t2, o2, r2; l2 = l2.__; )\n    if ((t2 = l2.__c) && !t2.__)\n      try {\n        if ((o2 = t2.constructor) && o2.getDerivedStateFromError != null && (t2.setState(o2.getDerivedStateFromError(n2)), r2 = t2.__d), t2.componentDidCatch != null && (t2.componentDidCatch(n2, i2 || {}), r2 = t2.__d), r2)\n          return t2.__E = t2;\n      } catch (l3) {\n        n2 = l3;\n      }\n  throw n2;\n} }, u$3 = 0, d$3.prototype.setState = function(n2, l2) {\n  var u2;\n  u2 = this.__s != null && this.__s !== this.state ? this.__s : this.__s = s$3({}, this.state), typeof n2 == \"function\" && (n2 = n2(s$3({}, u2), this.props)), n2 && s$3(u2, n2), n2 != null && this.__v && (l2 && this.__h.push(l2), b$2(this));\n}, d$3.prototype.forceUpdate = function(n2) {\n  this.__v && (this.__e = true, n2 && this.__h.push(n2), b$2(this));\n}, d$3.prototype.render = p$3, t$2 = [], g$4.__r = 0, r$3 = 0;\nvar t$1, u$2, r$2, o$2, i$2 = 0, c$2 = [], f$2 = [], e = l$3.__b, a$2 = l$3.__r, v$2 = l$3.diffed, l$2 = l$3.__c, m$1 = l$3.unmount;\nfunction p$2(t2, r2) {\n  l$3.__h && l$3.__h(u$2, t2, i$2 || r2), i$2 = 0;\n  var o2 = u$2.__H || (u$2.__H = { __: [], __h: [] });\n  return t2 >= o2.__.length && o2.__.push({ __V: f$2 }), o2.__[t2];\n}\nfunction y$1(n2) {\n  return i$2 = 1, d$2(z$1, n2);\n}\nfunction d$2(n2, r2, o2) {\n  var i2 = p$2(t$1++, 2);\n  return i2.t = n2, i2.__c || (i2.__ = [o2 ? o2(r2) : z$1(void 0, r2), function(n3) {\n    var t2 = i2.t(i2.__[0], n3);\n    i2.__[0] !== t2 && (i2.__ = [t2, i2.__[1]], i2.__c.setState({}));\n  }], i2.__c = u$2), i2.__;\n}\nfunction _$2(r2, o2) {\n  var i2 = p$2(t$1++, 3);\n  !l$3.__s && w$2(i2.__H, o2) && (i2.__ = r2, i2.u = o2, u$2.__H.__h.push(i2));\n}\nfunction h$2(r2, o2) {\n  var i2 = p$2(t$1++, 4);\n  !l$3.__s && w$2(i2.__H, o2) && (i2.__ = r2, i2.u = o2, u$2.__h.push(i2));\n}\nfunction s$2(n2) {\n  return i$2 = 5, F$2(function() {\n    return { current: n2 };\n  }, []);\n}\nfunction F$2(n2, u2) {\n  var r2 = p$2(t$1++, 7);\n  return w$2(r2.__H, u2) ? (r2.__V = n2(), r2.u = u2, r2.__h = n2, r2.__V) : r2.__;\n}\nfunction T$1(n2, t2) {\n  return i$2 = 8, F$2(function() {\n    return n2;\n  }, t2);\n}\nfunction q$2(n2) {\n  var r2 = u$2.context[n2.__c], o2 = p$2(t$1++, 9);\n  return o2.c = n2, r2 ? (o2.__ == null && (o2.__ = true, r2.sub(u$2)), r2.props.value) : n2.__;\n}\nfunction b$1() {\n  for (var t2; t2 = c$2.shift(); )\n    if (t2.__P)\n      try {\n        t2.__H.__h.forEach(j$2), t2.__H.__h.forEach(k$1), t2.__H.__h = [];\n      } catch (u2) {\n        t2.__H.__h = [], l$3.__e(u2, t2.__v);\n      }\n}\nl$3.__b = function(n2) {\n  u$2 = null, e && e(n2);\n}, l$3.__r = function(n2) {\n  a$2 && a$2(n2), t$1 = 0;\n  var o2 = (u$2 = n2.__c).__H;\n  o2 && (r$2 === u$2 ? (o2.__h = [], u$2.__h = [], o2.__.forEach(function(n3) {\n    n3.__V = f$2, n3.u = void 0;\n  })) : (o2.__h.forEach(j$2), o2.__h.forEach(k$1), o2.__h = [])), r$2 = u$2;\n}, l$3.diffed = function(t2) {\n  v$2 && v$2(t2);\n  var i2 = t2.__c;\n  i2 && i2.__H && (i2.__H.__h.length && (c$2.push(i2) !== 1 && o$2 === l$3.requestAnimationFrame || ((o$2 = l$3.requestAnimationFrame) || function(n2) {\n    var t3, u2 = function() {\n      clearTimeout(r2), g$3 && cancelAnimationFrame(t3), setTimeout(n2);\n    }, r2 = setTimeout(u2, 100);\n    g$3 && (t3 = requestAnimationFrame(u2));\n  })(b$1)), i2.__H.__.forEach(function(n2) {\n    n2.u && (n2.__H = n2.u), n2.__V !== f$2 && (n2.__ = n2.__V), n2.u = void 0, n2.__V = f$2;\n  })), r$2 = u$2 = null;\n}, l$3.__c = function(t2, u2) {\n  u2.some(function(t3) {\n    try {\n      t3.__h.forEach(j$2), t3.__h = t3.__h.filter(function(n2) {\n        return !n2.__ || k$1(n2);\n      });\n    } catch (r2) {\n      u2.some(function(n2) {\n        n2.__h && (n2.__h = []);\n      }), u2 = [], l$3.__e(r2, t3.__v);\n    }\n  }), l$2 && l$2(t2, u2);\n}, l$3.unmount = function(t2) {\n  m$1 && m$1(t2);\n  var u2, r2 = t2.__c;\n  r2 && r2.__H && (r2.__H.__.forEach(function(n2) {\n    try {\n      j$2(n2);\n    } catch (n3) {\n      u2 = n3;\n    }\n  }), u2 && l$3.__e(u2, r2.__v));\n};\nvar g$3 = typeof requestAnimationFrame == \"function\";\nfunction j$2(n2) {\n  var t2 = u$2, r2 = n2.__c;\n  typeof r2 == \"function\" && (n2.__c = void 0, r2()), u$2 = t2;\n}\nfunction k$1(n2) {\n  var t2 = u$2;\n  n2.__c = n2.__(), u$2 = t2;\n}\nfunction w$2(n2, t2) {\n  return !n2 || n2.length !== t2.length || t2.some(function(t3, u2) {\n    return t3 !== n2[u2];\n  });\n}\nfunction z$1(n2, t2) {\n  return typeof t2 == \"function\" ? t2(n2) : t2;\n}\nfunction n$1(n2) {\n  for (var r2 = arguments.length, t2 = Array(r2 > 1 ? r2 - 1 : 0), e2 = 1; e2 < r2; e2++)\n    t2[e2 - 1] = arguments[e2];\n  throw Error(\"[Immer] minified error nr: \" + n2 + (t2.length ? \" \" + t2.map(function(n3) {\n    return \"'\" + n3 + \"'\";\n  }).join(\",\") : \"\") + \". Find the full error at: https://bit.ly/3cXEKWf\");\n}\nfunction r$1(n2) {\n  return !!n2 && !!n2[Q$1];\n}\nfunction t(n2) {\n  return !!n2 && (function(n3) {\n    if (!n3 || typeof n3 != \"object\")\n      return false;\n    var r2 = Object.getPrototypeOf(n3);\n    if (r2 === null)\n      return true;\n    var t2 = Object.hasOwnProperty.call(r2, \"constructor\") && r2.constructor;\n    return t2 === Object || typeof t2 == \"function\" && Function.toString.call(t2) === Z$1;\n  }(n2) || Array.isArray(n2) || !!n2[L$1] || !!n2.constructor[L$1] || s$1(n2) || v$1(n2));\n}\nfunction i$1(n2, r2, t2) {\n  t2 === void 0 && (t2 = false), o$1(n2) === 0 ? (t2 ? Object.keys : nn)(n2).forEach(function(e2) {\n    t2 && typeof e2 == \"symbol\" || r2(e2, n2[e2], n2);\n  }) : n2.forEach(function(t3, e2) {\n    return r2(e2, t3, n2);\n  });\n}\nfunction o$1(n2) {\n  var r2 = n2[Q$1];\n  return r2 ? r2.i > 3 ? r2.i - 4 : r2.i : Array.isArray(n2) ? 1 : s$1(n2) ? 2 : v$1(n2) ? 3 : 0;\n}\nfunction u$1(n2, r2) {\n  return o$1(n2) === 2 ? n2.has(r2) : Object.prototype.hasOwnProperty.call(n2, r2);\n}\nfunction a$1(n2, r2) {\n  return o$1(n2) === 2 ? n2.get(r2) : n2[r2];\n}\nfunction f$1(n2, r2, t2) {\n  var e2 = o$1(n2);\n  e2 === 2 ? n2.set(r2, t2) : e2 === 3 ? (n2.delete(r2), n2.add(t2)) : n2[r2] = t2;\n}\nfunction c$1(n2, r2) {\n  return n2 === r2 ? n2 !== 0 || 1 / n2 == 1 / r2 : n2 != n2 && r2 != r2;\n}\nfunction s$1(n2) {\n  return X && n2 instanceof Map;\n}\nfunction v$1(n2) {\n  return q$1 && n2 instanceof Set;\n}\nfunction p$1(n2) {\n  return n2.o || n2.t;\n}\nfunction l$1(n2) {\n  if (Array.isArray(n2))\n    return Array.prototype.slice.call(n2);\n  var r2 = rn(n2);\n  delete r2[Q$1];\n  for (var t2 = nn(r2), e2 = 0; e2 < t2.length; e2++) {\n    var i2 = t2[e2], o2 = r2[i2];\n    o2.writable === false && (o2.writable = true, o2.configurable = true), (o2.get || o2.set) && (r2[i2] = { configurable: true, writable: true, enumerable: o2.enumerable, value: n2[i2] });\n  }\n  return Object.create(Object.getPrototypeOf(n2), r2);\n}\nfunction d$1(n2, e2) {\n  return e2 === void 0 && (e2 = false), y(n2) || r$1(n2) || !t(n2) ? n2 : (o$1(n2) > 1 && (n2.set = n2.add = n2.clear = n2.delete = h$1), Object.freeze(n2), e2 && i$1(n2, function(n3, r2) {\n    return d$1(r2, true);\n  }, true), n2);\n}\nfunction h$1() {\n  n$1(2);\n}\nfunction y(n2) {\n  return n2 == null || typeof n2 != \"object\" || Object.isFrozen(n2);\n}\nfunction b(r2) {\n  var t2 = tn[r2];\n  return t2 || n$1(18, r2), t2;\n}\nfunction _$1() {\n  return U;\n}\nfunction j$1(n2, r2) {\n  r2 && (b(\"Patches\"), n2.u = [], n2.s = [], n2.v = r2);\n}\nfunction O$1(n2) {\n  g$2(n2), n2.p.forEach(S$1), n2.p = null;\n}\nfunction g$2(n2) {\n  n2 === U && (U = n2.l);\n}\nfunction w$1(n2) {\n  return U = { p: [], l: U, h: n2, m: true, _: 0 };\n}\nfunction S$1(n2) {\n  var r2 = n2[Q$1];\n  r2.i === 0 || r2.i === 1 ? r2.j() : r2.O = true;\n}\nfunction P$1(r2, e2) {\n  e2._ = e2.p.length;\n  var i2 = e2.p[0], o2 = r2 !== void 0 && r2 !== i2;\n  return e2.h.g || b(\"ES5\").S(e2, r2, o2), o2 ? (i2[Q$1].P && (O$1(e2), n$1(4)), t(r2) && (r2 = M$1(e2, r2), e2.l || x$2(e2, r2)), e2.u && b(\"Patches\").M(i2[Q$1].t, r2, e2.u, e2.s)) : r2 = M$1(e2, i2, []), O$1(e2), e2.u && e2.v(e2.u, e2.s), r2 !== H$1 ? r2 : void 0;\n}\nfunction M$1(n2, r2, t2) {\n  if (y(r2))\n    return r2;\n  var e2 = r2[Q$1];\n  if (!e2)\n    return i$1(r2, function(i2, o3) {\n      return A$1(n2, e2, r2, i2, o3, t2);\n    }, true), r2;\n  if (e2.A !== n2)\n    return r2;\n  if (!e2.P)\n    return x$2(n2, e2.t, true), e2.t;\n  if (!e2.I) {\n    e2.I = true, e2.A._--;\n    var o2 = e2.i === 4 || e2.i === 5 ? e2.o = l$1(e2.k) : e2.o;\n    i$1(e2.i === 3 ? new Set(o2) : o2, function(r3, i2) {\n      return A$1(n2, e2, o2, r3, i2, t2);\n    }), x$2(n2, o2, false), t2 && n2.u && b(\"Patches\").R(e2, t2, n2.u, n2.s);\n  }\n  return e2.o;\n}\nfunction A$1(e2, i2, o2, a2, c2, s2) {\n  if (r$1(c2)) {\n    var v2 = M$1(e2, c2, s2 && i2 && i2.i !== 3 && !u$1(i2.D, a2) ? s2.concat(a2) : void 0);\n    if (f$1(o2, a2, v2), !r$1(v2))\n      return;\n    e2.m = false;\n  }\n  if (t(c2) && !y(c2)) {\n    if (!e2.h.F && e2._ < 1)\n      return;\n    M$1(e2, c2), i2 && i2.A.l || x$2(e2, c2);\n  }\n}\nfunction x$2(n2, r2, t2) {\n  t2 === void 0 && (t2 = false), n2.h.F && n2.m && d$1(r2, t2);\n}\nfunction z(n2, r2) {\n  var t2 = n2[Q$1];\n  return (t2 ? p$1(t2) : n2)[r2];\n}\nfunction I$1(n2, r2) {\n  if (r2 in n2)\n    for (var t2 = Object.getPrototypeOf(n2); t2; ) {\n      var e2 = Object.getOwnPropertyDescriptor(t2, r2);\n      if (e2)\n        return e2;\n      t2 = Object.getPrototypeOf(t2);\n    }\n}\nfunction k(n2) {\n  n2.P || (n2.P = true, n2.l && k(n2.l));\n}\nfunction E$1(n2) {\n  n2.o || (n2.o = l$1(n2.t));\n}\nfunction R$1(n2, r2, t2) {\n  var e2 = s$1(r2) ? b(\"MapSet\").N(r2, t2) : v$1(r2) ? b(\"MapSet\").T(r2, t2) : n2.g ? function(n3, r3) {\n    var t3 = Array.isArray(n3), e3 = { i: t3 ? 1 : 0, A: r3 ? r3.A : _$1(), P: false, I: false, D: {}, l: r3, t: n3, k: null, o: null, j: null, C: false }, i2 = e3, o2 = en;\n    t3 && (i2 = [e3], o2 = on);\n    var u2 = Proxy.revocable(i2, o2), a2 = u2.revoke, f2 = u2.proxy;\n    return e3.k = f2, e3.j = a2, f2;\n  }(r2, t2) : b(\"ES5\").J(r2, t2);\n  return (t2 ? t2.A : _$1()).p.push(e2), e2;\n}\nfunction D$1(e2) {\n  return r$1(e2) || n$1(22, e2), function n2(r2) {\n    if (!t(r2))\n      return r2;\n    var e3, u2 = r2[Q$1], c2 = o$1(r2);\n    if (u2) {\n      if (!u2.P && (u2.i < 4 || !b(\"ES5\").K(u2)))\n        return u2.t;\n      u2.I = true, e3 = F$1(r2, c2), u2.I = false;\n    } else\n      e3 = F$1(r2, c2);\n    return i$1(e3, function(r3, t2) {\n      u2 && a$1(u2.t, r3) === t2 || f$1(e3, r3, n2(t2));\n    }), c2 === 3 ? new Set(e3) : e3;\n  }(e2);\n}\nfunction F$1(n2, r2) {\n  switch (r2) {\n    case 2:\n      return new Map(n2);\n    case 3:\n      return Array.from(n2);\n  }\n  return l$1(n2);\n}\nvar G, U, W$1 = typeof Symbol != \"undefined\" && typeof Symbol(\"x\") == \"symbol\", X = typeof Map != \"undefined\", q$1 = typeof Set != \"undefined\", B = typeof Proxy != \"undefined\" && Proxy.revocable !== void 0 && typeof Reflect != \"undefined\", H$1 = W$1 ? Symbol.for(\"immer-nothing\") : ((G = {})[\"immer-nothing\"] = true, G), L$1 = W$1 ? Symbol.for(\"immer-draftable\") : \"__$immer_draftable\", Q$1 = W$1 ? Symbol.for(\"immer-state\") : \"__$immer_state\", Z$1 = \"\" + Object.prototype.constructor, nn = typeof Reflect != \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : Object.getOwnPropertySymbols !== void 0 ? function(n2) {\n  return Object.getOwnPropertyNames(n2).concat(Object.getOwnPropertySymbols(n2));\n} : Object.getOwnPropertyNames, rn = Object.getOwnPropertyDescriptors || function(n2) {\n  var r2 = {};\n  return nn(n2).forEach(function(t2) {\n    r2[t2] = Object.getOwnPropertyDescriptor(n2, t2);\n  }), r2;\n}, tn = {}, en = { get: function(n2, r2) {\n  if (r2 === Q$1)\n    return n2;\n  var e2 = p$1(n2);\n  if (!u$1(e2, r2))\n    return function(n3, r3, t2) {\n      var e3, i3 = I$1(r3, t2);\n      return i3 ? \"value\" in i3 ? i3.value : (e3 = i3.get) === null || e3 === void 0 ? void 0 : e3.call(n3.k) : void 0;\n    }(n2, e2, r2);\n  var i2 = e2[r2];\n  return n2.I || !t(i2) ? i2 : i2 === z(n2.t, r2) ? (E$1(n2), n2.o[r2] = R$1(n2.A.h, i2, n2)) : i2;\n}, has: function(n2, r2) {\n  return r2 in p$1(n2);\n}, ownKeys: function(n2) {\n  return Reflect.ownKeys(p$1(n2));\n}, set: function(n2, r2, t2) {\n  var e2 = I$1(p$1(n2), r2);\n  if (e2 == null ? void 0 : e2.set)\n    return e2.set.call(n2.k, t2), true;\n  if (!n2.P) {\n    var i2 = z(p$1(n2), r2), o2 = i2 == null ? void 0 : i2[Q$1];\n    if (o2 && o2.t === t2)\n      return n2.o[r2] = t2, n2.D[r2] = false, true;\n    if (c$1(t2, i2) && (t2 !== void 0 || u$1(n2.t, r2)))\n      return true;\n    E$1(n2), k(n2);\n  }\n  return n2.o[r2] === t2 && typeof t2 != \"number\" && (t2 !== void 0 || r2 in n2.o) || (n2.o[r2] = t2, n2.D[r2] = true, true);\n}, deleteProperty: function(n2, r2) {\n  return z(n2.t, r2) !== void 0 || r2 in n2.t ? (n2.D[r2] = false, E$1(n2), k(n2)) : delete n2.D[r2], n2.o && delete n2.o[r2], true;\n}, getOwnPropertyDescriptor: function(n2, r2) {\n  var t2 = p$1(n2), e2 = Reflect.getOwnPropertyDescriptor(t2, r2);\n  return e2 ? { writable: true, configurable: n2.i !== 1 || r2 !== \"length\", enumerable: e2.enumerable, value: t2[r2] } : e2;\n}, defineProperty: function() {\n  n$1(11);\n}, getPrototypeOf: function(n2) {\n  return Object.getPrototypeOf(n2.t);\n}, setPrototypeOf: function() {\n  n$1(12);\n} }, on = {};\ni$1(en, function(n2, r2) {\n  on[n2] = function() {\n    return arguments[0] = arguments[0][0], r2.apply(this, arguments);\n  };\n}), on.deleteProperty = function(r2, t2) {\n  return on.set.call(this, r2, t2, void 0);\n}, on.set = function(r2, t2, e2) {\n  return en.set.call(this, r2[0], t2, e2, r2[0]);\n};\nvar un$1 = function() {\n  function e2(r2) {\n    var e3 = this;\n    this.g = B, this.F = true, this.produce = function(r3, i3, o2) {\n      if (typeof r3 == \"function\" && typeof i3 != \"function\") {\n        var u2 = i3;\n        i3 = r3;\n        var a2 = e3;\n        return function(n2) {\n          var r4 = this;\n          n2 === void 0 && (n2 = u2);\n          for (var t2 = arguments.length, e4 = Array(t2 > 1 ? t2 - 1 : 0), o3 = 1; o3 < t2; o3++)\n            e4[o3 - 1] = arguments[o3];\n          return a2.produce(n2, function(n3) {\n            var t3;\n            return (t3 = i3).call.apply(t3, [r4, n3].concat(e4));\n          });\n        };\n      }\n      var f2;\n      if (typeof i3 != \"function\" && n$1(6), o2 !== void 0 && typeof o2 != \"function\" && n$1(7), t(r3)) {\n        var c2 = w$1(e3), s2 = R$1(e3, r3, void 0), v2 = true;\n        try {\n          f2 = i3(s2), v2 = false;\n        } finally {\n          v2 ? O$1(c2) : g$2(c2);\n        }\n        return typeof Promise != \"undefined\" && f2 instanceof Promise ? f2.then(function(n2) {\n          return j$1(c2, o2), P$1(n2, c2);\n        }, function(n2) {\n          throw O$1(c2), n2;\n        }) : (j$1(c2, o2), P$1(f2, c2));\n      }\n      if (!r3 || typeof r3 != \"object\") {\n        if ((f2 = i3(r3)) === void 0 && (f2 = r3), f2 === H$1 && (f2 = void 0), e3.F && d$1(f2, true), o2) {\n          var p2 = [], l2 = [];\n          b(\"Patches\").M(r3, f2, p2, l2), o2(p2, l2);\n        }\n        return f2;\n      }\n      n$1(21, r3);\n    }, this.produceWithPatches = function(n2, r3) {\n      if (typeof n2 == \"function\")\n        return function(r4) {\n          for (var t3 = arguments.length, i4 = Array(t3 > 1 ? t3 - 1 : 0), o3 = 1; o3 < t3; o3++)\n            i4[o3 - 1] = arguments[o3];\n          return e3.produceWithPatches(r4, function(r5) {\n            return n2.apply(void 0, [r5].concat(i4));\n          });\n        };\n      var t2, i3, o2 = e3.produce(n2, r3, function(n3, r4) {\n        t2 = n3, i3 = r4;\n      });\n      return typeof Promise != \"undefined\" && o2 instanceof Promise ? o2.then(function(n3) {\n        return [n3, t2, i3];\n      }) : [o2, t2, i3];\n    }, typeof (r2 == null ? void 0 : r2.useProxies) == \"boolean\" && this.setUseProxies(r2.useProxies), typeof (r2 == null ? void 0 : r2.autoFreeze) == \"boolean\" && this.setAutoFreeze(r2.autoFreeze);\n  }\n  var i2 = e2.prototype;\n  return i2.createDraft = function(e3) {\n    t(e3) || n$1(8), r$1(e3) && (e3 = D$1(e3));\n    var i3 = w$1(this), o2 = R$1(this, e3, void 0);\n    return o2[Q$1].C = true, g$2(i3), o2;\n  }, i2.finishDraft = function(r2, t2) {\n    var e3 = r2 && r2[Q$1];\n    var i3 = e3.A;\n    return j$1(i3, t2), P$1(void 0, i3);\n  }, i2.setAutoFreeze = function(n2) {\n    this.F = n2;\n  }, i2.setUseProxies = function(r2) {\n    r2 && !B && n$1(20), this.g = r2;\n  }, i2.applyPatches = function(n2, t2) {\n    var e3;\n    for (e3 = t2.length - 1; e3 >= 0; e3--) {\n      var i3 = t2[e3];\n      if (i3.path.length === 0 && i3.op === \"replace\") {\n        n2 = i3.value;\n        break;\n      }\n    }\n    e3 > -1 && (t2 = t2.slice(e3 + 1));\n    var o2 = b(\"Patches\").$;\n    return r$1(n2) ? o2(n2, t2) : this.produce(n2, function(n3) {\n      return o2(n3, t2);\n    });\n  }, e2;\n}(), an = new un$1(), fn = an.produce;\nan.produceWithPatches.bind(an);\nan.setAutoFreeze.bind(an);\nan.setUseProxies.bind(an);\nan.applyPatches.bind(an);\nan.createDraft.bind(an);\nan.finishDraft.bind(an);\nvar produce = fn;\nvar commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\nfunction isUndefined$3(obj) {\n  return obj === void 0;\n}\nvar isUndefined_1 = isUndefined$3;\nvar isUndefined$2 = isUndefined_1;\nfunction range(start, stop, step) {\n  var arr = [];\n  var flag;\n  if (isUndefined$2(stop)) {\n    stop = start || 0;\n    start = 0;\n  }\n  step = step || 1;\n  flag = step < 0 ? -1 : 1;\n  stop *= flag;\n  for (; start * flag < stop; start += step) {\n    arr.push(start);\n  }\n  return arr;\n}\nvar range_1 = range;\nconst DEFAULT_DAY_NAME_MARGIN_LEFT = \"0\";\nconst MONTH_EVENT_HEIGHT = 24;\nconst MONTH_EVENT_MARGIN_TOP = 2;\nconst MONTH_CELL_PADDING_TOP = 3;\nconst MONTH_CELL_BAR_HEIGHT = 27;\nconst MONTH_MORE_VIEW_PADDING = 5;\nconst MONTH_MORE_VIEW_MIN_WIDTH = 280;\nconst MONTH_MORE_VIEW_HEADER_HEIGHT = 44;\nconst MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM = 12;\nconst MONTH_MORE_VIEW_HEADER_PADDING_TOP = 12;\nconst MONTH_MORE_VIEW_HEADER_PADDING = \"12px 17px 0\";\nconst WEEK_DAY_NAME_HEIGHT = 42;\nconst WEEK_DAY_NAME_BORDER = 1;\nconst WEEK_EVENT_MARGIN_TOP = 2;\nconst DEFAULT_PANEL_HEIGHT = 72;\nconst DEFAULT_EVENT_COLORS = {\n  color: \"#000\",\n  backgroundColor: \"#a1b56c\",\n  dragBackgroundColor: \"#a1b56c\",\n  borderColor: \"#000\"\n};\nconst TIME_EVENT_CONTAINER_MARGIN_LEFT = 2;\nconst COLLAPSED_DUPLICATE_EVENT_WIDTH_PX = 9;\nfunction isBoolean(obj) {\n  return typeof obj === \"boolean\" || obj instanceof Boolean;\n}\nvar isBoolean_1 = isBoolean;\nfunction isNumber(obj) {\n  return typeof obj === \"number\" || obj instanceof Number;\n}\nvar isNumber_1 = isNumber;\nfunction isObject$1(obj) {\n  return obj === Object(obj);\n}\nvar isObject_1 = isObject$1;\nfunction isString$1(obj) {\n  return typeof obj === \"string\" || obj instanceof String;\n}\nvar isString_1 = isString$1;\nfunction isNil(value) {\n  return isUndefined_1(value) || value === null;\n}\nfunction isPresent(value) {\n  return !isNil(value);\n}\nfunction isFunction$2(value) {\n  return typeof value === \"function\";\n}\nconst CSS_PREFIX = \"toastui-calendar-\";\nfunction cls(...args) {\n  const result = [];\n  args.forEach((arg) => {\n    if (!arg) {\n      return;\n    }\n    if (isString_1(arg)) {\n      result.push(arg);\n    } else {\n      Object.keys(arg).forEach((className2) => {\n        if (arg[className2]) {\n          result.push(className2);\n        }\n      });\n    }\n  });\n  return result.map((str) => `${CSS_PREFIX}${str}`).join(\" \");\n}\nfunction toPercent(value) {\n  return `${value}%`;\n}\nfunction toPx(value) {\n  return `${value}px`;\n}\nfunction extractPercentPx(value) {\n  const percentRegexp = /(\\d+)%/;\n  const percentResult = value.match(percentRegexp);\n  const pxRegexp = /(-?)\\s?(\\d+)px/;\n  const pxResult = value.match(pxRegexp);\n  return {\n    percent: percentResult ? parseInt(percentResult[1], 10) : 0,\n    px: pxResult ? parseInt(`${pxResult[1]}${pxResult[2]}`, 10) : 0\n  };\n}\nfunction getEventColors(uiModel, calendarColor) {\n  const eventColors = uiModel.model.getColors();\n  return Object.keys(DEFAULT_EVENT_COLORS).reduce((colors, _key) => {\n    var _a, _b;\n    const key = _key;\n    colors[key] = (_b = (_a = eventColors[key]) != null ? _a : calendarColor[key]) != null ? _b : DEFAULT_EVENT_COLORS[key];\n    return colors;\n  }, {});\n}\nconst rISO8601 = /^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.)?([0-9]+)?([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?$/;\nfunction throwNotSupported() {\n  throw new Error(\"This operation is not supported.\");\n}\nfunction getDateTime(dateString) {\n  const match = rISO8601.exec(dateString);\n  if (match) {\n    const [, y2, M2, d2, h2, m2, s2, , ms, zoneInfo] = match;\n    return {\n      y: Number(y2),\n      M: Number(M2) - 1,\n      d: Number(d2),\n      h: Number(h2),\n      m: Number(m2),\n      s: Number(s2),\n      ms: Number(ms) || 0,\n      zoneInfo\n    };\n  }\n  return null;\n}\nfunction createFromDateString(dateString) {\n  const info = getDateTime(dateString);\n  if (info && !info.zoneInfo) {\n    const { y: y2, M: M2, d: d2, h: h2, m: m2, s: s2, ms } = info;\n    return new Date(y2, M2, d2, h2, m2, s2, ms);\n  }\n  return null;\n}\nclass LocalDate {\n  constructor(...args) {\n    const [firstArg] = args;\n    if (firstArg instanceof Date) {\n      this.d = new Date(firstArg.getTime());\n    } else if (isString_1(firstArg) && args.length === 1) {\n      this.d = createFromDateString(firstArg);\n    }\n    if (!this.d) {\n      this.d = new Date(...args);\n    }\n  }\n  setTimezoneOffset() {\n    throwNotSupported();\n  }\n  setTimezoneName() {\n    throwNotSupported();\n  }\n  clone() {\n    return new LocalDate(this.d);\n  }\n  toDate() {\n    return new Date(this.d.getTime());\n  }\n  toString() {\n    return this.d.toString();\n  }\n}\nconst getterMethods = [\n  \"getTime\",\n  \"getTimezoneOffset\",\n  \"getFullYear\",\n  \"getMonth\",\n  \"getDate\",\n  \"getHours\",\n  \"getMinutes\",\n  \"getSeconds\",\n  \"getMilliseconds\",\n  \"getDay\"\n];\nconst setterMethods = [\n  \"setTime\",\n  \"setFullYear\",\n  \"setMonth\",\n  \"setDate\",\n  \"setHours\",\n  \"setMinutes\",\n  \"setSeconds\",\n  \"setMilliseconds\"\n];\ngetterMethods.forEach((methodName) => {\n  LocalDate.prototype[methodName] = function(...args) {\n    return this.d[methodName](...args);\n  };\n});\nsetterMethods.forEach((methodName) => {\n  LocalDate.prototype[methodName] = function(...args) {\n    return this.d[methodName](...args);\n  };\n});\nclass UTCDate extends LocalDate {\n  clone() {\n    return new UTCDate(this.d);\n  }\n  getTimezoneOffset() {\n    return 0;\n  }\n}\nconst getterProperties = [\n  \"FullYear\",\n  \"Month\",\n  \"Date\",\n  \"Hours\",\n  \"Minutes\",\n  \"Seconds\",\n  \"Milliseconds\",\n  \"Day\"\n];\nconst setterProperties = [\n  \"FullYear\",\n  \"Month\",\n  \"Date\",\n  \"Hours\",\n  \"Minutes\",\n  \"Seconds\",\n  \"Milliseconds\"\n];\ngetterProperties.forEach((prop) => {\n  const methodName = `get${prop}`;\n  UTCDate.prototype[methodName] = function(...args) {\n    return this.d[`getUTC${prop}`](...args);\n  };\n});\nsetterProperties.forEach((prop) => {\n  const methodName = `set${prop}`;\n  UTCDate.prototype[methodName] = function(...args) {\n    return this.d[`setUTC${prop}`](...args);\n  };\n});\nconst INVALID_DATETIME_FORMAT = \"Invalid DateTime Format\";\nconst INVALID_TIMEZONE_NAME = \"Invalid IANA Timezone Name\";\nconst INVALID_VIEW_TYPE = \"Invalid View Type\";\nconst MESSAGE_PREFIX = \"@toast-ui/calendar: \";\nclass InvalidTimezoneNameError extends Error {\n  constructor(timezoneName) {\n    super(`${MESSAGE_PREFIX}${INVALID_TIMEZONE_NAME} - ${timezoneName}`);\n    this.name = \"InvalidTimezoneNameError\";\n  }\n}\nclass InvalidDateTimeFormatError extends Error {\n  constructor(dateTimeString) {\n    super(`${MESSAGE_PREFIX}${INVALID_DATETIME_FORMAT} - ${dateTimeString}`);\n    this.name = \"InvalidDateTimeFormatError\";\n  }\n}\nclass InvalidViewTypeError extends Error {\n  constructor(viewType) {\n    super(`${MESSAGE_PREFIX}${INVALID_VIEW_TYPE} - ${viewType}`);\n    this.name = \"InvalidViewTypeError\";\n  }\n}\nconst logger = {\n  error: (firstArg, ...restArgs) => {\n    console.error(`${MESSAGE_PREFIX}${firstArg}`, ...restArgs);\n  },\n  warn: (firstArg, ...restArgs) => {\n    console.warn(`${MESSAGE_PREFIX}${firstArg}`, ...restArgs);\n  }\n};\nlet Constructor = LocalDate;\nfunction date(...args) {\n  return new Constructor(...args);\n}\nfunction getLocalTimezoneOffset() {\n  return -new Date().getTimezoneOffset();\n}\nfunction calculateTimezoneOffset(timezoneName, targetDate = new TZDate()) {\n  if (!isIntlDateTimeFormatSupported()) {\n    logger.warn(\"Intl.DateTimeFormat is not fully supported. So It will return the local timezone offset only.\\nYou can use a polyfill to fix this issue.\");\n    return -targetDate.toDate().getTimezoneOffset();\n  }\n  validateIANATimezoneName(timezoneName);\n  const token = tokenizeTZDate(targetDate, timezoneName);\n  const utcDate = tokenToUtcDate(token);\n  return Math.round((utcDate.getTime() - targetDate.getTime()) / 60 / 1e3);\n}\nfunction isUsingDST(targetDate, timezoneName) {\n  if (timezoneName) {\n    validateIANATimezoneName(timezoneName);\n  }\n  const jan = new TZDate(targetDate.getFullYear(), 0, 1);\n  const jul = new TZDate(targetDate.getFullYear(), 6, 1);\n  if (timezoneName) {\n    return Math.max(-calculateTimezoneOffset(timezoneName, jan), -calculateTimezoneOffset(timezoneName, jul)) !== -calculateTimezoneOffset(timezoneName, targetDate);\n  }\n  return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset()) !== targetDate.toDate().getTimezoneOffset();\n}\nconst dtfCache = {};\nconst timezoneNameValidationCache = {};\nfunction isIntlDateTimeFormatSupported() {\n  var _a, _b;\n  return isFunction$2((_b = (_a = Intl == null ? void 0 : Intl.DateTimeFormat) == null ? void 0 : _a.prototype) == null ? void 0 : _b.formatToParts);\n}\nfunction validateIANATimezoneName(timezoneName) {\n  if (timezoneNameValidationCache[timezoneName]) {\n    return true;\n  }\n  try {\n    Intl.DateTimeFormat(\"en-US\", { timeZone: timezoneName });\n    timezoneNameValidationCache[timezoneName] = true;\n    return true;\n  } catch (e2) {\n    throw new InvalidTimezoneNameError(timezoneName);\n  }\n}\nfunction getDateTimeFormat(timezoneName) {\n  if (dtfCache[timezoneName]) {\n    return dtfCache[timezoneName];\n  }\n  const dtf = new Intl.DateTimeFormat(\"en-US\", {\n    timeZone: timezoneName,\n    hourCycle: \"h23\",\n    hour12: false,\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\"\n  });\n  dtfCache[timezoneName] = dtf;\n  return dtf;\n}\nconst typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  hour: 3,\n  minute: 4,\n  second: 5\n};\nfunction tokenizeTZDate(tzDate, timezoneName) {\n  const dtf = getDateTimeFormat(timezoneName);\n  const formatted = dtf.formatToParts(tzDate.toDate());\n  return formatted.reduce((result, cur) => {\n    const pos = typeToPos[cur.type];\n    if (isPresent(pos)) {\n      result[pos] = parseInt(cur.value, 10);\n    }\n    return result;\n  }, []);\n}\nfunction tokenToUtcDate(token) {\n  const [year, monthPlusOne, day, hour, minute, second] = token;\n  const month = monthPlusOne - 1;\n  return new Date(Date.UTC(year, month, day, hour % 24, minute, second));\n}\nfunction getTZOffsetMSDifference(offset) {\n  return (getLocalTimezoneOffset() - offset) * MS_PER_MINUTES;\n}\nclass TZDate {\n  constructor(...args) {\n    this.tzOffset = null;\n    if (args[0] instanceof TZDate) {\n      this.d = date(args[0].getTime());\n    } else {\n      this.d = date(...args);\n    }\n  }\n  toString() {\n    return this.d.toString();\n  }\n  addFullYear(y2) {\n    this.setFullYear(this.getFullYear() + y2);\n    return this;\n  }\n  addMonth(m2) {\n    this.setMonth(this.getMonth() + m2);\n    return this;\n  }\n  addDate(d2) {\n    this.setDate(this.getDate() + d2);\n    return this;\n  }\n  addHours(h2) {\n    this.setHours(this.getHours() + h2);\n    return this;\n  }\n  addMinutes(M2) {\n    this.setMinutes(this.getMinutes() + M2);\n    return this;\n  }\n  addSeconds(s2) {\n    this.setSeconds(this.getSeconds() + s2);\n    return this;\n  }\n  addMilliseconds(ms) {\n    this.setMilliseconds(this.getMilliseconds() + ms);\n    return this;\n  }\n  setWithRaw(y2, m2, d2, h2, M2, s2, ms) {\n    this.setFullYear(y2, m2, d2);\n    this.setHours(h2, M2, s2, ms);\n    return this;\n  }\n  toDate() {\n    return this.d.toDate();\n  }\n  valueOf() {\n    return this.getTime();\n  }\n  getTimezoneOffset() {\n    var _a;\n    return (_a = this.tzOffset) != null ? _a : this.d.getTimezoneOffset();\n  }\n  getTime() {\n    return this.d.getTime();\n  }\n  getFullYear() {\n    return this.d.getFullYear();\n  }\n  getMonth() {\n    return this.d.getMonth();\n  }\n  getDate() {\n    return this.d.getDate();\n  }\n  getHours() {\n    return this.d.getHours();\n  }\n  getMinutes() {\n    return this.d.getMinutes();\n  }\n  getSeconds() {\n    return this.d.getSeconds();\n  }\n  getMilliseconds() {\n    return this.d.getMilliseconds();\n  }\n  getDay() {\n    return this.d.getDay();\n  }\n  setTime(t2) {\n    return this.d.setTime(t2);\n  }\n  setFullYear(y2, m2 = this.getMonth(), d2 = this.getDate()) {\n    return this.d.setFullYear(y2, m2, d2);\n  }\n  setMonth(m2, d2 = this.getDate()) {\n    return this.d.setMonth(m2, d2);\n  }\n  setDate(d2) {\n    return this.d.setDate(d2);\n  }\n  setHours(h2, M2 = this.getMinutes(), s2 = this.getSeconds(), ms = this.getMilliseconds()) {\n    return this.d.setHours(h2, M2, s2, ms);\n  }\n  setMinutes(M2, s2 = this.getSeconds(), ms = this.getMilliseconds()) {\n    return this.d.setMinutes(M2, s2, ms);\n  }\n  setSeconds(s2, ms = this.getMilliseconds()) {\n    return this.d.setSeconds(s2, ms);\n  }\n  setMilliseconds(ms) {\n    return this.d.setMilliseconds(ms);\n  }\n  tz(tzValue) {\n    if (tzValue === \"Local\") {\n      return new TZDate(this.getTime());\n    }\n    const tzOffset = isString_1(tzValue) ? calculateTimezoneOffset(tzValue, this) : tzValue;\n    const newTZDate = new TZDate(this.getTime() - getTZOffsetMSDifference(tzOffset));\n    newTZDate.tzOffset = tzOffset;\n    return newTZDate;\n  }\n  local(tzValue) {\n    if (isPresent(tzValue)) {\n      const tzOffset = isString_1(tzValue) ? calculateTimezoneOffset(tzValue, this) : tzValue;\n      return new TZDate(this.getTime() + getTZOffsetMSDifference(tzOffset));\n    }\n    return new TZDate(this.getTime() + (isPresent(this.tzOffset) ? getTZOffsetMSDifference(this.tzOffset) : 0));\n  }\n}\nfunction pick(obj, ...propNames) {\n  return propNames.reduce((acc, key) => {\n    if (obj.hasOwnProperty(key)) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\nfunction clone$1(source) {\n  return Object.assign(Object.create(Object.getPrototypeOf(source)), source);\n}\nfunction mergeObject(target, source = {}) {\n  if (!isObject_1(source)) {\n    return target;\n  }\n  Object.keys(source).forEach((k2) => {\n    const targetKey = k2;\n    const sourceKey = k2;\n    if (!Array.isArray(source[sourceKey]) && isObject_1(target[targetKey]) && isObject_1(source[sourceKey]) && !(source[sourceKey] instanceof TZDate)) {\n      target[targetKey] = mergeObject(target[targetKey], source[sourceKey]);\n    } else {\n      target[targetKey] = source[sourceKey];\n    }\n  });\n  return target;\n}\nconst eventUIPropsKey = [\n  \"top\",\n  \"left\",\n  \"width\",\n  \"height\",\n  \"exceedLeft\",\n  \"exceedRight\",\n  \"croppedStart\",\n  \"croppedEnd\",\n  \"goingDurationHeight\",\n  \"modelDurationHeight\",\n  \"comingDurationHeight\",\n  \"duplicateEvents\",\n  \"duplicateEventIndex\",\n  \"duplicateStarts\",\n  \"duplicateEnds\",\n  \"duplicateLeft\",\n  \"duplicateWidth\",\n  \"collapse\",\n  \"isMain\"\n];\nclass EventUIModel {\n  constructor(event) {\n    this.top = 0;\n    this.left = 0;\n    this.width = 0;\n    this.height = 0;\n    this.exceedLeft = false;\n    this.exceedRight = false;\n    this.croppedStart = false;\n    this.croppedEnd = false;\n    this.goingDurationHeight = 0;\n    this.modelDurationHeight = 100;\n    this.comingDurationHeight = 0;\n    this.duplicateEvents = [];\n    this.duplicateEventIndex = -1;\n    this.duplicateLeft = \"\";\n    this.duplicateWidth = \"\";\n    this.collapse = false;\n    this.isMain = false;\n    this.model = event;\n  }\n  getUIProps() {\n    return pick(this, ...eventUIPropsKey);\n  }\n  setUIProps(props) {\n    Object.assign(this, props);\n  }\n  getStarts() {\n    if (this.renderStarts) {\n      return this.renderStarts;\n    }\n    return this.model.getStarts();\n  }\n  getEnds() {\n    if (this.renderEnds) {\n      return this.renderEnds;\n    }\n    return this.model.getEnds();\n  }\n  cid() {\n    return this.model.cid();\n  }\n  valueOf() {\n    return this.model;\n  }\n  duration() {\n    return this.model.duration();\n  }\n  collidesWith(uiModel, usingTravelTime = true) {\n    const infos = [];\n    [this, uiModel].forEach((event) => {\n      const isDuplicateEvent = event instanceof EventUIModel && event.duplicateEvents.length > 0;\n      if (isDuplicateEvent) {\n        infos.push({\n          start: event.duplicateStarts,\n          end: event.duplicateEnds,\n          goingDuration: 0,\n          comingDuration: 0\n        });\n      } else {\n        infos.push({\n          start: event.getStarts(),\n          end: event.getEnds(),\n          goingDuration: event.valueOf().goingDuration,\n          comingDuration: event.valueOf().comingDuration\n        });\n      }\n    });\n    const [thisInfo, targetInfo] = infos;\n    return collidesWith({\n      start: thisInfo.start.getTime(),\n      end: thisInfo.end.getTime(),\n      targetStart: targetInfo.start.getTime(),\n      targetEnd: targetInfo.end.getTime(),\n      goingDuration: thisInfo.goingDuration,\n      comingDuration: thisInfo.comingDuration,\n      targetGoingDuration: targetInfo.goingDuration,\n      targetComingDuration: targetInfo.comingDuration,\n      usingTravelTime\n    });\n  }\n  clone() {\n    const eventUIModelProps = this.getUIProps();\n    const clonedEventUIModel = new EventUIModel(this.model);\n    clonedEventUIModel.setUIProps(eventUIModelProps);\n    if (this.renderStarts) {\n      clonedEventUIModel.renderStarts = new TZDate(this.renderStarts);\n    }\n    if (this.renderEnds) {\n      clonedEventUIModel.renderEnds = new TZDate(this.renderEnds);\n    }\n    return clonedEventUIModel;\n  }\n}\nfunction compareBooleansASC(a2, b2) {\n  if (a2 !== b2) {\n    return a2 ? -1 : 1;\n  }\n  return 0;\n}\nfunction compareNumbersASC(a2, b2) {\n  return Number(a2) - Number(b2);\n}\nfunction compareStringsASC(_a, _b) {\n  const a2 = String(_a);\n  const b2 = String(_b);\n  if (a2 === b2) {\n    return 0;\n  }\n  return a2 > b2 ? 1 : -1;\n}\nfunction compareEventsASC(a2, b2) {\n  const modelA = a2 instanceof EventUIModel ? a2.model : a2;\n  const modelB = b2 instanceof EventUIModel ? b2.model : b2;\n  const alldayCompare = compareBooleansASC(modelA.isAllday || modelA.hasMultiDates, modelB.isAllday || modelB.hasMultiDates);\n  if (alldayCompare) {\n    return alldayCompare;\n  }\n  const startsCompare = compare(a2.getStarts(), b2.getStarts());\n  if (startsCompare) {\n    return startsCompare;\n  }\n  const durationA = a2.duration();\n  const durationB = b2.duration();\n  if (durationA < durationB) {\n    return 1;\n  }\n  if (durationA > durationB) {\n    return -1;\n  }\n  return modelA.cid() - modelB.cid();\n}\nfunction bsearch(arr, search, fn2, compareFn) {\n  let minIndex = 0;\n  let maxIndex = arr.length - 1;\n  let currentIndex;\n  let value;\n  let comp;\n  compareFn = compareFn || compareStringsASC;\n  while (minIndex <= maxIndex) {\n    currentIndex = (minIndex + maxIndex) / 2 | 0;\n    value = fn2 ? fn2(arr[currentIndex]) : arr[currentIndex];\n    comp = compareFn(value, search);\n    if (comp < 0) {\n      minIndex = currentIndex + 1;\n    } else if (comp > 0) {\n      maxIndex = currentIndex - 1;\n    } else {\n      return currentIndex;\n    }\n  }\n  return ~maxIndex;\n}\nvar array = {\n  bsearch,\n  compare: {\n    event: {\n      asc: compareEventsASC\n    },\n    num: {\n      asc: compareNumbersASC\n    }\n  }\n};\nfunction first(array2) {\n  return array2[0];\n}\nfunction last(array2) {\n  return array2[array2.length - 1];\n}\nfunction findLastIndex(array2, predicate) {\n  for (let i2 = array2.length - 1; i2 >= 0; i2 -= 1) {\n    if (predicate(array2[i2])) {\n      return i2;\n    }\n  }\n  return -1;\n}\nfunction fill(length, value) {\n  if (length > 0) {\n    return Array.from({ length }, () => {\n      if (Array.isArray(value)) {\n        return value.slice();\n      }\n      return value;\n    });\n  }\n  return [];\n}\nvar Day$2 = /* @__PURE__ */ ((Day2) => {\n  Day2[Day2[\"SUN\"] = 0] = \"SUN\";\n  Day2[Day2[\"MON\"] = 1] = \"MON\";\n  Day2[Day2[\"TUE\"] = 2] = \"TUE\";\n  Day2[Day2[\"WED\"] = 3] = \"WED\";\n  Day2[Day2[\"THU\"] = 4] = \"THU\";\n  Day2[Day2[\"FRI\"] = 5] = \"FRI\";\n  Day2[Day2[\"SAT\"] = 6] = \"SAT\";\n  return Day2;\n})(Day$2 || {});\nconst WEEK_DAYS = 7;\nconst dateFormatRx = /^(\\d{4}[-|/]*\\d{2}[-|/]*\\d{2})\\s?(\\d{2}:\\d{2}:\\d{2})?$/;\nconst memo = {\n  millisecondsTo: {},\n  millisecondsFrom: {}\n};\nconst convByTimeUnit = [24, 60, 60, 1e3];\nfunction leadingZero(number, length) {\n  let zero = \"\";\n  let i2 = 0;\n  if (String(number).length > length) {\n    return String(number);\n  }\n  for (; i2 < length - 1; i2 += 1) {\n    zero += \"0\";\n  }\n  return (zero + number).slice(length * -1);\n}\nfunction getHourForMeridiem(date2) {\n  let hour = date2.getHours();\n  if (hour === 0) {\n    hour = 12;\n  }\n  if (hour > 12) {\n    hour = hour % 12;\n  }\n  return hour;\n}\nconst tokenFunc = {\n  YYYYMMDD(date2) {\n    return [\n      date2.getFullYear(),\n      leadingZero(date2.getMonth() + 1, 2),\n      leadingZero(date2.getDate(), 2)\n    ].join(\"\");\n  },\n  YYYY(date2) {\n    return String(date2.getFullYear());\n  },\n  MM(date2) {\n    return leadingZero(date2.getMonth() + 1, 2);\n  },\n  DD(date2) {\n    return leadingZero(date2.getDate(), 2);\n  },\n  \"HH:mm\": function(date2) {\n    const hour = date2.getHours();\n    const minutes = date2.getMinutes();\n    return `${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  \"hh:mm\": function(date2) {\n    const hour = getHourForMeridiem(date2);\n    const minutes = date2.getMinutes();\n    return `${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  hh(date2) {\n    const hour = getHourForMeridiem(date2);\n    return String(hour);\n  },\n  tt(date2) {\n    const hour = date2.getHours();\n    return hour < 12 ? \"am\" : \"pm\";\n  }\n};\nconst MS_PER_DAY = 864e5;\nconst MS_PER_MINUTES = 6e4;\nconst MS_EVENT_MIN_DURATION = 20 * MS_PER_MINUTES;\nconst MS_PER_THIRTY_MINUTES = 30 * 60 * 1e3;\nfunction toFormat(date2, strFormat) {\n  let result = strFormat;\n  Object.entries(tokenFunc).forEach(([token, converter]) => {\n    result = result.replace(token, converter(date2));\n  });\n  return result;\n}\nfunction convMilliseconds(type, value, iteratee) {\n  const index = {\n    date: 0,\n    hour: 1,\n    minute: 2,\n    second: 3\n  };\n  if (!(type in index) || isNaN(value)) {\n    return 0;\n  }\n  return [value].concat(convByTimeUnit.slice(index[type])).reduce(iteratee);\n}\nfunction millisecondsFrom(type, value) {\n  const cache = memo.millisecondsFrom;\n  const key = type + value;\n  if (cache[key]) {\n    return cache[key];\n  }\n  const result = convMilliseconds(type, value, (m2, v2) => m2 * v2);\n  if (!result) {\n    return 0;\n  }\n  cache[key] = result;\n  return cache[key];\n}\nfunction toStartOfDay(date2) {\n  const d2 = date2 ? new TZDate(date2) : new TZDate();\n  d2.setHours(0, 0, 0, 0);\n  return d2;\n}\nfunction makeDateRange(startDate, endDate, step) {\n  const startTime = startDate.getTime();\n  const endTime = endDate.getTime();\n  const date2 = new TZDate(startDate);\n  const result = [];\n  let cursor = startTime;\n  while (cursor <= endTime && endTime >= date2.getTime()) {\n    result.push(new TZDate(date2));\n    cursor = cursor + step;\n    date2.addMilliseconds(step);\n  }\n  return result;\n}\nfunction clone(date2) {\n  return new TZDate(date2);\n}\nfunction compare(d1, d2) {\n  const _d1 = d1.getTime();\n  const _d2 = d2.getTime();\n  if (_d1 < _d2) {\n    return -1;\n  }\n  if (_d1 > _d2) {\n    return 1;\n  }\n  return 0;\n}\nfunction isSameYear(d1, d2) {\n  return d1.getFullYear() === d2.getFullYear();\n}\nfunction isSameMonth(d1, d2) {\n  return isSameYear(d1, d2) && d1.getMonth() === d2.getMonth();\n}\nfunction isSameDate(d1, d2) {\n  return isSameMonth(d1, d2) && d1.getDate() === d2.getDate();\n}\nfunction max(d1, d2) {\n  return compare(d1, d2) === 1 ? d1 : d2;\n}\nfunction min(d1, d2) {\n  return compare(d1, d2) === -1 ? d1 : d2;\n}\nfunction parse(str, fixMonth = -1) {\n  const matches = str.match(dateFormatRx);\n  let separator;\n  let ymd;\n  let hms;\n  if (!matches) {\n    throw new InvalidDateTimeFormatError(str);\n  }\n  if (str.length > 8) {\n    separator = ~str.indexOf(\"/\") ? \"/\" : \"-\";\n    const result = matches.splice(1);\n    ymd = result[0].split(separator);\n    hms = result[1] ? result[1].split(\":\") : [0, 0, 0];\n  } else {\n    const [result] = matches;\n    ymd = [result.substr(0, 4), result.substr(4, 2), result.substr(6, 2)];\n    hms = [0, 0, 0];\n  }\n  return new TZDate().setWithRaw(Number(ymd[0]), Number(ymd[1]) + fixMonth, Number(ymd[2]), Number(hms[0]), Number(hms[1]), Number(hms[2]), 0);\n}\nfunction toEndOfDay(date2) {\n  const d2 = date2 ? new TZDate(date2) : new TZDate();\n  d2.setHours(23, 59, 59, 999);\n  return d2;\n}\nfunction isWeekend(day) {\n  return day === 0 || day === 6;\n}\nfunction isSunday(day) {\n  return day === 0;\n}\nfunction isSaturday(day) {\n  return day === 6;\n}\nfunction toStartOfMonth(date2) {\n  const startDate = new TZDate(date2);\n  startDate.setDate(1);\n  startDate.setHours(0, 0, 0, 0);\n  return startDate;\n}\nfunction toEndOfMonth(date2) {\n  const endDate = toStartOfMonth(date2);\n  endDate.setMonth(endDate.getMonth() + 1);\n  endDate.setDate(endDate.getDate() - 1);\n  endDate.setHours(23, 59, 59, 999);\n  return endDate;\n}\nfunction getRowStyleInfo(days, narrowWeekend, startDayOfWeek, workweek) {\n  const limitDaysToApplyNarrowWeekend = 5;\n  const uniformWidth = 100 / days;\n  const wideWidth = days > limitDaysToApplyNarrowWeekend ? 100 / (days - 1) : uniformWidth;\n  let accumulatedWidth = 0;\n  const dates = range_1(startDayOfWeek, WEEK_DAYS).concat(range_1(days)).slice(0, WEEK_DAYS);\n  narrowWeekend = workweek ? false : narrowWeekend;\n  const rowStyleInfo = dates.map((day) => {\n    let width = narrowWeekend ? wideWidth : uniformWidth;\n    if (days > limitDaysToApplyNarrowWeekend && narrowWeekend && isWeekend(day)) {\n      width = wideWidth / 2;\n    }\n    const model = {\n      width,\n      left: accumulatedWidth\n    };\n    accumulatedWidth += width;\n    return model;\n  });\n  const { length } = rowStyleInfo;\n  const cellWidthMap = fill(length, fill(length, 0));\n  rowStyleInfo.forEach(({ width }, index) => {\n    for (let i2 = 0; i2 <= index; i2 += 1) {\n      for (let j2 = index; j2 < length; j2 += 1) {\n        cellWidthMap[i2][j2] += width;\n      }\n    }\n  });\n  cellWidthMap[0][length - 1] = 100;\n  return {\n    rowStyleInfo,\n    cellWidthMap: cellWidthMap.map((widthList) => widthList.map(toPercent))\n  };\n}\nfunction addMilliseconds(d2, step) {\n  const date2 = clone(d2);\n  date2.setMilliseconds(d2.getMilliseconds() + step);\n  return date2;\n}\nfunction addMinutes(d2, step) {\n  const date2 = clone(d2);\n  date2.setMinutes(d2.getMinutes() + step);\n  return date2;\n}\nfunction setTimeStrToDate(d2, timeStr) {\n  const date2 = clone(d2);\n  date2.setHours(...timeStr.split(\":\").map(Number));\n  return date2;\n}\nfunction addDate(d2, step) {\n  const date2 = clone(d2);\n  date2.setDate(d2.getDate() + step);\n  return date2;\n}\nfunction subtractDate(d2, steps) {\n  const date2 = clone(d2);\n  date2.setDate(d2.getDate() - steps);\n  return date2;\n}\nfunction addMonths(d2, step = 1) {\n  const date2 = clone(d2);\n  if (step !== 0) {\n    const dayOfMonth = date2.getDate();\n    const endOfDesiredMonth = new TZDate(date2.getTime());\n    endOfDesiredMonth.setMonth(date2.getMonth() + step + 1, 0);\n    const daysInMonth = endOfDesiredMonth.getDate();\n    if (dayOfMonth >= daysInMonth) {\n      return endOfDesiredMonth;\n    }\n    date2.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n  }\n  return date2;\n}\nfunction getDateDifference(d1, d2) {\n  const _d1 = new TZDate(d1.getFullYear(), d1.getMonth(), d1.getDate()).getTime();\n  const _d2 = new TZDate(d2.getFullYear(), d2.getMonth(), d2.getDate()).getTime();\n  return Math.round((_d1 - _d2) / MS_PER_DAY);\n}\nfunction hasCollision(start, end, targetStart, targetEnd) {\n  return targetStart > start && targetStart < end || targetEnd > start && targetEnd < end || targetStart <= start && targetEnd >= end;\n}\nfunction collidesWith({\n  start,\n  end,\n  targetStart,\n  targetEnd,\n  goingDuration,\n  comingDuration,\n  targetGoingDuration,\n  targetComingDuration,\n  usingTravelTime\n}) {\n  if (Math.abs(end - start) < MS_EVENT_MIN_DURATION) {\n    end += MS_EVENT_MIN_DURATION;\n  }\n  if (Math.abs(end - start) < MS_EVENT_MIN_DURATION) {\n    end += MS_EVENT_MIN_DURATION;\n  }\n  if (usingTravelTime) {\n    start -= millisecondsFrom(\"minute\", goingDuration);\n    end += millisecondsFrom(\"minute\", comingDuration);\n    targetStart -= millisecondsFrom(\"minute\", targetGoingDuration);\n    targetEnd += millisecondsFrom(\"minute\", targetComingDuration);\n  }\n  return hasCollision(start, end, targetStart, targetEnd);\n}\nfunction isSameEvent(event, eventId, calendarId) {\n  return event.id === eventId && event.calendarId === calendarId;\n}\nfunction idGenerator() {\n  let id = 0;\n  return {\n    next() {\n      id += 1;\n      return id;\n    }\n  };\n}\nconst getId = function() {\n  const generator = idGenerator();\n  return () => generator.next();\n}();\nfunction stamp(obj) {\n  if (!obj.__fe_id) {\n    obj.__fe_id = getId();\n  }\n  return obj.__fe_id;\n}\nclass EventModel {\n  constructor(event = {}) {\n    this.id = \"\";\n    this.calendarId = \"\";\n    this.title = \"\";\n    this.body = \"\";\n    this.isAllday = false;\n    this.start = new TZDate();\n    this.end = new TZDate();\n    this.goingDuration = 0;\n    this.comingDuration = 0;\n    this.location = \"\";\n    this.attendees = [];\n    this.category = \"time\";\n    this.dueDateClass = \"\";\n    this.recurrenceRule = \"\";\n    this.state = \"Busy\";\n    this.isVisible = true;\n    this.isPending = false;\n    this.isFocused = false;\n    this.isReadOnly = false;\n    this.isPrivate = false;\n    this.customStyle = {};\n    this.raw = null;\n    this.hasMultiDates = false;\n    stamp(this);\n    this.init(event);\n  }\n  init({\n    id = \"\",\n    calendarId = \"\",\n    title = \"\",\n    body = \"\",\n    isAllday: isAllday2 = false,\n    start = new TZDate(),\n    end = new TZDate(),\n    goingDuration = 0,\n    comingDuration = 0,\n    location: location2 = \"\",\n    attendees = [],\n    category = \"time\",\n    dueDateClass = \"\",\n    recurrenceRule = \"\",\n    state = \"Busy\",\n    isVisible = true,\n    isPending = false,\n    isFocused = false,\n    isReadOnly = false,\n    isPrivate = false,\n    color,\n    backgroundColor,\n    dragBackgroundColor,\n    borderColor,\n    customStyle = {},\n    raw = null\n  } = {}) {\n    this.id = id;\n    this.calendarId = calendarId;\n    this.title = title;\n    this.body = body;\n    this.isAllday = category === \"allday\" ? true : isAllday2;\n    this.goingDuration = goingDuration;\n    this.comingDuration = comingDuration;\n    this.location = location2;\n    this.attendees = attendees;\n    this.category = category;\n    this.dueDateClass = dueDateClass;\n    this.recurrenceRule = recurrenceRule;\n    this.state = state;\n    this.isVisible = isVisible;\n    this.isPending = isPending;\n    this.isFocused = isFocused;\n    this.isReadOnly = isReadOnly;\n    this.isPrivate = isPrivate;\n    this.color = color;\n    this.backgroundColor = backgroundColor;\n    this.dragBackgroundColor = dragBackgroundColor;\n    this.borderColor = borderColor;\n    this.customStyle = customStyle;\n    this.raw = raw;\n    if (this.isAllday) {\n      this.setAlldayPeriod(start, end);\n    } else {\n      this.setTimePeriod(start, end);\n    }\n    if (category === \"milestone\" || category === \"task\") {\n      this.start = new TZDate(this.end);\n    }\n  }\n  setAlldayPeriod(start, end) {\n    let startedAt;\n    let endedAt;\n    if (isString_1(start)) {\n      startedAt = parse(start.substring(0, 10));\n    } else {\n      startedAt = new TZDate(start || Date.now());\n    }\n    if (isString_1(end)) {\n      endedAt = parse(end.substring(0, 10));\n    } else {\n      endedAt = new TZDate(end || this.start);\n    }\n    this.start = startedAt;\n    this.start.setHours(0, 0, 0);\n    this.end = endedAt || new TZDate(this.start);\n    this.end.setHours(23, 59, 59);\n  }\n  setTimePeriod(start, end) {\n    this.start = new TZDate(start || Date.now());\n    this.end = new TZDate(end || this.start);\n    if (!end) {\n      this.end.setMinutes(this.end.getMinutes() + 30);\n    }\n    this.hasMultiDates = this.end.getTime() - this.start.getTime() > MS_PER_DAY;\n  }\n  getStarts() {\n    return this.start;\n  }\n  getEnds() {\n    return this.end;\n  }\n  cid() {\n    return stamp(this);\n  }\n  equals(event) {\n    if (this.id !== event.id) {\n      return false;\n    }\n    if (this.title !== event.title) {\n      return false;\n    }\n    if (this.body !== event.body) {\n      return false;\n    }\n    if (this.isAllday !== event.isAllday) {\n      return false;\n    }\n    if (compare(this.getStarts(), event.getStarts()) !== 0) {\n      return false;\n    }\n    if (compare(this.getEnds(), event.getEnds()) !== 0) {\n      return false;\n    }\n    if (this.color !== event.color) {\n      return false;\n    }\n    if (this.backgroundColor !== event.backgroundColor) {\n      return false;\n    }\n    if (this.dragBackgroundColor !== event.dragBackgroundColor) {\n      return false;\n    }\n    if (this.borderColor !== event.borderColor) {\n      return false;\n    }\n    return true;\n  }\n  duration() {\n    const start = Number(this.getStarts());\n    const end = Number(this.getEnds());\n    let duration;\n    if (this.isAllday) {\n      duration = Number(toEndOfDay(end)) - Number(toStartOfDay(start));\n    } else {\n      duration = end - start;\n    }\n    return duration;\n  }\n  valueOf() {\n    return this;\n  }\n  collidesWith(event, usingTravelTime = true) {\n    event = event instanceof EventUIModel ? event.model : event;\n    return collidesWith({\n      start: Number(this.getStarts()),\n      end: Number(this.getEnds()),\n      targetStart: Number(event.getStarts()),\n      targetEnd: Number(event.getEnds()),\n      goingDuration: this.goingDuration,\n      comingDuration: this.comingDuration,\n      targetGoingDuration: event.goingDuration,\n      targetComingDuration: event.comingDuration,\n      usingTravelTime\n    });\n  }\n  toEventObject() {\n    return {\n      id: this.id,\n      calendarId: this.calendarId,\n      __cid: this.cid(),\n      title: this.title,\n      body: this.body,\n      isAllday: this.isAllday,\n      start: this.start,\n      end: this.end,\n      goingDuration: this.goingDuration,\n      comingDuration: this.comingDuration,\n      location: this.location,\n      attendees: this.attendees,\n      category: this.category,\n      dueDateClass: this.dueDateClass,\n      recurrenceRule: this.recurrenceRule,\n      state: this.state,\n      isVisible: this.isVisible,\n      isPending: this.isPending,\n      isFocused: this.isFocused,\n      isReadOnly: this.isReadOnly,\n      isPrivate: this.isPrivate,\n      color: this.color,\n      backgroundColor: this.backgroundColor,\n      dragBackgroundColor: this.dragBackgroundColor,\n      borderColor: this.borderColor,\n      customStyle: this.customStyle,\n      raw: this.raw\n    };\n  }\n  getColors() {\n    return {\n      color: this.color,\n      backgroundColor: this.backgroundColor,\n      dragBackgroundColor: this.dragBackgroundColor,\n      borderColor: this.borderColor\n    };\n  }\n}\nEventModel.schema = {\n  required: [\"title\"],\n  dateRange: [\"start\", \"end\"]\n};\nfunction isTimeEvent({ model }) {\n  const { category, isAllday: isAllday2, hasMultiDates } = model;\n  return category === \"time\" && !isAllday2 && !hasMultiDates;\n}\nclass Collection {\n  constructor(getItemIDFn) {\n    this.internalMap = /* @__PURE__ */ new Map();\n    if (isFunction$2(getItemIDFn)) {\n      this.getItemID = getItemIDFn;\n    }\n  }\n  static and(...filterFns) {\n    const { length } = filterFns;\n    return (item) => {\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        if (!filterFns[i2].call(null, item)) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n  static or(...filterFns) {\n    const { length } = filterFns;\n    if (!length) {\n      return () => false;\n    }\n    return (item) => {\n      let result = filterFns[0].call(null, item);\n      for (let i2 = 1; i2 < length; i2 += 1) {\n        result = result || filterFns[i2].call(null, item);\n      }\n      return result;\n    };\n  }\n  getItemID(item) {\n    var _a;\n    return (_a = item == null ? void 0 : item._id) != null ? _a : \"\";\n  }\n  getFirstItem() {\n    const iterator = this.internalMap.values();\n    return iterator.next().value;\n  }\n  add(...items) {\n    items.forEach((item) => {\n      const id = this.getItemID(item);\n      this.internalMap.set(id, item);\n    });\n    return this;\n  }\n  remove(...items) {\n    const removeResult = [];\n    items.forEach((item) => {\n      const id = isString_1(item) || isNumber_1(item) ? item : this.getItemID(item);\n      if (!this.internalMap.has(id)) {\n        return;\n      }\n      removeResult.push(this.internalMap.get(id));\n      this.internalMap[\"delete\"](id);\n    });\n    return removeResult.length === 1 ? removeResult[0] : removeResult;\n  }\n  has(item) {\n    const id = isString_1(item) || isNumber_1(item) ? item : this.getItemID(item);\n    return this.internalMap.has(id);\n  }\n  get(item) {\n    var _a;\n    const id = isString_1(item) || isNumber_1(item) ? item : this.getItemID(item);\n    return (_a = this.internalMap.get(id)) != null ? _a : null;\n  }\n  doWhenHas(id, callback) {\n    const item = this.internalMap.get(id);\n    if (isNil(item)) {\n      return;\n    }\n    callback(item);\n  }\n  filter(filterFn) {\n    const result = new Collection();\n    if (this.hasOwnProperty(\"getItemID\")) {\n      result.getItemID = this.getItemID;\n    }\n    this.internalMap.forEach((item) => {\n      if (filterFn(item) === true) {\n        result.add(item);\n      }\n    });\n    return result;\n  }\n  groupBy(groupByFn) {\n    const result = {};\n    this.internalMap.forEach((item) => {\n      var _a;\n      let key = isFunction$2(groupByFn) ? groupByFn(item) : item[groupByFn];\n      if (isFunction$2(key)) {\n        key = key.call(item);\n      }\n      (_a = result[key]) != null ? _a : result[key] = new Collection(this.getItemID);\n      result[key].add(item);\n    });\n    return result;\n  }\n  find(findFn) {\n    let result = null;\n    const items = this.internalMap.values();\n    let next = items.next();\n    while (next.done === false) {\n      if (findFn(next.value)) {\n        result = next.value;\n        break;\n      }\n      next = items.next();\n    }\n    return result;\n  }\n  sort(compareFn) {\n    return this.toArray().sort(compareFn);\n  }\n  each(iteratee) {\n    const entries = this.internalMap.entries();\n    let next = entries.next();\n    while (next.done === false) {\n      const [key, value] = next.value;\n      if (iteratee(value, key) === false) {\n        break;\n      }\n      next = entries.next();\n    }\n  }\n  clear() {\n    this.internalMap.clear();\n  }\n  toArray() {\n    return Array.from(this.internalMap.values());\n  }\n  get size() {\n    return this.internalMap.size;\n  }\n}\nfunction createEventCollection(...initItems) {\n  const collection = new Collection((event) => event.cid());\n  if (initItems.length) {\n    collection.add(...initItems);\n  }\n  return collection;\n}\nfunction getDateRange(start, end) {\n  return makeDateRange(toStartOfDay(start), toEndOfDay(end), MS_PER_DAY);\n}\nfunction isAllday(event) {\n  return event.isAllday || event.category === \"time\" && Number(event.end) - Number(event.start) > MS_PER_DAY;\n}\nfunction filterByCategory(uiModel) {\n  const { model } = uiModel;\n  if (isAllday(model)) {\n    return \"allday\";\n  }\n  return model.category;\n}\nfunction addToMatrix(idsOfDay, event) {\n  const containDates = getDateRange(event.getStarts(), event.getEnds());\n  containDates.forEach((date2) => {\n    const ymd = toFormat(date2, \"YYYYMMDD\");\n    const matrix = idsOfDay[ymd] = idsOfDay[ymd] || [];\n    matrix.push(event.cid());\n  });\n}\nfunction removeFromMatrix(idsOfDay, event) {\n  const modelID = event.cid();\n  Object.values(idsOfDay).forEach((ids) => {\n    const index = ids.indexOf(modelID);\n    if (~index) {\n      ids.splice(index, 1);\n    }\n  });\n}\nfunction addEvent(calendarData, event) {\n  calendarData.events.add(event);\n  addToMatrix(calendarData.idsOfDay, event);\n  return event;\n}\nfunction createEvent(calendarData, eventData) {\n  const event = new EventModel(eventData);\n  return addEvent(calendarData, event);\n}\nfunction createEvents(calendarData, events = []) {\n  return events.map((eventData) => createEvent(calendarData, eventData));\n}\nfunction updateEvent(calendarData, eventId, calendarId, eventData) {\n  const { idsOfDay } = calendarData;\n  const event = calendarData.events.find((item) => isSameEvent(item, eventId, calendarId));\n  if (!event) {\n    return false;\n  }\n  event.init(__spreadValues(__spreadValues({}, event), eventData));\n  removeFromMatrix(idsOfDay, event);\n  addToMatrix(idsOfDay, event);\n  return true;\n}\nfunction deleteEvent(calendarData, event) {\n  removeFromMatrix(calendarData.idsOfDay, event);\n  calendarData.events.remove(event);\n  return event;\n}\nfunction clearEvents(calendarData) {\n  calendarData.idsOfDay = {};\n  calendarData.events.clear();\n}\nfunction createCalendarSlice(calendars = []) {\n  return {\n    calendar: {\n      calendars,\n      events: createEventCollection(),\n      idsOfDay: {}\n    }\n  };\n}\nfunction createCalendarDispatchers(set) {\n  return {\n    createEvents: (events) => set(produce((state) => {\n      createEvents(state.calendar, events);\n    })),\n    updateEvent: ({ event, eventData }) => set(produce((state) => {\n      updateEvent(state.calendar, event.id, event.calendarId, eventData);\n    })),\n    deleteEvent: (event) => set(produce((state) => {\n      deleteEvent(state.calendar, event);\n    })),\n    clearEvents: () => set(produce((state) => {\n      clearEvents(state.calendar);\n    })),\n    setCalendars: (calendars) => set(produce((state) => {\n      state.calendar.calendars = calendars;\n    })),\n    setCalendarColor: (calendarId, colorOptions) => set(produce((state) => {\n      const calendars = state.calendar.calendars.map((calendar) => {\n        if (calendar.id === calendarId) {\n          return __spreadValues(__spreadValues({}, calendar), colorOptions);\n        }\n        return calendar;\n      });\n      const events = state.calendar.events.toArray().map((event) => {\n        var _a, _b, _c, _d;\n        if (event.calendarId === calendarId) {\n          event.color = (_a = colorOptions.color) != null ? _a : event.color;\n          event.backgroundColor = (_b = colorOptions.backgroundColor) != null ? _b : event.backgroundColor;\n          event.borderColor = (_c = colorOptions.borderColor) != null ? _c : event.borderColor;\n          event.dragBackgroundColor = (_d = colorOptions.dragBackgroundColor) != null ? _d : event.dragBackgroundColor;\n        }\n        return event;\n      });\n      const collection = createEventCollection(...events);\n      state.calendar.calendars = calendars;\n      state.calendar.events = collection;\n    })),\n    setCalendarVisibility: (calendarIds, isVisible) => set(produce((state) => {\n      const events = state.calendar.events.toArray();\n      state.calendar.events = createEventCollection(...events.map((event) => {\n        if (calendarIds.includes(event.calendarId)) {\n          event.isVisible = isVisible;\n        }\n        return event;\n      }));\n    }))\n  };\n}\nvar DraggingState = /* @__PURE__ */ ((DraggingState2) => {\n  DraggingState2[DraggingState2[\"IDLE\"] = 0] = \"IDLE\";\n  DraggingState2[DraggingState2[\"INIT\"] = 1] = \"INIT\";\n  DraggingState2[DraggingState2[\"DRAGGING\"] = 2] = \"DRAGGING\";\n  DraggingState2[DraggingState2[\"CANCELED\"] = 3] = \"CANCELED\";\n  return DraggingState2;\n})(DraggingState || {});\nfunction createDndSlice() {\n  return {\n    dnd: {\n      draggingItemType: null,\n      draggingState: 0,\n      initX: null,\n      initY: null,\n      x: null,\n      y: null,\n      draggingEventUIModel: null\n    }\n  };\n}\nfunction createDndDispatchers(set) {\n  return {\n    initDrag: (initState) => {\n      set(produce((state) => {\n        state.dnd = __spreadProps(__spreadValues(__spreadValues({}, state.dnd), initState), {\n          draggingState: 1\n        });\n      }));\n    },\n    setDragging: (newState) => {\n      set(produce((state) => {\n        state.dnd = __spreadProps(__spreadValues(__spreadValues({}, state.dnd), newState), {\n          draggingState: 2\n        });\n      }));\n    },\n    cancelDrag: () => {\n      set(produce((state) => {\n        state.dnd = createDndSlice().dnd;\n        state.dnd.draggingState = 3;\n      }));\n    },\n    reset: () => {\n      set(produce((state) => {\n        state.dnd = createDndSlice().dnd;\n      }));\n    },\n    setDraggingEventUIModel: (eventUIModel) => {\n      set(produce((state) => {\n        var _a;\n        state.dnd.draggingEventUIModel = (_a = eventUIModel == null ? void 0 : eventUIModel.clone()) != null ? _a : null;\n      }));\n    }\n  };\n}\nfunction createGridSelectionSlice() {\n  return {\n    gridSelection: {\n      dayGridMonth: null,\n      dayGridWeek: null,\n      timeGrid: null,\n      accumulated: {\n        dayGridMonth: []\n      }\n    }\n  };\n}\nfunction createGridSelectionDispatchers(set) {\n  return {\n    setGridSelection: (type, gridSelection) => {\n      set(produce((state) => {\n        state.gridSelection[type] = gridSelection;\n      }));\n    },\n    addGridSelection: (type, gridSelection) => {\n      set(produce((state) => {\n        if (type === \"dayGridMonth\" && gridSelection) {\n          state.gridSelection.accumulated[type] = [\n            ...state.gridSelection.accumulated[type],\n            gridSelection\n          ];\n          state.gridSelection.dayGridMonth = null;\n        }\n      }));\n    },\n    clearAll: () => set(produce((state) => {\n      state.gridSelection = createGridSelectionSlice().gridSelection;\n    }))\n  };\n}\nconst DEFAULT_RESIZER_LENGTH = 3;\nconst DEFAULT_DUPLICATE_EVENT_CID = -1;\nfunction getRestPanelHeight(dayGridRowsState, lastPanelType, initHeight) {\n  return Object.keys(dayGridRowsState).reduce((acc, rowName) => {\n    if (rowName === lastPanelType) {\n      return acc;\n    }\n    return acc - dayGridRowsState[rowName].height - DEFAULT_RESIZER_LENGTH;\n  }, initHeight);\n}\nfunction createWeekViewLayoutSlice() {\n  return {\n    layout: 500,\n    weekViewLayout: {\n      lastPanelType: null,\n      dayGridRows: {},\n      selectedDuplicateEventCid: DEFAULT_DUPLICATE_EVENT_CID\n    }\n  };\n}\nfunction createWeekViewLayoutDispatchers(set) {\n  return {\n    setLastPanelType: (type) => {\n      set(produce((state) => {\n        state.weekViewLayout.lastPanelType = type;\n        if (type) {\n          state.weekViewLayout.dayGridRows[type].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, type, state.layout);\n        }\n      }));\n    },\n    updateLayoutHeight: (height) => set(produce((state) => {\n      const { lastPanelType } = state.weekViewLayout;\n      state.layout = height;\n      if (lastPanelType) {\n        state.weekViewLayout.dayGridRows[lastPanelType].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, lastPanelType, height);\n      }\n    })),\n    updateDayGridRowHeight: ({ rowName, height }) => set(produce((state) => {\n      const { lastPanelType } = state.weekViewLayout;\n      state.weekViewLayout.dayGridRows[rowName] = { height };\n      if (lastPanelType) {\n        state.weekViewLayout.dayGridRows[lastPanelType].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, lastPanelType, state.layout);\n      }\n    })),\n    updateDayGridRowHeightByDiff: ({ rowName, diff }) => set(produce((state) => {\n      var _a, _b, _c;\n      const { lastPanelType } = state.weekViewLayout;\n      const height = (_c = (_b = (_a = state.weekViewLayout.dayGridRows) == null ? void 0 : _a[rowName]) == null ? void 0 : _b.height) != null ? _c : DEFAULT_PANEL_HEIGHT;\n      state.weekViewLayout.dayGridRows[rowName] = { height: height + diff };\n      if (lastPanelType) {\n        state.weekViewLayout.dayGridRows[lastPanelType].height = getRestPanelHeight(state.weekViewLayout.dayGridRows, lastPanelType, state.layout);\n      }\n    })),\n    setSelectedDuplicateEventCid: (cid) => set(produce((state) => {\n      state.weekViewLayout.selectedDuplicateEventCid = cid != null ? cid : DEFAULT_DUPLICATE_EVENT_CID;\n    }))\n  };\n}\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst DEFAULT_DAY_NAMES = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\nconst getDayName = (dayIndex) => {\n  return DEFAULT_DAY_NAMES[dayIndex];\n};\nfunction getDayNames(days, weekDayNamesOption) {\n  return days.map((day) => {\n    const dayIndex = day.getDay();\n    const dayName = weekDayNamesOption.length > 0 ? weekDayNamesOption[dayIndex] : capitalize(getDayName(dayIndex));\n    return {\n      date: day.getDate(),\n      day: day.getDay(),\n      dayName,\n      isToday: true,\n      renderDate: \"date\",\n      dateInstance: day\n    };\n  });\n}\nfunction initializeCollapseDuplicateEvents(options) {\n  if (!options) {\n    return false;\n  }\n  const initialCollapseDuplicateEvents = {\n    getDuplicateEvents: (targetEvent, events) => events.filter((event) => event.title === targetEvent.title && compare(event.start, targetEvent.start) === 0 && compare(event.end, targetEvent.end) === 0).sort((a2, b2) => a2.calendarId > b2.calendarId ? 1 : -1),\n    getMainEvent: (events) => last(events)\n  };\n  if (isBoolean_1(options)) {\n    return initialCollapseDuplicateEvents;\n  }\n  return __spreadValues(__spreadValues({}, initialCollapseDuplicateEvents), options);\n}\nfunction initializeWeekOptions(weekOptions = {}) {\n  const week = __spreadValues({\n    startDayOfWeek: Day$2.SUN,\n    dayNames: [],\n    narrowWeekend: false,\n    workweek: false,\n    showNowIndicator: true,\n    showTimezoneCollapseButton: false,\n    timezonesCollapsed: false,\n    hourStart: 0,\n    hourEnd: 24,\n    eventView: true,\n    taskView: true,\n    collapseDuplicateEvents: false\n  }, weekOptions);\n  week.collapseDuplicateEvents = initializeCollapseDuplicateEvents(week.collapseDuplicateEvents);\n  return week;\n}\nfunction initializeTimezoneOptions(timezoneOptions = {}) {\n  return __spreadValues({\n    zones: []\n  }, timezoneOptions);\n}\nfunction initializeMonthOptions(monthOptions = {}) {\n  const month = __spreadValues({\n    dayNames: [],\n    visibleWeeksCount: 0,\n    workweek: false,\n    narrowWeekend: false,\n    startDayOfWeek: Day$2.SUN,\n    isAlways6Weeks: true,\n    visibleEventCount: 6\n  }, monthOptions);\n  if (month.dayNames.length === 0) {\n    month.dayNames = DEFAULT_DAY_NAMES.slice();\n  }\n  return month;\n}\nfunction initializeGridSelectionOptions(options) {\n  if (isBoolean_1(options)) {\n    return {\n      enableDblClick: options,\n      enableClick: options\n    };\n  }\n  return __spreadValues({\n    enableDblClick: true,\n    enableClick: true\n  }, options);\n}\nconst initialEventFilter = (event) => !!event.isVisible;\nfunction createOptionsSlice(options = {}) {\n  var _a, _b, _c, _d, _e, _f;\n  return {\n    options: {\n      defaultView: (_a = options.defaultView) != null ? _a : \"week\",\n      useFormPopup: (_b = options.useFormPopup) != null ? _b : false,\n      useDetailPopup: (_c = options.useDetailPopup) != null ? _c : false,\n      isReadOnly: (_d = options.isReadOnly) != null ? _d : false,\n      week: initializeWeekOptions(options.week),\n      month: initializeMonthOptions(options.month),\n      gridSelection: initializeGridSelectionOptions(options.gridSelection),\n      usageStatistics: (_e = options.usageStatistics) != null ? _e : true,\n      eventFilter: (_f = options.eventFilter) != null ? _f : initialEventFilter,\n      timezone: initializeTimezoneOptions(options.timezone)\n    }\n  };\n}\nfunction createOptionsDispatchers(set) {\n  return {\n    setOptions: (newOptions = {}) => set(produce((state) => {\n      var _a;\n      if (newOptions.gridSelection) {\n        newOptions.gridSelection = initializeGridSelectionOptions(newOptions.gridSelection);\n      }\n      if ((_a = newOptions.week) == null ? void 0 : _a.collapseDuplicateEvents) {\n        newOptions.week.collapseDuplicateEvents = initializeCollapseDuplicateEvents(newOptions.week.collapseDuplicateEvents);\n      }\n      mergeObject(state.options, newOptions);\n    }))\n  };\n}\nvar PopupType = /* @__PURE__ */ ((PopupType2) => {\n  PopupType2[\"SeeMore\"] = \"seeMore\";\n  PopupType2[\"Form\"] = \"form\";\n  PopupType2[\"Detail\"] = \"detail\";\n  return PopupType2;\n})(PopupType || {});\nfunction createPopupSlice() {\n  return {\n    popup: {\n      [\"seeMore\"]: null,\n      [\"form\"]: null,\n      [\"detail\"]: null\n    }\n  };\n}\nfunction createPopupDispatchers(set) {\n  return {\n    showSeeMorePopup: (param) => set(produce((state) => {\n      state.popup[\"seeMore\"] = param;\n      state.popup[\"form\"] = null;\n      state.popup[\"detail\"] = null;\n    })),\n    showFormPopup: (param) => set(produce((state) => {\n      state.popup[\"form\"] = param;\n      state.popup[\"seeMore\"] = null;\n      state.popup[\"detail\"] = null;\n    })),\n    showDetailPopup: (param, isOpenedInSeeMorePopup) => set(produce((state) => {\n      state.popup[\"detail\"] = param;\n      state.popup[\"form\"] = null;\n      if (!isOpenedInSeeMorePopup) {\n        state.popup[\"seeMore\"] = null;\n      }\n    })),\n    hideSeeMorePopup: () => set(produce((state) => {\n      state.popup[\"seeMore\"] = null;\n    })),\n    hideFormPopup: () => set(produce((state) => {\n      state.popup[\"form\"] = null;\n    })),\n    hideDetailPopup: () => set(produce((state) => {\n      state.popup[\"detail\"] = null;\n    })),\n    hideAllPopup: () => set(produce((state) => {\n      state.popup[\"seeMore\"] = null;\n      state.popup[\"form\"] = null;\n      state.popup[\"detail\"] = null;\n    }))\n  };\n}\nconst noop = () => {\n};\nconst CSS_AUTO_REGEX = /^auto$|^$|%/;\nfunction getStyle(el, style) {\n  let value = el.style[style];\n  if ((!value || value === \"auto\") && document.defaultView) {\n    const css = document.defaultView.getComputedStyle(el, null);\n    value = css ? css[style] : null;\n  }\n  return value === \"auto\" ? null : value;\n}\nfunction invalidateSizeValue(value) {\n  if (isString_1(value)) {\n    return CSS_AUTO_REGEX.test(value);\n  }\n  return value === null;\n}\nfunction getSize(el) {\n  const w2 = getStyle(el, \"width\");\n  const h2 = getStyle(el, \"height\");\n  if ((invalidateSizeValue(w2) || invalidateSizeValue(h2)) && el.getBoundingClientRect) {\n    const { width, height } = el.getBoundingClientRect();\n    return {\n      width: width || el.offsetWidth,\n      height: height || el.offsetHeight\n    };\n  }\n  return {\n    width: parseFloat(w2 != null ? w2 : \"0\"),\n    height: parseFloat(h2 != null ? h2 : \"0\")\n  };\n}\nconst ElementClass = typeof Element === \"undefined\" ? noop : Element;\nconst elProto = ElementClass.prototype;\nelProto.matches || elProto.webkitMatchesSelector || elProto.msMatchesSelector || function(selector) {\n  return Array.from(document.querySelectorAll(selector)).includes(this);\n};\nfunction stripTags(str) {\n  return str.replace(/<([^>]+)>/gi, \"\");\n}\nconst SIXTY_MINUTES = 60;\nconst templates = {\n  milestone(model) {\n    const classNames2 = cls(\"icon\", \"ic-milestone\");\n    return /* @__PURE__ */ h$3(p$3, null, /* @__PURE__ */ h$3(\"span\", {\n      className: classNames2\n    }), /* @__PURE__ */ h$3(\"span\", {\n      style: {\n        backgroundColor: model.backgroundColor\n      }\n    }, stripTags(model.title)));\n  },\n  milestoneTitle() {\n    return /* @__PURE__ */ h$3(\"span\", {\n      className: cls(\"left-content\")\n    }, \"Milestone\");\n  },\n  task(model) {\n    return `#${model.title}`;\n  },\n  taskTitle() {\n    return /* @__PURE__ */ h$3(\"span\", {\n      className: cls(\"left-content\")\n    }, \"Task\");\n  },\n  alldayTitle() {\n    return /* @__PURE__ */ h$3(\"span\", {\n      className: cls(\"left-content\")\n    }, \"All Day\");\n  },\n  allday(model) {\n    return stripTags(model.title);\n  },\n  time(model) {\n    const { start, title } = model;\n    if (start) {\n      return /* @__PURE__ */ h$3(\"span\", null, /* @__PURE__ */ h$3(\"strong\", null, toFormat(start, \"HH:mm\")), \"\\xA0\", /* @__PURE__ */ h$3(\"span\", null, stripTags(title)));\n    }\n    return stripTags(title);\n  },\n  goingDuration(model) {\n    const { goingDuration } = model;\n    const hour = Math.floor(goingDuration / SIXTY_MINUTES);\n    const minutes = goingDuration % SIXTY_MINUTES;\n    return `GoingTime ${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  comingDuration(model) {\n    const { comingDuration } = model;\n    const hour = Math.floor(comingDuration / SIXTY_MINUTES);\n    const minutes = comingDuration % SIXTY_MINUTES;\n    return `ComingTime ${leadingZero(hour, 2)}:${leadingZero(minutes, 2)}`;\n  },\n  monthMoreTitleDate(moreTitle) {\n    const { date: date2, day } = moreTitle;\n    const classNameDay = cls(\"more-title-date\");\n    const classNameDayLabel = cls(\"more-title-day\");\n    const dayName = capitalize(getDayName(day));\n    return /* @__PURE__ */ h$3(p$3, null, /* @__PURE__ */ h$3(\"span\", {\n      className: classNameDay\n    }, date2), /* @__PURE__ */ h$3(\"span\", {\n      className: classNameDayLabel\n    }, dayName));\n  },\n  monthMoreClose() {\n    return \"\";\n  },\n  monthGridHeader(model) {\n    const date2 = parseInt(model.date.split(\"-\")[2], 10);\n    const classNames2 = cls(\"weekday-grid-date\", { \"weekday-grid-date-decorator\": model.isToday });\n    return /* @__PURE__ */ h$3(\"span\", {\n      className: classNames2\n    }, date2);\n  },\n  monthGridHeaderExceed(hiddenEvents) {\n    const className2 = cls(\"weekday-grid-more-events\");\n    return /* @__PURE__ */ h$3(\"span\", {\n      className: className2\n    }, hiddenEvents, \" more\");\n  },\n  monthGridFooter(_model) {\n    return \"\";\n  },\n  monthGridFooterExceed(_hiddenEvents) {\n    return \"\";\n  },\n  monthDayName(model) {\n    return model.label;\n  },\n  weekDayName(model) {\n    const classDate = cls(\"day-name__date\");\n    const className2 = cls(\"day-name__name\");\n    return /* @__PURE__ */ h$3(p$3, null, /* @__PURE__ */ h$3(\"span\", {\n      className: classDate\n    }, model.date), \"\\xA0\\xA0\", /* @__PURE__ */ h$3(\"span\", {\n      className: className2\n    }, model.dayName));\n  },\n  weekGridFooterExceed(hiddenEvents) {\n    return `+${hiddenEvents}`;\n  },\n  collapseBtnTitle() {\n    const className2 = cls(\"collapse-btn-icon\");\n    return /* @__PURE__ */ h$3(\"span\", {\n      className: className2\n    });\n  },\n  timezoneDisplayLabel({ displayLabel, timezoneOffset }) {\n    if (isNil(displayLabel) && isPresent(timezoneOffset)) {\n      const sign = timezoneOffset < 0 ? \"-\" : \"+\";\n      const hours = Math.abs(timezoneOffset / SIXTY_MINUTES);\n      const minutes = Math.abs(timezoneOffset % SIXTY_MINUTES);\n      return `GMT${sign}${leadingZero(hours, 2)}:${leadingZero(minutes, 2)}`;\n    }\n    return displayLabel;\n  },\n  timegridDisplayPrimaryTime(props) {\n    const { time } = props;\n    return toFormat(time, \"hh tt\");\n  },\n  timegridDisplayTime(props) {\n    const { time } = props;\n    return toFormat(time, \"HH:mm\");\n  },\n  timegridNowIndicatorLabel(timezone) {\n    const { time, format = \"HH:mm\" } = timezone;\n    return toFormat(time, format);\n  },\n  popupIsAllday() {\n    return \"All day\";\n  },\n  popupStateFree() {\n    return \"Free\";\n  },\n  popupStateBusy() {\n    return \"Busy\";\n  },\n  titlePlaceholder() {\n    return \"Subject\";\n  },\n  locationPlaceholder() {\n    return \"Location\";\n  },\n  startDatePlaceholder() {\n    return \"Start date\";\n  },\n  endDatePlaceholder() {\n    return \"End date\";\n  },\n  popupSave() {\n    return \"Save\";\n  },\n  popupUpdate() {\n    return \"Update\";\n  },\n  popupEdit() {\n    return \"Edit\";\n  },\n  popupDelete() {\n    return \"Delete\";\n  },\n  popupDetailTitle({ title }) {\n    return title;\n  },\n  popupDetailDate({ isAllday: isAllday2, start, end }) {\n    const dayFormat = \"YYYY.MM.DD\";\n    const timeFormat = \"hh:mm tt\";\n    const detailFormat = `${dayFormat} ${timeFormat}`;\n    const startDate = toFormat(start, isAllday2 ? dayFormat : timeFormat);\n    const endDateFormat = isSameDate(start, end) ? timeFormat : detailFormat;\n    if (isAllday2) {\n      return `${startDate}${isSameDate(start, end) ? \"\" : ` - ${toFormat(end, dayFormat)}`}`;\n    }\n    return `${toFormat(start, detailFormat)} - ${toFormat(end, endDateFormat)}`;\n  },\n  popupDetailLocation({ location: location2 }) {\n    return location2;\n  },\n  popupDetailAttendees({ attendees = [] }) {\n    return attendees.join(\", \");\n  },\n  popupDetailState({ state }) {\n    return state || \"Busy\";\n  },\n  popupDetailRecurrenceRule({ recurrenceRule }) {\n    return recurrenceRule;\n  },\n  popupDetailBody({ body }) {\n    return body;\n  }\n};\nfunction createTemplateSlice(templateConfig = {}) {\n  return {\n    template: __spreadValues(__spreadValues({}, templates), templateConfig)\n  };\n}\nfunction createTemplateDispatchers(set) {\n  return {\n    setTemplate: (template) => set(produce((state) => {\n      state.template = __spreadValues(__spreadValues({}, state.template), template);\n    }))\n  };\n}\nfunction createViewSlice(initialView = \"week\") {\n  const renderDate = new TZDate();\n  renderDate.setHours(0, 0, 0, 0);\n  return {\n    view: {\n      currentView: initialView,\n      renderDate\n    }\n  };\n}\nfunction createViewDispatchers(set) {\n  return {\n    changeView: (nextView) => set(produce((state) => {\n      state.view.currentView = nextView;\n    })),\n    setRenderDate: (date2) => set(produce((state) => {\n      state.view.renderDate = toStartOfDay(date2);\n    }))\n  };\n}\nconst isSSR = isUndefined_1(window) || !window.navigator;\nconst useIsomorphicLayoutEffect = isSSR ? _$2 : h$2;\nfunction createStoreContext() {\n  const StoreContext = B$1(null);\n  function StoreProvider2({\n    children,\n    store\n  }) {\n    return h$3(StoreContext.Provider, { value: store, children });\n  }\n  const useStore2 = (selector, equalityFn = Object.is) => {\n    const storeCtx = q$2(StoreContext);\n    if (isNil(storeCtx)) {\n      throw new Error(\"StoreProvider is not found\");\n    }\n    const [, notify] = d$2((notifyCount) => notifyCount + 1, 0);\n    const state = storeCtx.getState();\n    const stateRef = s$2(state);\n    const selectorRef = s$2(selector);\n    const equalityFnRef = s$2(equalityFn);\n    const hasErrorRef = s$2(false);\n    const currentSliceRef = s$2();\n    if (isUndefined_1(currentSliceRef.current)) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    const shouldGetNewSlice = stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || hasErrorRef.current;\n    if (shouldGetNewSlice) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      hasErrorRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = s$2(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = storeCtx.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          const shouldUpdateState = !equalityFnRef.current(currentSliceRef.current, nextStateSlice);\n          if (shouldUpdateState) {\n            stateRef.current = nextState;\n            currentSliceRef.current = newStateSlice;\n            notify();\n          }\n        } catch (e2) {\n          console.error(\"[toastui-calendar] failed to update state\", e2 == null ? void 0 : e2.message);\n          hasErrorRef.current = true;\n          notify();\n        }\n      };\n      const unsubscribe = storeCtx.subscribe(listener);\n      if (storeCtx.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n  };\n  const useInternalStore2 = () => {\n    const storeCtx = q$2(StoreContext);\n    if (isNil(storeCtx)) {\n      throw new Error(\"StoreProvider is not found\");\n    }\n    return F$2(() => storeCtx, [storeCtx]);\n  };\n  return {\n    StoreProvider: StoreProvider2,\n    useStore: useStore2,\n    useInternalStore: useInternalStore2\n  };\n}\nfunction createStore(storeCreator2) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partialStateCreator) => {\n    const nextState = partialStateCreator(state);\n    if (nextState !== state) {\n      const previousState = state;\n      state = __spreadValues(__spreadValues({}, state), nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener, selector, equalityFn) => {\n    let _listener = listener;\n    if (selector) {\n      let currentSlice = selector(state);\n      const _equalityFn = equalityFn != null ? equalityFn : Object.is;\n      _listener = () => {\n        const nextSlice = selector(state);\n        if (!_equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          currentSlice = nextSlice;\n          listener(currentSlice, previousSlice);\n        }\n      };\n    }\n    listeners.add(_listener);\n    return () => listeners.delete(_listener);\n  };\n  const clearListeners = () => listeners.clear();\n  const internal = { setState, getState, subscribe, clearListeners };\n  state = storeCreator2(setState, getState, internal);\n  return internal;\n}\nconst storeCreator = (options) => (set) => {\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, createOptionsSlice(options)), createTemplateSlice(options.template)), createPopupSlice()), createWeekViewLayoutSlice()), createCalendarSlice(options.calendars)), createViewSlice(options.defaultView)), createDndSlice()), createGridSelectionSlice()), {\n    dispatch: {\n      options: createOptionsDispatchers(set),\n      popup: createPopupDispatchers(set),\n      weekViewLayout: createWeekViewLayoutDispatchers(set),\n      calendar: createCalendarDispatchers(set),\n      view: createViewDispatchers(set),\n      dnd: createDndDispatchers(set),\n      gridSelection: createGridSelectionDispatchers(set),\n      template: createTemplateDispatchers(set)\n    }\n  });\n};\nconst initCalendarStore = (options = {}) => createStore(storeCreator(options));\nconst { StoreProvider, useStore, useInternalStore } = createStoreContext();\nfunction useDispatch(group) {\n  return useStore(T$1((state) => {\n    if (!group) {\n      return state.dispatch;\n    }\n    return state.dispatch[group];\n  }, [group]));\n}\nfunction topLevelStateSelector(group) {\n  return (state) => state[group];\n}\nconst calendarSelector = topLevelStateSelector(\"calendar\");\nconst weekViewLayoutSelector = topLevelStateSelector(\"weekViewLayout\");\nconst templateSelector = topLevelStateSelector(\"template\");\nconst viewSelector = topLevelStateSelector(\"view\");\nconst optionsSelector = topLevelStateSelector(\"options\");\nconst dndSelector = topLevelStateSelector(\"dnd\");\nvar purify = { exports: {} };\n/*! @license DOMPurify 2.3.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.8/LICENSE */\n(function(module, exports) {\n  (function(global2, factory) {\n    module.exports = factory();\n  })(commonjsGlobal, function() {\n    function _typeof(obj) {\n      \"@babel/helpers - typeof\";\n      return _typeof = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function(obj2) {\n        return typeof obj2;\n      } : function(obj2) {\n        return obj2 && typeof Symbol == \"function\" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o2, p2) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o3, p3) {\n        o3.__proto__ = p3;\n        return o3;\n      };\n      return _setPrototypeOf(o2, p2);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === \"undefined\" || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === \"function\")\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n        }));\n        return true;\n      } catch (e2) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct2(Parent2, args2, Class2) {\n          var a2 = [null];\n          a2.push.apply(a2, args2);\n          var Constructor2 = Function.bind.apply(Parent2, a2);\n          var instance = new Constructor2();\n          if (Class2)\n            _setPrototypeOf(instance, Class2.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o2, minLen) {\n      if (!o2)\n        return;\n      if (typeof o2 === \"string\")\n        return _arrayLikeToArray(o2, minLen);\n      var n2 = Object.prototype.toString.call(o2).slice(8, -1);\n      if (n2 === \"Object\" && o2.constructor)\n        n2 = o2.constructor.name;\n      if (n2 === \"Map\" || n2 === \"Set\")\n        return Array.from(o2);\n      if (n2 === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))\n        return _arrayLikeToArray(o2, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i2 = 0, arr2 = new Array(len); i2 < len; i2++)\n        arr2[i2] = arr[i2];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create = Object.create;\n    var _ref = typeof Reflect !== \"undefined\" && Reflect, apply = _ref.apply, construct = _ref.construct;\n    if (!apply) {\n      apply = function apply2(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze2(x2) {\n        return x2;\n      };\n    }\n    if (!seal) {\n      seal = function seal2(x2) {\n        return x2;\n      };\n    }\n    if (!construct) {\n      construct = function construct2(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function(thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array2) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l2 = array2.length;\n      while (l2--) {\n        var element = array2[l2];\n        if (typeof element === \"string\") {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array2)) {\n              array2[l2] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone2(object) {\n      var newObject = create(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === \"function\") {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn(\"fallback value for\", element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\"a\", \"abbr\", \"acronym\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"bdi\", \"bdo\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"decorator\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"element\", \"em\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"img\", \"input\", \"ins\", \"kbd\", \"label\", \"legend\", \"li\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meter\", \"nav\", \"nobr\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"picture\", \"pre\", \"progress\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"section\", \"select\", \"shadow\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\"]);\n    var svg$1 = freeze([\"svg\", \"a\", \"altglyph\", \"altglyphdef\", \"altglyphitem\", \"animatecolor\", \"animatemotion\", \"animatetransform\", \"circle\", \"clippath\", \"defs\", \"desc\", \"ellipse\", \"filter\", \"font\", \"g\", \"glyph\", \"glyphref\", \"hkern\", \"image\", \"line\", \"lineargradient\", \"marker\", \"mask\", \"metadata\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialgradient\", \"rect\", \"stop\", \"style\", \"switch\", \"symbol\", \"text\", \"textpath\", \"title\", \"tref\", \"tspan\", \"view\", \"vkern\"]);\n    var svgFilters = freeze([\"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\"]);\n    var svgDisallowed = freeze([\"animate\", \"color-profile\", \"cursor\", \"discard\", \"fedropshadow\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignobject\", \"hatch\", \"hatchpath\", \"mesh\", \"meshgradient\", \"meshpatch\", \"meshrow\", \"missing-glyph\", \"script\", \"set\", \"solidcolor\", \"unknown\", \"use\"]);\n    var mathMl$1 = freeze([\"math\", \"menclose\", \"merror\", \"mfenced\", \"mfrac\", \"mglyph\", \"mi\", \"mlabeledtr\", \"mmultiscripts\", \"mn\", \"mo\", \"mover\", \"mpadded\", \"mphantom\", \"mroot\", \"mrow\", \"ms\", \"mspace\", \"msqrt\", \"mstyle\", \"msub\", \"msup\", \"msubsup\", \"mtable\", \"mtd\", \"mtext\", \"mtr\", \"munder\", \"munderover\"]);\n    var mathMlDisallowed = freeze([\"maction\", \"maligngroup\", \"malignmark\", \"mlongdiv\", \"mscarries\", \"mscarry\", \"msgroup\", \"mstack\", \"msline\", \"msrow\", \"semantics\", \"annotation\", \"annotation-xml\", \"mprescripts\", \"none\"]);\n    var text = freeze([\"#text\"]);\n    var html = freeze([\"accept\", \"action\", \"align\", \"alt\", \"autocapitalize\", \"autocomplete\", \"autopictureinpicture\", \"autoplay\", \"background\", \"bgcolor\", \"border\", \"capture\", \"cellpadding\", \"cellspacing\", \"checked\", \"cite\", \"class\", \"clear\", \"color\", \"cols\", \"colspan\", \"controls\", \"controlslist\", \"coords\", \"crossorigin\", \"datetime\", \"decoding\", \"default\", \"dir\", \"disabled\", \"disablepictureinpicture\", \"disableremoteplayback\", \"download\", \"draggable\", \"enctype\", \"enterkeyhint\", \"face\", \"for\", \"headers\", \"height\", \"hidden\", \"high\", \"href\", \"hreflang\", \"id\", \"inputmode\", \"integrity\", \"ismap\", \"kind\", \"label\", \"lang\", \"list\", \"loading\", \"loop\", \"low\", \"max\", \"maxlength\", \"media\", \"method\", \"min\", \"minlength\", \"multiple\", \"muted\", \"name\", \"nonce\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"optimum\", \"pattern\", \"placeholder\", \"playsinline\", \"poster\", \"preload\", \"pubdate\", \"radiogroup\", \"readonly\", \"rel\", \"required\", \"rev\", \"reversed\", \"role\", \"rows\", \"rowspan\", \"spellcheck\", \"scope\", \"selected\", \"shape\", \"size\", \"sizes\", \"span\", \"srclang\", \"start\", \"src\", \"srcset\", \"step\", \"style\", \"summary\", \"tabindex\", \"title\", \"translate\", \"type\", \"usemap\", \"valign\", \"value\", \"width\", \"xmlns\", \"slot\"]);\n    var svg = freeze([\"accent-height\", \"accumulate\", \"additive\", \"alignment-baseline\", \"ascent\", \"attributename\", \"attributetype\", \"azimuth\", \"basefrequency\", \"baseline-shift\", \"begin\", \"bias\", \"by\", \"class\", \"clip\", \"clippathunits\", \"clip-path\", \"clip-rule\", \"color\", \"color-interpolation\", \"color-interpolation-filters\", \"color-profile\", \"color-rendering\", \"cx\", \"cy\", \"d\", \"dx\", \"dy\", \"diffuseconstant\", \"direction\", \"display\", \"divisor\", \"dur\", \"edgemode\", \"elevation\", \"end\", \"fill\", \"fill-opacity\", \"fill-rule\", \"filter\", \"filterunits\", \"flood-color\", \"flood-opacity\", \"font-family\", \"font-size\", \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-variant\", \"font-weight\", \"fx\", \"fy\", \"g1\", \"g2\", \"glyph-name\", \"glyphref\", \"gradientunits\", \"gradienttransform\", \"height\", \"href\", \"id\", \"image-rendering\", \"in\", \"in2\", \"k\", \"k1\", \"k2\", \"k3\", \"k4\", \"kerning\", \"keypoints\", \"keysplines\", \"keytimes\", \"lang\", \"lengthadjust\", \"letter-spacing\", \"kernelmatrix\", \"kernelunitlength\", \"lighting-color\", \"local\", \"marker-end\", \"marker-mid\", \"marker-start\", \"markerheight\", \"markerunits\", \"markerwidth\", \"maskcontentunits\", \"maskunits\", \"max\", \"mask\", \"media\", \"method\", \"mode\", \"min\", \"name\", \"numoctaves\", \"offset\", \"operator\", \"opacity\", \"order\", \"orient\", \"orientation\", \"origin\", \"overflow\", \"paint-order\", \"path\", \"pathlength\", \"patterncontentunits\", \"patterntransform\", \"patternunits\", \"points\", \"preservealpha\", \"preserveaspectratio\", \"primitiveunits\", \"r\", \"rx\", \"ry\", \"radius\", \"refx\", \"refy\", \"repeatcount\", \"repeatdur\", \"restart\", \"result\", \"rotate\", \"scale\", \"seed\", \"shape-rendering\", \"specularconstant\", \"specularexponent\", \"spreadmethod\", \"startoffset\", \"stddeviation\", \"stitchtiles\", \"stop-color\", \"stop-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\", \"stroke\", \"stroke-width\", \"style\", \"surfacescale\", \"systemlanguage\", \"tabindex\", \"targetx\", \"targety\", \"transform\", \"transform-origin\", \"text-anchor\", \"text-decoration\", \"text-rendering\", \"textlength\", \"type\", \"u1\", \"u2\", \"unicode\", \"values\", \"viewbox\", \"visibility\", \"version\", \"vert-adv-y\", \"vert-origin-x\", \"vert-origin-y\", \"width\", \"word-spacing\", \"wrap\", \"writing-mode\", \"xchannelselector\", \"ychannelselector\", \"x\", \"x1\", \"x2\", \"xmlns\", \"y\", \"y1\", \"y2\", \"z\", \"zoomandpan\"]);\n    var mathMl = freeze([\"accent\", \"accentunder\", \"align\", \"bevelled\", \"close\", \"columnsalign\", \"columnlines\", \"columnspan\", \"denomalign\", \"depth\", \"dir\", \"display\", \"displaystyle\", \"encoding\", \"fence\", \"frame\", \"height\", \"href\", \"id\", \"largeop\", \"length\", \"linethickness\", \"lspace\", \"lquote\", \"mathbackground\", \"mathcolor\", \"mathsize\", \"mathvariant\", \"maxsize\", \"minsize\", \"movablelimits\", \"notation\", \"numalign\", \"open\", \"rowalign\", \"rowlines\", \"rowspacing\", \"rowspan\", \"rspace\", \"rquote\", \"scriptlevel\", \"scriptminsize\", \"scriptsizemultiplier\", \"selection\", \"separator\", \"separators\", \"stretchy\", \"subscriptshift\", \"supscriptshift\", \"symmetric\", \"voffset\", \"width\", \"xmlns\"]);\n    var xml = freeze([\"xlink:href\", \"xml:id\", \"xlink:title\", \"xml:space\", \"xmlns:xlink\"]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal2() {\n      return typeof window === \"undefined\" ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy2(trustedTypes, document2) {\n      if (_typeof(trustedTypes) !== \"object\" || typeof trustedTypes.createPolicy !== \"function\") {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = \"data-tt-policy-suffix\";\n      if (document2.currentScript && document2.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document2.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = \"dompurify\" + (suffix ? \"#\" + suffix : \"\");\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html2) {\n            return html2;\n          }\n        });\n      } catch (_2) {\n        console.warn(\"TrustedTypes policy \" + policyName + \" could not be created.\");\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify2(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = \"2.3.8\";\n      DOMPurify.removed = [];\n      if (!window2 || !window2.document || window2.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window2.document;\n      var document2 = window2.document;\n      var DocumentFragment = window2.DocumentFragment, HTMLTemplateElement = window2.HTMLTemplateElement, Node = window2.Node, Element2 = window2.Element, NodeFilter = window2.NodeFilter, _window$NamedNodeMap = window2.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window2.NamedNodeMap || window2.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window2.HTMLFormElement, DOMParser = window2.DOMParser, trustedTypes = window2.trustedTypes;\n      var ElementPrototype = Element2.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, \"cloneNode\");\n      var getNextSibling = lookupGetter(ElementPrototype, \"nextSibling\");\n      var getChildNodes = lookupGetter(ElementPrototype, \"childNodes\");\n      var getParentNode = lookupGetter(ElementPrototype, \"parentNode\");\n      if (typeof HTMLTemplateElement === \"function\") {\n        var template = document2.createElement(\"template\");\n        if (template.content && template.content.ownerDocument) {\n          document2 = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML(\"\") : \"\";\n      var _document = document2, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone2(document2).documentMode ? document2.documentMode : {};\n      } catch (_2) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === \"function\" && implementation && typeof implementation.createHTMLDocument !== \"undefined\" && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\"annotation-xml\", \"audio\", \"colgroup\", \"desc\", \"foreignobject\", \"head\", \"iframe\", \"math\", \"mi\", \"mn\", \"mo\", \"ms\", \"mtext\", \"noembed\", \"noframes\", \"noscript\", \"plaintext\", \"script\", \"style\", \"svg\", \"template\", \"thead\", \"title\", \"video\", \"xmp\"]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\"audio\", \"video\", \"img\", \"source\", \"image\", \"track\"]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\"alt\", \"class\", \"for\", \"id\", \"label\", \"name\", \"pattern\", \"placeholder\", \"role\", \"summary\", \"title\", \"value\", \"style\", \"xmlns\"]);\n      var MATHML_NAMESPACE = \"http://www.w3.org/1998/Math/MathML\";\n      var SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\n      var HTML_NAMESPACE = \"http://www.w3.org/1999/xhtml\";\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\"application/xhtml+xml\", \"text/html\"];\n      var DEFAULT_PARSER_MEDIA_TYPE = \"text/html\";\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document2.createElement(\"form\");\n      var isRegexOrFunction = function isRegexOrFunction2(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig2(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== \"object\") {\n          cfg = {};\n        }\n        cfg = clone2(cfg);\n        ALLOWED_TAGS = \"ALLOWED_TAGS\" in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = \"ALLOWED_ATTR\" in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = \"ADD_URI_SAFE_ATTR\" in cfg ? addToSet(clone2(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = \"ADD_DATA_URI_TAGS\" in cfg ? addToSet(clone2(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = \"FORBID_CONTENTS\" in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = \"FORBID_TAGS\" in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = \"FORBID_ATTR\" in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = \"USE_PROFILES\" in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === \"boolean\") {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === \"application/xhtml+xml\" ? function(x2) {\n          return x2;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone2(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone2(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone2(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS[\"#text\"] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\"html\", \"head\", \"body\"]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, [\"tbody\"]);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\"mi\", \"mo\", \"mn\", \"ms\", \"mtext\"]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\"foreignobject\", \"desc\", \"title\", \"annotation-xml\"]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\"title\", \"style\", \"font\", \"a\", \"script\"]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace2(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: \"template\"\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === \"svg\";\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === \"svg\" && (parentTagName === \"annotation-xml\" || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === \"math\";\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === \"math\" && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove2(node) {\n        arrayPush(DOMPurify.removed, {\n          element: node\n        });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_2) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_3) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute2(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_2) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === \"is\" && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_2) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, \"\");\n            } catch (_2) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument2(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = \"<remove></remove>\" + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === \"application/xhtml+xml\") {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + \"</body></html>\";\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_2) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, \"template\", null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? \"\" : dirtyPayload;\n          } catch (_2) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document2.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? \"html\" : \"body\")[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator2(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered2(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== \"string\" || typeof elm.textContent !== \"string\" || typeof elm.removeChild !== \"function\" || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== \"function\" || typeof elm.setAttribute !== \"function\" || typeof elm.namespaceURI !== \"string\" || typeof elm.insertBefore !== \"function\");\n      };\n      var _isNode = function _isNode2(object) {\n        return _typeof(Node) === \"object\" ? object instanceof Node : object && _typeof(object) === \"object\" && typeof object.nodeType === \"number\" && typeof object.nodeName === \"string\";\n      };\n      var _executeHook = function _executeHook2(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function(hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements2(currentNode) {\n        var content;\n        _executeHook(\"beforeSanitizeElements\", currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook(\"uponSanitizeElement\", currentNode, {\n          tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === \"select\" && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i2 = childCount - 1; i2 >= 0; --i2) {\n                parentNode.insertBefore(cloneNode(childNodes[i2], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element2 && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === \"noscript\" || tagName === \"noembed\") && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, \" \");\n          content = stringReplace(content, ERB_EXPR$1, \" \");\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, {\n              element: currentNode.cloneNode()\n            });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook(\"afterSanitizeElements\", currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute2(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === \"id\" || lcName === \"name\") && (value in document2 || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName))\n          ;\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName))\n          ;\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === \"is\" && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)))\n            ;\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName])\n          ;\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, \"\")))\n          ;\n        else if ((lcName === \"src\" || lcName === \"xlink:href\" || lcName === \"href\") && lcTag !== \"script\" && stringIndexOf(value, \"data:\") === 0 && DATA_URI_TAGS[lcTag])\n          ;\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, \"\")))\n          ;\n        else if (!value)\n          ;\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest2(tagName) {\n        return tagName.indexOf(\"-\") > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes2(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l2;\n        _executeHook(\"beforeSanitizeAttributes\", currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: \"\",\n          attrValue: \"\",\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l2 = attributes.length;\n        while (l2--) {\n          attr = attributes[l2];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === \"value\" ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = void 0;\n          _executeHook(\"uponSanitizeAttribute\", currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          _removeAttribute(name, currentNode);\n          if (!hookEvent.keepAttr) {\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, \" \");\n            value = stringReplace(value, ERB_EXPR$1, \" \");\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            continue;\n          }\n          try {\n            if (namespaceURI) {\n              currentNode.setAttributeNS(namespaceURI, name, value);\n            } else {\n              currentNode.setAttribute(name, value);\n            }\n            arrayPop(DOMPurify.removed);\n          } catch (_2) {\n          }\n        }\n        _executeHook(\"afterSanitizeAttributes\", currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM2(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook(\"beforeSanitizeShadowDOM\", fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook(\"uponSanitizeShadowNode\", shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM2(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook(\"afterSanitizeShadowDOM\", fragment, null);\n      };\n      DOMPurify.sanitize = function(dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = \"<!-->\";\n        }\n        if (typeof dirty !== \"string\" && !_isNode(dirty)) {\n          if (typeof dirty.toString !== \"function\") {\n            throw typeErrorCreate(\"toString is not a function\");\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== \"string\") {\n              throw typeErrorCreate(\"dirty is not a string, aborting\");\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window2.toStaticHTML) === \"object\" || typeof window2.toStaticHTML === \"function\") {\n            if (typeof dirty === \"string\") {\n              return window2.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window2.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === \"string\") {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate(\"root node is forbidden and cannot be sanitized in-place\");\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument(\"<!---->\");\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === \"BODY\") {\n            body = importedNode;\n          } else if (importedNode.nodeName === \"HTML\") {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf(\"<\") === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : \"\";\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS[\"!doctype\"] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = \"<!DOCTYPE \" + body.ownerDocument.doctype.name + \">\\n\" + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, \" \");\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, \" \");\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function(cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function() {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function(tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== \"function\") {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function() {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify2 = createDOMPurify();\n    return purify2;\n  });\n})(purify);\nvar browser = window.DOMPurify || (window.DOMPurify = purify.exports.default || purify.exports);\nconst TEMP_TARGET_ATTRIBUTE = \"data-target-temp\";\nfunction addAttributeHooks() {\n  browser.addHook(\"beforeSanitizeAttributes\", (node) => {\n    if (node.tagName === \"A\") {\n      const targetValue = node.getAttribute(\"target\");\n      if (targetValue) {\n        node.setAttribute(TEMP_TARGET_ATTRIBUTE, targetValue);\n      } else {\n        node.setAttribute(\"target\", \"_self\");\n      }\n    }\n  });\n  browser.addHook(\"afterSanitizeAttributes\", (node) => {\n    if (node.tagName === \"A\" && node.hasAttribute(TEMP_TARGET_ATTRIBUTE)) {\n      node.setAttribute(\"target\", node.getAttribute(TEMP_TARGET_ATTRIBUTE));\n      node.removeAttribute(TEMP_TARGET_ATTRIBUTE);\n      if (node.getAttribute(\"target\") === \"_blank\") {\n        node.setAttribute(\"rel\", \"noopener\");\n      }\n    }\n  });\n}\nfunction removeAttributeHooks() {\n  browser.removeAllHooks();\n}\nfunction sanitize(str) {\n  return browser.sanitize(str);\n}\nfunction Template({ template, param, as: tagName = \"div\" }) {\n  var _a;\n  const templates2 = useStore(templateSelector);\n  const templateFunc = templates2[template];\n  if (isNil(templateFunc)) {\n    return null;\n  }\n  const htmlOrVnode = templateFunc(param);\n  return isString_1(htmlOrVnode) ? h$3(tagName, {\n    className: cls(`template-${template}`),\n    dangerouslySetInnerHTML: {\n      __html: sanitize(htmlOrVnode)\n    }\n  }) : q$3(htmlOrVnode, {\n    className: `${(_a = htmlOrVnode.props.className) != null ? _a : \"\"} ${cls(`template-${template}`)}`\n  });\n}\nconst EventBusContext = B$1(null);\nconst EventBusProvider = EventBusContext.Provider;\nconst useEventBus = () => {\n  const eventBus = q$2(EventBusContext);\n  if (!eventBus) {\n    throw new Error(\"useEventBus must be used within a EventBusProvider\");\n  }\n  return eventBus;\n};\nconst primaryTimezoneSelector = (state) => {\n  var _a, _b, _c, _d, _e;\n  return (_e = (_d = (_c = (_b = (_a = state.options) == null ? void 0 : _a.timezone) == null ? void 0 : _b.zones) == null ? void 0 : _c[0]) == null ? void 0 : _d.timezoneName) != null ? _e : \"Local\";\n};\nconst customOffsetCalculatorSelector = (state) => {\n  var _a, _b;\n  return (_b = (_a = state.options) == null ? void 0 : _a.timezone) == null ? void 0 : _b.customOffsetCalculator;\n};\nconst timezonesSelector = (state) => {\n  var _a;\n  return (_a = state.options.timezone.zones) != null ? _a : [];\n};\nfunction useTZConverter() {\n  const customOffsetCalculator = useStore(customOffsetCalculatorSelector);\n  const hasCustomOffsetCalculator = isPresent(customOffsetCalculator);\n  return T$1((timezoneName, tzDate = new TZDate()) => tzDate.tz(hasCustomOffsetCalculator ? customOffsetCalculator(timezoneName, tzDate.getTime()) : timezoneName), [customOffsetCalculator, hasCustomOffsetCalculator]);\n}\nfunction usePrimaryTimezone() {\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const tzConverter = useTZConverter();\n  const getNow = T$1(() => tzConverter(primaryTimezoneName), [primaryTimezoneName, tzConverter]);\n  return [primaryTimezoneName, getNow];\n}\nfunction isWeekDayName(type, dayName) {\n  return type === \"week\";\n}\nfunction getWeekDayNameColor({\n  dayName,\n  theme,\n  today\n}) {\n  var _a, _b;\n  const { day, dateInstance } = dayName;\n  const isToday = isSameDate(today, dateInstance);\n  const isPastDay = !isToday && dateInstance < today;\n  if (isSunday(day)) {\n    return theme.common.holiday.color;\n  }\n  if (isPastDay) {\n    return (_a = theme.week) == null ? void 0 : _a.pastDay.color;\n  }\n  if (isSaturday(day)) {\n    return theme.common.saturday.color;\n  }\n  if (isToday) {\n    return (_b = theme.week) == null ? void 0 : _b.today.color;\n  }\n  return theme.common.dayName.color;\n}\nfunction getMonthDayNameColor({\n  dayName,\n  theme\n}) {\n  const { day } = dayName;\n  if (isSunday(day)) {\n    return theme.common.holiday.color;\n  }\n  if (isSaturday(day)) {\n    return theme.common.saturday.color;\n  }\n  return theme.common.dayName.color;\n}\nfunction DayName({ dayName, style, type, theme }) {\n  const eventBus = useEventBus();\n  const [, getNow] = usePrimaryTimezone();\n  const today = getNow();\n  const { day } = dayName;\n  const color = type === \"week\" ? getWeekDayNameColor({ dayName, theme, today }) : getMonthDayNameColor({ dayName, theme });\n  const templateType = `${type}DayName`;\n  const handleClick = () => {\n    if (isWeekDayName(type)) {\n      eventBus.fire(\"clickDayName\", { date: toFormat(dayName.dateInstance, \"YYYY-MM-DD\") });\n    }\n  };\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"day-name-item\", type),\n    style\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: cls({ [`holiday-${getDayName(day)}`]: isWeekend(day) }),\n    style: { color },\n    onClick: handleClick,\n    \"data-testid\": `dayName-${type}-${getDayName(day)}`\n  }, /* @__PURE__ */ h$3(Template, {\n    template: templateType,\n    param: dayName\n  })));\n}\nconst commonThemeSelector = topLevelStateSelector(\"common\");\nconst monthThemeSelector = topLevelStateSelector(\"month\");\nconst weekDayGridLeftSelector = (theme) => theme.week.dayGridLeft;\nconst weekTimeGridLeftSelector = (theme) => theme.week.timeGridLeft;\nconst monthMoreViewSelector = (theme) => theme.month.moreView;\nconst monthGridCellSelector = (theme) => theme.month.gridCell;\nconst DEFAULT_COMMON_THEME = {\n  border: \"1px solid #e5e5e5\",\n  backgroundColor: \"white\",\n  holiday: {\n    color: \"#ff4040\"\n  },\n  saturday: {\n    color: \"#333\"\n  },\n  dayName: {\n    color: \"#333\"\n  },\n  today: {\n    color: \"#fff\"\n  },\n  gridSelection: {\n    backgroundColor: \"rgba(81, 92, 230, 0.05)\",\n    border: \"1px solid #515ce6\"\n  }\n};\nconst DEFAULT_WEEK_THEME = {\n  dayName: {\n    borderLeft: \"none\",\n    borderTop: \"1px solid #e5e5e5\",\n    borderBottom: \"1px solid #e5e5e5\",\n    backgroundColor: \"inherit\"\n  },\n  weekend: {\n    backgroundColor: \"inherit\"\n  },\n  today: {\n    color: \"inherit\",\n    backgroundColor: \"rgba(81, 92, 230, 0.05)\"\n  },\n  pastDay: {\n    color: \"#bbb\"\n  },\n  panelResizer: {\n    border: \"1px solid #e5e5e5\"\n  },\n  dayGrid: {\n    borderRight: \"1px solid #e5e5e5\",\n    backgroundColor: \"inherit\"\n  },\n  dayGridLeft: {\n    borderRight: \"1px solid #e5e5e5\",\n    backgroundColor: \"inherit\",\n    width: \"72px\"\n  },\n  timeGrid: {\n    borderRight: \"1px solid #e5e5e5\"\n  },\n  timeGridLeft: {\n    backgroundColor: \"inherit\",\n    borderRight: \"1px solid #e5e5e5\",\n    width: \"72px\"\n  },\n  timeGridLeftAdditionalTimezone: {\n    backgroundColor: \"white\"\n  },\n  timeGridHalfHourLine: {\n    borderBottom: \"none\"\n  },\n  timeGridHourLine: {\n    borderBottom: \"1px solid #e5e5e5\"\n  },\n  nowIndicatorLabel: {\n    color: \"#515ce6\"\n  },\n  nowIndicatorPast: {\n    border: \"1px dashed #515ce6\"\n  },\n  nowIndicatorBullet: {\n    backgroundColor: \"#515ce6\"\n  },\n  nowIndicatorToday: {\n    border: \"1px solid #515ce6\"\n  },\n  nowIndicatorFuture: {\n    border: \"none\"\n  },\n  pastTime: {\n    color: \"#bbb\"\n  },\n  futureTime: {\n    color: \"#333\"\n  },\n  gridSelection: {\n    color: \"#515ce6\"\n  }\n};\nconst DEFAULT_MONTH_THEME = {\n  dayName: {\n    borderLeft: \"none\",\n    backgroundColor: \"inherit\"\n  },\n  holidayExceptThisMonth: {\n    color: \"rgba(255, 64, 64, 0.4)\"\n  },\n  dayExceptThisMonth: {\n    color: \"rgba(51, 51, 51, 0.4)\"\n  },\n  weekend: {\n    backgroundColor: \"inherit\"\n  },\n  moreView: {\n    border: \"1px solid #d5d5d5\",\n    boxShadow: \"0 2px 6px 0 rgba(0, 0, 0, 0.1)\",\n    backgroundColor: \"white\",\n    width: null,\n    height: null\n  },\n  gridCell: {\n    headerHeight: 31,\n    footerHeight: null\n  },\n  moreViewTitle: {\n    backgroundColor: \"inherit\"\n  }\n};\nfunction createCommonTheme(commonTheme = {}) {\n  return {\n    common: mergeObject(DEFAULT_COMMON_THEME, commonTheme)\n  };\n}\nfunction createThemeDispatch(set) {\n  return {\n    setTheme: (theme) => {\n      set(produce((state) => {\n        state.common = mergeObject(state.common, theme.common);\n        state.week = mergeObject(state.week, theme.week);\n        state.month = mergeObject(state.month, theme.month);\n      }));\n    },\n    setCommonTheme: (commonTheme) => {\n      set(produce((state) => {\n        state.common = mergeObject(state.common, commonTheme);\n      }));\n    },\n    setWeekTheme: (weekTheme) => {\n      set(produce((state) => {\n        state.week = mergeObject(state.week, weekTheme);\n      }));\n    },\n    setMonthTheme: (monthTheme) => {\n      set(produce((state) => {\n        state.month = mergeObject(state.month, monthTheme);\n      }));\n    }\n  };\n}\nfunction createMonthTheme(monthTheme = {}) {\n  return {\n    month: mergeObject(DEFAULT_MONTH_THEME, monthTheme)\n  };\n}\nfunction createWeekTheme(weekTheme = {}) {\n  return {\n    week: mergeObject(DEFAULT_WEEK_THEME, weekTheme)\n  };\n}\nconst themeStoreCreator = (themeOptions = {}) => (set) => {\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, createCommonTheme(themeOptions == null ? void 0 : themeOptions.common)), createWeekTheme(themeOptions == null ? void 0 : themeOptions.week)), createMonthTheme(themeOptions == null ? void 0 : themeOptions.month)), {\n    dispatch: __spreadValues({}, createThemeDispatch(set))\n  });\n};\nconst initThemeStore = (themeOptions = {}) => createStore(themeStoreCreator(themeOptions));\nconst {\n  StoreProvider: ThemeProvider,\n  useInternalStore: useInternalThemeStore,\n  useStore: useTheme\n} = createStoreContext();\nfunction useCommonTheme() {\n  return useTheme(commonThemeSelector);\n}\nfunction useMonthTheme() {\n  return useTheme(monthThemeSelector);\n}\nfunction weekDayNameSelector(theme) {\n  return {\n    common: {\n      saturday: theme.common.saturday,\n      holiday: theme.common.holiday,\n      today: theme.common.today,\n      dayName: theme.common.dayName\n    },\n    week: {\n      pastDay: theme.week.pastDay,\n      today: theme.week.today,\n      dayName: theme.week.dayName\n    }\n  };\n}\nfunction monthDayNameSelector(theme) {\n  return {\n    common: {\n      saturday: theme.common.saturday,\n      holiday: theme.common.holiday,\n      today: theme.common.today,\n      dayName: theme.common.dayName\n    },\n    month: {\n      dayName: theme.month.dayName\n    }\n  };\n}\nfunction GridHeader({\n  dayNames,\n  marginLeft = DEFAULT_DAY_NAME_MARGIN_LEFT,\n  rowStyleInfo,\n  type = \"month\"\n}) {\n  var _a, _b;\n  const theme = useTheme(type === \"month\" ? monthDayNameSelector : weekDayNameSelector);\n  const _c = (_b = (_a = theme[type]) == null ? void 0 : _a.dayName) != null ? _b : {}, { backgroundColor = \"white\", borderLeft = null } = _c, rest = __objRest(_c, [\"backgroundColor\", \"borderLeft\"]);\n  const { borderTop = null, borderBottom = null } = rest;\n  return /* @__PURE__ */ h$3(\"div\", {\n    \"data-testid\": `grid-header-${type}`,\n    className: cls(\"day-names\", type),\n    style: {\n      backgroundColor,\n      borderTop,\n      borderBottom\n    }\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"day-name-container\"),\n    style: { marginLeft }\n  }, dayNames.map((dayName, index) => /* @__PURE__ */ h$3(DayName, {\n    type,\n    key: `dayNames-${dayName.day}`,\n    dayName,\n    style: {\n      width: toPercent(rowStyleInfo[index].width),\n      left: toPercent(rowStyleInfo[index].left),\n      borderLeft\n    },\n    theme\n  }))));\n}\nconst DEFAULT_VISIBLE_WEEKS = 6;\nvar CellBarType = /* @__PURE__ */ ((CellBarType2) => {\n  CellBarType2[\"header\"] = \"header\";\n  CellBarType2[\"footer\"] = \"footer\";\n  return CellBarType2;\n})(CellBarType || {});\nfunction getCollisionGroup(events, usingTravelTime = true) {\n  const collisionGroups = [];\n  let previousEventList;\n  if (!events.length) {\n    return collisionGroups;\n  }\n  collisionGroups[0] = [events[0].cid()];\n  events.slice(1).forEach((event, index) => {\n    previousEventList = events.slice(0, index + 1).reverse();\n    const found = previousEventList.find((previous) => event.collidesWith(previous, usingTravelTime));\n    if (!found) {\n      collisionGroups.push([event.cid()]);\n    } else {\n      collisionGroups.slice().reverse().some((group) => {\n        if (~group.indexOf(found.cid())) {\n          group.push(event.cid());\n          return true;\n        }\n        return false;\n      });\n    }\n  });\n  return collisionGroups;\n}\nfunction getLastRowInColumn(matrix, col) {\n  let { length: row } = matrix;\n  while (row > 0) {\n    row -= 1;\n    if (!isUndefined_1(matrix[row][col])) {\n      return row;\n    }\n  }\n  return -1;\n}\nfunction getMatrices(collection, collisionGroups, usingTravelTime = true) {\n  const result = [];\n  collisionGroups.forEach((group) => {\n    const matrix = [[]];\n    group.forEach((eventID) => {\n      const event = collection.get(eventID);\n      let col = 0;\n      let found = false;\n      let nextRow;\n      let lastRowInColumn;\n      while (!found) {\n        lastRowInColumn = getLastRowInColumn(matrix, col);\n        if (lastRowInColumn === -1) {\n          matrix[0].push(event);\n          found = true;\n        } else if (!event.collidesWith(matrix[lastRowInColumn][col], usingTravelTime)) {\n          nextRow = lastRowInColumn + 1;\n          if (isUndefined_1(matrix[nextRow])) {\n            matrix[nextRow] = [];\n          }\n          matrix[nextRow][col] = event;\n          found = true;\n        }\n        col += 1;\n      }\n    });\n    result.push(matrix);\n  });\n  return result;\n}\nfunction getEventInDateRangeFilter(start, end) {\n  return (model) => {\n    const ownStarts = model.getStarts();\n    const ownEnds = model.getEnds();\n    return !(ownEnds < start || ownStarts > end);\n  };\n}\nfunction positionUIModels(start, end, matrices, iteratee) {\n  const ymdListToRender = makeDateRange(start, end, MS_PER_DAY).map((date2) => toFormat(date2, \"YYYYMMDD\"));\n  matrices.forEach((matrix) => {\n    matrix.forEach((column) => {\n      column.forEach((uiModel, index) => {\n        if (!uiModel) {\n          return;\n        }\n        const ymd = toFormat(uiModel.getStarts(), \"YYYYMMDD\");\n        const dateLength = makeDateRange(toStartOfDay(uiModel.getStarts()), toEndOfDay(uiModel.getEnds()), MS_PER_DAY).length;\n        uiModel.top = index;\n        uiModel.left = ymdListToRender.indexOf(ymd);\n        uiModel.width = dateLength;\n        iteratee == null ? void 0 : iteratee(uiModel);\n      });\n    });\n  });\n}\nfunction limit$1(start, end, uiModel) {\n  if (uiModel.getStarts() < start) {\n    uiModel.exceedLeft = true;\n    uiModel.renderStarts = new TZDate(start);\n  }\n  if (uiModel.getEnds() > end) {\n    uiModel.exceedRight = true;\n    uiModel.renderEnds = new TZDate(end);\n  }\n  return uiModel;\n}\nfunction limitRenderRange(start, end, uiModelColl) {\n  if (uiModelColl instanceof Collection) {\n    uiModelColl.each((uiModel) => {\n      limit$1(start, end, uiModel);\n      return true;\n    });\n    return null;\n  }\n  return limit$1(start, end, uiModelColl);\n}\nfunction convertToUIModel(eventCollection) {\n  const uiModelColl = new Collection((uiModel) => {\n    return uiModel.cid();\n  });\n  eventCollection.each(function(event) {\n    uiModelColl.add(new EventUIModel(event));\n  });\n  return uiModelColl;\n}\nfunction _isAllday({ model }) {\n  return model.isAllday || model.hasMultiDates;\n}\nfunction _isNotAllday(uiModel) {\n  return !_isAllday(uiModel);\n}\nfunction _weightTopValue(uiModel) {\n  uiModel.top = uiModel.top || 0;\n  uiModel.top += 1;\n}\nfunction _adjustRenderRange(start, end, uiModelColl) {\n  uiModelColl.each((uiModel) => {\n    if (uiModel.model.isAllday || uiModel.model.hasMultiDates) {\n      limitRenderRange(toStartOfDay(start), toEndOfDay(end), uiModel);\n    }\n  });\n}\nfunction _getAlldayMaxTopIndexAtYMD(idsOfDay, ymd, uiModelAlldayColl) {\n  const topIndexesInDate = [];\n  idsOfDay[ymd].forEach((cid) => {\n    uiModelAlldayColl.doWhenHas(cid, (uiModel) => {\n      topIndexesInDate.push(uiModel.top);\n    });\n  });\n  if (topIndexesInDate.length > 0) {\n    return Math.max(...topIndexesInDate);\n  }\n  return 0;\n}\nfunction _adjustTimeTopIndex(idsOfDay, uiModelColl) {\n  const vAlldayColl = uiModelColl.filter(_isAllday);\n  const sortedTimeEvents = uiModelColl.filter(_isNotAllday).sort(array.compare.event.asc);\n  const maxIndexInYMD = {};\n  sortedTimeEvents.forEach((timeUIModel) => {\n    const eventYMD = toFormat(timeUIModel.getStarts(), \"YYYYMMDD\");\n    let alldayMaxTopInYMD = maxIndexInYMD[eventYMD];\n    if (isUndefined_1(alldayMaxTopInYMD)) {\n      alldayMaxTopInYMD = maxIndexInYMD[eventYMD] = _getAlldayMaxTopIndexAtYMD(idsOfDay, eventYMD, vAlldayColl);\n    }\n    maxIndexInYMD[eventYMD] = timeUIModel.top = alldayMaxTopInYMD + 1;\n  });\n}\nfunction _stackTimeFromTop(idsOfDay, uiModelColl) {\n  const uiModelAlldayColl = uiModelColl.filter(_isAllday);\n  const sortedTimeEvents = uiModelColl.filter(_isNotAllday).sort(array.compare.event.asc);\n  const indiceInYMD = {};\n  sortedTimeEvents.forEach((timeUIModel) => {\n    const eventYMD = toFormat(timeUIModel.getStarts(), \"YYYYMMDD\");\n    let topArrayInYMD = indiceInYMD[eventYMD];\n    if (isUndefined_1(topArrayInYMD)) {\n      topArrayInYMD = indiceInYMD[eventYMD] = [];\n      idsOfDay[eventYMD].forEach((cid) => {\n        uiModelAlldayColl.doWhenHas(cid, (uiModel) => {\n          topArrayInYMD.push(uiModel.top);\n        });\n      });\n    }\n    if (topArrayInYMD.indexOf(timeUIModel.top) >= 0) {\n      const maxTopInYMD = Math.max(...topArrayInYMD) + 1;\n      for (let i2 = 1; i2 <= maxTopInYMD; i2 += 1) {\n        timeUIModel.top = i2;\n        if (topArrayInYMD.indexOf(timeUIModel.top) < 0) {\n          break;\n        }\n      }\n    }\n    topArrayInYMD.push(timeUIModel.top);\n  });\n}\nfunction _addMultiDatesInfo$1(uiModelColl) {\n  uiModelColl.each((uiModel) => {\n    const { model } = uiModel;\n    const start = model.getStarts();\n    const end = model.getEnds();\n    model.hasMultiDates = !isSameDate(start, end);\n    if (!model.isAllday && model.hasMultiDates) {\n      uiModel.renderStarts = toStartOfDay(start);\n      uiModel.renderEnds = toEndOfDay(end);\n    }\n  });\n}\nfunction findByDateRange$1(calendarData, condition) {\n  const { start, end, andFilters = [], alldayFirstMode = false } = condition;\n  const { events, idsOfDay } = calendarData;\n  const filterFn = Collection.and(...[getEventInDateRangeFilter(start, end)].concat(andFilters));\n  const coll = events.filter(filterFn);\n  const uiModelColl = convertToUIModel(coll);\n  _addMultiDatesInfo$1(uiModelColl);\n  _adjustRenderRange(start, end, uiModelColl);\n  const vList = uiModelColl.sort(array.compare.event.asc);\n  const usingTravelTime = false;\n  const collisionGroup = getCollisionGroup(vList, usingTravelTime);\n  const matrices = getMatrices(uiModelColl, collisionGroup, usingTravelTime);\n  positionUIModels(start, end, matrices, _weightTopValue);\n  if (alldayFirstMode) {\n    _adjustTimeTopIndex(idsOfDay, uiModelColl);\n  } else {\n    _stackTimeFromTop(idsOfDay, uiModelColl);\n  }\n  return matrices;\n}\nfunction _makeHourRangeFilter(hStart, hEnd) {\n  return (uiModel) => {\n    const ownHourStart = uiModel.getStarts();\n    const ownHourEnd = uiModel.getEnds();\n    const ownHourStartTime = ownHourStart.getTime();\n    const ownHourEndTime = ownHourEnd.getTime();\n    const yyyy = ownHourStart.getFullYear();\n    const mm = ownHourStart.getMonth();\n    const dd = ownHourStart.getDate();\n    const hourStart = new TZDate(yyyy, mm, dd).setHours(hStart);\n    const hourEnd = new TZDate(yyyy, mm, dd).setHours(hEnd);\n    return ownHourStartTime >= hourStart && ownHourStartTime < hourEnd || ownHourEndTime > hourStart && ownHourEndTime <= hourEnd || ownHourStartTime < hourStart && ownHourEndTime > hourStart || ownHourEndTime > hourEnd && ownHourStartTime < hourEnd;\n  };\n}\nfunction _makeGetUIModelFuncForTimeView(hourStart, hourEnd) {\n  if (hourStart === 0 && hourEnd === 24) {\n    return (uiModelColl) => {\n      return uiModelColl.sort(array.compare.event.asc);\n    };\n  }\n  return (uiModelColl) => {\n    return uiModelColl.filter(_makeHourRangeFilter(hourStart, hourEnd)).sort(array.compare.event.asc);\n  };\n}\nfunction splitEventByDateRange(idsOfDay, start, end, uiModelColl) {\n  const result = {};\n  const range2 = getDateRange(start, end);\n  range2.forEach((date2) => {\n    const ymd = toFormat(date2, \"YYYYMMDD\");\n    const ids = idsOfDay[ymd];\n    const collection = result[ymd] = new Collection((event) => {\n      return event.cid();\n    });\n    if (ids && ids.length) {\n      ids.forEach((id) => {\n        uiModelColl.doWhenHas(id, (event) => {\n          collection.add(event);\n        });\n      });\n    }\n  }, {});\n  return result;\n}\nfunction getUIModelForTimeView(idsOfDay, condition) {\n  const { start, end, uiModelTimeColl, hourStart, hourEnd } = condition;\n  const ymdSplitted = splitEventByDateRange(idsOfDay, start, end, uiModelTimeColl);\n  const result = {};\n  const _getUIModel = _makeGetUIModelFuncForTimeView(hourStart, hourEnd);\n  const usingTravelTime = true;\n  Object.entries(ymdSplitted).forEach(([ymd, uiModelColl]) => {\n    const uiModels = _getUIModel(uiModelColl);\n    const collisionGroups = getCollisionGroup(uiModels, usingTravelTime);\n    const matrices = getMatrices(uiModelColl, collisionGroups, usingTravelTime);\n    result[ymd] = matrices;\n  });\n  return result;\n}\nfunction _addMultiDatesInfo(uiModelColl) {\n  uiModelColl.each((uiModel) => {\n    const { model } = uiModel;\n    model.hasMultiDates = true;\n    uiModel.renderStarts = toStartOfDay(model.getStarts());\n    uiModel.renderEnds = toEndOfDay(model.getEnds());\n  });\n}\nfunction getUIModelForAlldayView(start, end, uiModelColl) {\n  if (!uiModelColl || !uiModelColl.size) {\n    return [];\n  }\n  _addMultiDatesInfo(uiModelColl);\n  limitRenderRange(start, end, uiModelColl);\n  const uiModels = uiModelColl.sort(array.compare.event.asc);\n  const usingTravelTime = true;\n  const collisionGroups = getCollisionGroup(uiModels, usingTravelTime);\n  const matrices = getMatrices(uiModelColl, collisionGroups, usingTravelTime);\n  positionUIModels(start, end, matrices);\n  return matrices;\n}\nfunction findByDateRange(calendarData, condition) {\n  var _a, _b;\n  const { start, end, panels, andFilters = [], options } = condition;\n  const { events, idsOfDay } = calendarData;\n  const hourStart = (_a = options == null ? void 0 : options.hourStart) != null ? _a : 0;\n  const hourEnd = (_b = options == null ? void 0 : options.hourEnd) != null ? _b : 24;\n  const filterFn = Collection.and(...[getEventInDateRangeFilter(start, end)].concat(andFilters));\n  const uiModelColl = convertToUIModel(events.filter(filterFn));\n  const group = uiModelColl.groupBy(filterByCategory);\n  return panels.reduce((acc, cur) => {\n    const { name, type } = cur;\n    if (isNil(group[name])) {\n      return acc;\n    }\n    return __spreadProps(__spreadValues({}, acc), {\n      [name]: type === \"daygrid\" ? getUIModelForAlldayView(start, end, group[name]) : getUIModelForTimeView(idsOfDay, {\n        start,\n        end,\n        uiModelTimeColl: group[name],\n        hourStart,\n        hourEnd\n      })\n    });\n  }, {\n    milestone: [],\n    task: [],\n    allday: [],\n    time: {}\n  });\n}\nfunction limit(value, minArr, maxArr) {\n  const v2 = Math.max(value, ...minArr);\n  return Math.min(v2, ...maxArr);\n}\nfunction ratio(a2, b2, y2) {\n  return b2 * y2 / a2;\n}\nfunction isBetween$1(value, min2, max2) {\n  return min2 <= value && value <= max2;\n}\nconst EVENT_HEIGHT = 22;\nconst TOTAL_WIDTH = 100;\nfunction forEachMatrix3d(matrices, iteratee) {\n  matrices.forEach((matrix) => {\n    matrix.forEach((row) => {\n      row.forEach((value, index) => {\n        iteratee(value, index);\n      });\n    });\n  });\n}\nfunction isWithinHeight(containerHeight, eventHeight) {\n  return ({ top }) => containerHeight >= top * eventHeight;\n}\nfunction isExceededHeight(containerHeight, eventHeight) {\n  return ({ top }) => containerHeight < top * eventHeight;\n}\nfunction getExceedCount(uiModel, containerHeight, eventHeight) {\n  return uiModel.filter(isExceededHeight(containerHeight, eventHeight)).length;\n}\nconst getWeekendCount = (row) => row.filter((cell) => isWeekend(cell.getDay())).length;\nfunction getGridWidthAndLeftPercentValues(row, narrowWeekend, totalWidth) {\n  const weekendCount = getWeekendCount(row);\n  const gridCellCount = row.length;\n  const isAllWeekend = weekendCount === gridCellCount;\n  const widthPerDay = totalWidth / (narrowWeekend && !isAllWeekend ? gridCellCount * 2 - weekendCount : gridCellCount);\n  const widthList = row.map((cell) => {\n    const day = cell.getDay();\n    if (!narrowWeekend || isAllWeekend) {\n      return widthPerDay;\n    }\n    return isWeekend(day) ? widthPerDay : widthPerDay * 2;\n  });\n  const leftList = widthList.reduce((acc, _2, index) => index ? [...acc, acc[index - 1] + widthList[index - 1]] : [0], []);\n  return {\n    widthList,\n    leftList\n  };\n}\nfunction getWidth(widthList, start, end) {\n  return widthList.reduce((acc, width, index) => {\n    if (start <= index && index <= end) {\n      return acc + width;\n    }\n    return acc;\n  }, 0);\n}\nconst isInGrid = (gridDate) => {\n  return (uiModel) => {\n    const eventStart = toStartOfDay(uiModel.getStarts());\n    const eventEnd = toStartOfDay(uiModel.getEnds());\n    return eventStart <= gridDate && gridDate <= eventEnd;\n  };\n};\nfunction getGridDateIndex(date2, row) {\n  return row.findIndex((cell) => date2 >= toStartOfDay(cell) && date2 <= toEndOfDay(cell));\n}\nconst getLeftAndWidth = (startIndex, endIndex, row, narrowWeekend) => {\n  const { widthList } = getGridWidthAndLeftPercentValues(row, narrowWeekend, TOTAL_WIDTH);\n  return {\n    left: !startIndex ? 0 : getWidth(widthList, 0, startIndex - 1),\n    width: getWidth(widthList, startIndex != null ? startIndex : 0, endIndex < 0 ? row.length - 1 : endIndex)\n  };\n};\nconst getEventLeftAndWidth = (start, end, row, narrowWeekend) => {\n  const { widthList } = getGridWidthAndLeftPercentValues(row, narrowWeekend, TOTAL_WIDTH);\n  let gridStartIndex = 0;\n  let gridEndIndex = row.length - 1;\n  row.forEach((cell, index) => {\n    if (cell <= start) {\n      gridStartIndex = index;\n    }\n    if (cell <= end) {\n      gridEndIndex = index;\n    }\n  });\n  return {\n    width: getWidth(widthList, gridStartIndex, gridEndIndex),\n    left: !gridStartIndex ? 0 : getWidth(widthList, 0, gridStartIndex - 1)\n  };\n};\nfunction getEventUIModelWithPosition(uiModel, row, narrowWeekend = false) {\n  const modelStart = uiModel.getStarts();\n  const modelEnd = uiModel.getEnds();\n  const { width, left } = getEventLeftAndWidth(modelStart, modelEnd, row, narrowWeekend);\n  uiModel.width = width;\n  uiModel.left = left;\n  return uiModel;\n}\nfunction getRenderedEventUIModels(row, calendarData, narrowWeekend) {\n  const { idsOfDay } = calendarData;\n  const eventUIModels = findByDateRange$1(calendarData, {\n    start: row[0],\n    end: toEndOfDay(row[row.length - 1])\n  });\n  const idEventModelMap = [];\n  forEachMatrix3d(eventUIModels, (uiModel) => {\n    const cid = uiModel.model.cid();\n    idEventModelMap[cid] = getEventUIModelWithPosition(uiModel, row, narrowWeekend);\n  });\n  const gridDateEventModelMap = Object.keys(idsOfDay).reduce((acc, ymd) => {\n    const ids = idsOfDay[ymd];\n    acc[ymd] = ids.map((cid) => idEventModelMap[cid]).filter((vm) => !!vm);\n    return acc;\n  }, {});\n  return {\n    uiModels: Object.values(idEventModelMap),\n    gridDateEventModelMap\n  };\n}\nconst getDayGridEventModels = (eventModels, row, narrowWeekend = false) => {\n  forEachMatrix3d(eventModels, (uiModel) => {\n    const modelStart = uiModel.getStarts();\n    const modelEnd = uiModel.getEnds();\n    const { width, left } = getEventLeftAndWidth(modelStart, modelEnd, row, narrowWeekend);\n    uiModel.width = width;\n    uiModel.left = left;\n    uiModel.top += 1;\n  });\n  return flattenMatrix3d(eventModels);\n};\nconst getModels = (models) => models.filter((model) => !!model);\nfunction flattenMatrix3d(matrices) {\n  return matrices.flatMap((matrix) => matrix.flatMap((models) => getModels(models)));\n}\nconst getTimeGridEventModels = (eventMatrix) => Array.from(new Set(Object.values(eventMatrix).reduce((result, matrix3d) => result.concat(...flattenMatrix3d(matrix3d)), [])));\nconst getWeekViewEvents = (row, calendarData, {\n  narrowWeekend,\n  hourStart,\n  hourEnd,\n  weekStartDate,\n  weekEndDate\n}) => {\n  const panels = [\n    {\n      name: \"milestone\",\n      type: \"daygrid\",\n      show: true\n    },\n    {\n      name: \"task\",\n      type: \"daygrid\",\n      show: true\n    },\n    {\n      name: \"allday\",\n      type: \"daygrid\",\n      show: true\n    },\n    {\n      name: \"time\",\n      type: \"timegrid\",\n      show: true\n    }\n  ];\n  const eventModels = findByDateRange(calendarData, {\n    start: weekStartDate,\n    end: weekEndDate,\n    panels,\n    andFilters: [],\n    options: {\n      hourStart,\n      hourEnd\n    }\n  });\n  return Object.keys(eventModels).reduce((acc, cur) => {\n    const events = eventModels[cur];\n    return __spreadProps(__spreadValues({}, acc), {\n      [cur]: Array.isArray(events) ? getDayGridEventModels(events, row, narrowWeekend) : getTimeGridEventModels(events)\n    });\n  }, {\n    milestone: [],\n    allday: [],\n    task: [],\n    time: []\n  });\n};\nfunction createDateMatrixOfMonth(renderTargetDate, {\n  workweek = false,\n  visibleWeeksCount = 0,\n  startDayOfWeek = 0,\n  isAlways6Weeks = true\n}) {\n  const targetDate = new TZDate(renderTargetDate);\n  const shouldApplyVisibleWeeksCount = visibleWeeksCount > 0;\n  const baseDate = shouldApplyVisibleWeeksCount ? targetDate : toStartOfMonth(targetDate);\n  const firstDateOfMatrix = subtractDate(baseDate, baseDate.getDay() - startDayOfWeek + (baseDate.getDay() < startDayOfWeek ? WEEK_DAYS : 0));\n  const dayOfFirstDateOfMatrix = firstDateOfMatrix.getDay();\n  const totalDatesCountOfMonth = toEndOfMonth(targetDate).getDate();\n  const initialDifference = getDateDifference(firstDateOfMatrix, baseDate);\n  const totalDatesOfMatrix = totalDatesCountOfMonth + Math.abs(initialDifference);\n  let totalWeeksOfMatrix = DEFAULT_VISIBLE_WEEKS;\n  if (shouldApplyVisibleWeeksCount) {\n    totalWeeksOfMatrix = visibleWeeksCount;\n  } else if (isAlways6Weeks === false) {\n    totalWeeksOfMatrix = Math.ceil(totalDatesOfMatrix / WEEK_DAYS);\n  }\n  return range_1(0, totalWeeksOfMatrix).map((weekIndex) => range_1(0, WEEK_DAYS).reduce((weekRow, dayOfWeek) => {\n    const steps = weekIndex * WEEK_DAYS + dayOfWeek;\n    const currentDay = (steps + dayOfFirstDateOfMatrix) % WEEK_DAYS;\n    if (!workweek || workweek && !isWeekend(currentDay)) {\n      const date2 = addDate(firstDateOfMatrix, steps);\n      weekRow.push(date2);\n    }\n    return weekRow;\n  }, []));\n}\nfunction getWeekDates(renderDate, { startDayOfWeek = Day$2.SUN, workweek }) {\n  const now = toStartOfDay(renderDate);\n  const nowDay = now.getDay();\n  const prevDateCount = nowDay - startDayOfWeek;\n  const weekDayList = prevDateCount >= 0 ? range_1(-prevDateCount, WEEK_DAYS - prevDateCount) : range_1(-WEEK_DAYS - prevDateCount, -prevDateCount);\n  return weekDayList.reduce((acc, day) => {\n    const date2 = addDate(now, day);\n    if (workweek && isWeekend(date2.getDay())) {\n      return acc;\n    }\n    acc.push(date2);\n    return acc;\n  }, []);\n}\nfunction getColumnsData(datesOfWeek, narrowWeekend = false) {\n  const datesCount = datesOfWeek.length;\n  const shouldApplyNarrowWeekend = datesCount > 5 && narrowWeekend;\n  const defaultWidthByColumns = shouldApplyNarrowWeekend ? 100 / (datesCount - 1) : 100 / datesCount;\n  return datesOfWeek.map((date2) => {\n    const width = shouldApplyNarrowWeekend && isWeekend(date2.getDay()) ? defaultWidthByColumns / 2 : defaultWidthByColumns;\n    return {\n      date: date2,\n      width\n    };\n  }).reduce((result, currentDateAndWidth, index) => {\n    const prev = result[index - 1];\n    result.push(__spreadProps(__spreadValues({}, currentDateAndWidth), {\n      left: index === 0 ? 0 : prev.left + prev.width\n    }));\n    return result;\n  }, []);\n}\nfunction createTimeGridData(datesOfWeek, options) {\n  var _a;\n  const columns = getColumnsData(datesOfWeek, (_a = options.narrowWeekend) != null ? _a : false);\n  const steps = (options.hourEnd - options.hourStart) * 2;\n  const baseHeight = 100 / steps;\n  const rows = range_1(steps).map((step, index) => {\n    const isOdd = index % 2 === 1;\n    const hour = options.hourStart + Math.floor(step / 2);\n    const startTime = `${hour}:${isOdd ? \"30\" : \"00\"}`.padStart(5, \"0\");\n    const endTime = (isOdd ? `${hour + 1}:00` : `${hour}:30`).padStart(5, \"0\");\n    return {\n      top: baseHeight * index,\n      height: baseHeight,\n      startTime,\n      endTime\n    };\n  });\n  return {\n    columns,\n    rows\n  };\n}\nfunction getRelativeMousePosition({ clientX, clientY }, { left, top, clientLeft, clientTop }) {\n  return [clientX - left - clientLeft, clientY - top - clientTop];\n}\nfunction getIndexFromPosition(arrayLength, maxRange, currentPosition) {\n  const calculatedIndex = Math.floor(ratio(maxRange, arrayLength, currentPosition));\n  return limit(calculatedIndex, [0], [arrayLength - 1]);\n}\nfunction createGridPositionFinder({\n  rowsCount,\n  columnsCount,\n  container,\n  narrowWeekend = false,\n  startDayOfWeek = Day$2.SUN\n}) {\n  if (isNil(container)) {\n    return () => null;\n  }\n  const dayRange = range_1(startDayOfWeek, startDayOfWeek + columnsCount).map((day) => day % WEEK_DAYS);\n  const narrowColumnCount = narrowWeekend ? dayRange.filter((day) => isWeekend(day)).length : 0;\n  return function gridPositionFinder(mousePosition) {\n    const {\n      left: containerLeft,\n      top: containerTop,\n      width: containerWidth,\n      height: containerHeight\n    } = container.getBoundingClientRect();\n    const [left, top] = getRelativeMousePosition(mousePosition, {\n      left: containerLeft,\n      top: containerTop,\n      clientLeft: container.clientLeft,\n      clientTop: container.clientTop\n    });\n    if (left < 0 || top < 0 || left > containerWidth || top > containerHeight) {\n      return null;\n    }\n    const unitWidth = narrowWeekend ? containerWidth / (columnsCount - narrowColumnCount + 1) : containerWidth / columnsCount;\n    const columnWidthList = dayRange.map((dayOfWeek) => narrowWeekend && isWeekend(dayOfWeek) ? unitWidth / 2 : unitWidth);\n    const columnLeftList = [];\n    columnWidthList.forEach((width, index) => {\n      if (index === 0) {\n        columnLeftList.push(0);\n      } else {\n        columnLeftList.push(columnLeftList[index - 1] + columnWidthList[index - 1]);\n      }\n    });\n    const columnIndex = findLastIndex(columnLeftList, (columnLeft) => left >= columnLeft);\n    return {\n      columnIndex,\n      rowIndex: getIndexFromPosition(rowsCount, containerHeight, top)\n    };\n  };\n}\nfunction commonGridSelectionSelector(theme) {\n  return theme.common.gridSelection;\n}\nfunction GridSelection$1({ type, gridSelectionData, weekDates, narrowWeekend }) {\n  const { backgroundColor, border } = useTheme(commonGridSelectionSelector);\n  const { startCellIndex, endCellIndex } = gridSelectionData;\n  const { left, width } = getLeftAndWidth(Math.min(startCellIndex, endCellIndex), Math.max(startCellIndex, endCellIndex), weekDates, narrowWeekend);\n  const style = {\n    left: toPercent(left),\n    width: toPercent(width),\n    height: toPercent(100),\n    backgroundColor,\n    border\n  };\n  return width > 0 ? /* @__PURE__ */ h$3(\"div\", {\n    className: cls(type, \"grid-selection\"),\n    style\n  }) : null;\n}\nfunction createSortedGridSelection(initPos, currentPos, isReversed) {\n  return {\n    startColumnIndex: isReversed ? currentPos.columnIndex : initPos.columnIndex,\n    startRowIndex: isReversed ? currentPos.rowIndex : initPos.rowIndex,\n    endColumnIndex: isReversed ? initPos.columnIndex : currentPos.columnIndex,\n    endRowIndex: isReversed ? initPos.rowIndex : currentPos.rowIndex\n  };\n}\nfunction calculateTimeGridSelectionByCurrentIndex(timeGridSelection, columnIndex, maxRowIndex) {\n  if (isNil(timeGridSelection)) {\n    return null;\n  }\n  const { startColumnIndex, endColumnIndex, endRowIndex, startRowIndex } = timeGridSelection;\n  if (!isBetween$1(columnIndex, startColumnIndex, endColumnIndex)) {\n    return null;\n  }\n  const hasMultipleColumns = startColumnIndex !== endColumnIndex;\n  const isStartingColumn = columnIndex === startColumnIndex;\n  const resultGridSelection = {\n    startRowIndex,\n    endRowIndex,\n    isSelectingMultipleColumns: hasMultipleColumns,\n    isStartingColumn\n  };\n  if (startColumnIndex < columnIndex && columnIndex < endColumnIndex) {\n    resultGridSelection.startRowIndex = 0;\n    resultGridSelection.endRowIndex = maxRowIndex;\n  } else if (startColumnIndex !== endColumnIndex) {\n    if (startColumnIndex === columnIndex) {\n      resultGridSelection.endRowIndex = maxRowIndex;\n    } else if (endColumnIndex === columnIndex) {\n      resultGridSelection.startRowIndex = 0;\n    }\n  }\n  return resultGridSelection;\n}\nconst timeGridSelectionHelper = {\n  sortSelection: (initPos, currentPos) => {\n    const isReversed = initPos.columnIndex > currentPos.columnIndex || initPos.columnIndex === currentPos.columnIndex && initPos.rowIndex > currentPos.rowIndex;\n    return createSortedGridSelection(initPos, currentPos, isReversed);\n  },\n  getDateFromCollection: (dateCollection, gridSelection) => {\n    const timeGridData = dateCollection;\n    const startDate = setTimeStrToDate(timeGridData.columns[gridSelection.startColumnIndex].date, timeGridData.rows[gridSelection.startRowIndex].startTime);\n    const endDate = setTimeStrToDate(timeGridData.columns[gridSelection.endColumnIndex].date, timeGridData.rows[gridSelection.endRowIndex].endTime);\n    return [startDate, endDate];\n  },\n  calculateSelection: calculateTimeGridSelectionByCurrentIndex\n};\nfunction calculateDayGridMonthSelectionByCurrentIndex(gridSelection, currentIndex, weekLength) {\n  if (!(isPresent(gridSelection) && isPresent(currentIndex) && isPresent(weekLength))) {\n    return null;\n  }\n  const { startRowIndex, startColumnIndex, endRowIndex, endColumnIndex } = gridSelection;\n  if (!isBetween$1(currentIndex, Math.min(startRowIndex, endRowIndex), Math.max(startRowIndex, endRowIndex))) {\n    return null;\n  }\n  let startCellIndex = startColumnIndex;\n  let endCellIndex = endColumnIndex;\n  if (startRowIndex < currentIndex) {\n    startCellIndex = 0;\n  }\n  if (endRowIndex > currentIndex) {\n    endCellIndex = weekLength - 1;\n  }\n  return { startCellIndex, endCellIndex };\n}\nconst dayGridMonthSelectionHelper = {\n  sortSelection: (initPos, currentPos) => {\n    const isReversed = initPos.rowIndex > currentPos.rowIndex || initPos.rowIndex === currentPos.rowIndex && initPos.columnIndex > currentPos.columnIndex;\n    return createSortedGridSelection(initPos, currentPos, isReversed);\n  },\n  getDateFromCollection: (dateCollection, gridSelection) => {\n    const dateMatrix = dateCollection;\n    return [\n      dateMatrix[gridSelection.startRowIndex][gridSelection.startColumnIndex],\n      dateMatrix[gridSelection.endRowIndex][gridSelection.endColumnIndex]\n    ];\n  },\n  calculateSelection: calculateDayGridMonthSelectionByCurrentIndex\n};\nfunction calculateAlldayGridRowSelectionByCurrentIndex(gridSelection) {\n  return isPresent(gridSelection) ? {\n    startCellIndex: gridSelection.startColumnIndex,\n    endCellIndex: gridSelection.endColumnIndex\n  } : null;\n}\nconst alldayGridRowSelectionHelper = {\n  sortSelection: (initPos, currentPos) => {\n    const isReversed = initPos.columnIndex > currentPos.columnIndex;\n    return createSortedGridSelection(initPos, currentPos, isReversed);\n  },\n  getDateFromCollection: (dateCollection, gridSelection) => {\n    const weekDates = dateCollection;\n    return [weekDates[gridSelection.startColumnIndex], weekDates[gridSelection.endColumnIndex]];\n  },\n  calculateSelection: calculateAlldayGridRowSelectionByCurrentIndex\n};\nfunction dayGridWeekSelectionSelector(state) {\n  return alldayGridRowSelectionHelper.calculateSelection(state.gridSelection.dayGridWeek);\n}\nfunction AlldayGridSelection({ weekDates, narrowWeekend }) {\n  const calculatedGridSelection = useStore(dayGridWeekSelectionSelector);\n  if (isNil(calculatedGridSelection)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(GridSelection$1, {\n    type: \"allday\",\n    gridSelectionData: calculatedGridSelection,\n    weekDates,\n    narrowWeekend\n  });\n}\nfunction S(n2, t2) {\n  for (var e2 in t2)\n    n2[e2] = t2[e2];\n  return n2;\n}\nfunction C(n2, t2) {\n  for (var e2 in n2)\n    if (e2 !== \"__source\" && !(e2 in t2))\n      return true;\n  for (var r2 in t2)\n    if (r2 !== \"__source\" && n2[r2] !== t2[r2])\n      return true;\n  return false;\n}\nfunction E(n2) {\n  this.props = n2;\n}\nfunction g$1(n2, t2) {\n  function e2(n3) {\n    var e3 = this.props.ref, r3 = e3 == n3.ref;\n    return !r3 && e3 && (e3.call ? e3(null) : e3.current = null), t2 ? !t2(this.props, n3) || !r3 : C(this.props, n3);\n  }\n  function r2(t3) {\n    return this.shouldComponentUpdate = e2, h$3(n2, t3);\n  }\n  return r2.displayName = \"Memo(\" + (n2.displayName || n2.name) + \")\", r2.prototype.isReactComponent = true, r2.__f = true, r2;\n}\n(E.prototype = new d$3()).isPureReactComponent = true, E.prototype.shouldComponentUpdate = function(n2, t2) {\n  return C(this.props, n2) || C(this.state, t2);\n};\nvar w = l$3.__b;\nl$3.__b = function(n2) {\n  n2.type && n2.type.__f && n2.ref && (n2.props.ref = n2.ref, n2.ref = null), w && w(n2);\n};\nvar x$1 = typeof Symbol != \"undefined\" && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction R(n2) {\n  function t2(t3) {\n    var e2 = S({}, t3);\n    return delete e2.ref, n2(e2, t3.ref || null);\n  }\n  return t2.$$typeof = x$1, t2.render = t2, t2.prototype.isReactComponent = t2.__f = true, t2.displayName = \"ForwardRef(\" + (n2.displayName || n2.name) + \")\", t2;\n}\nvar A = l$3.__e;\nl$3.__e = function(n2, t2, e2, r2) {\n  if (n2.then) {\n    for (var u2, o2 = t2; o2 = o2.__; )\n      if ((u2 = o2.__c) && u2.__c)\n        return t2.__e == null && (t2.__e = e2.__e, t2.__k = e2.__k), u2.__c(n2, t2);\n  }\n  A(n2, t2, e2, r2);\n};\nvar O = l$3.unmount;\nfunction T() {\n  this.__u = 0, this.t = null, this.__b = null;\n}\nfunction L(n2) {\n  var t2 = n2.__.__c;\n  return t2 && t2.__a && t2.__a(n2);\n}\nfunction D() {\n  this.u = null, this.o = null;\n}\nl$3.unmount = function(n2) {\n  var t2 = n2.__c;\n  t2 && t2.__R && t2.__R(), t2 && n2.__h === true && (n2.type = null), O && O(n2);\n}, (T.prototype = new d$3()).__c = function(n2, t2) {\n  var e2 = t2.__c, r2 = this;\n  r2.t == null && (r2.t = []), r2.t.push(e2);\n  var u2 = L(r2.__v), o2 = false, i2 = function() {\n    o2 || (o2 = true, e2.__R = null, u2 ? u2(l2) : l2());\n  };\n  e2.__R = i2;\n  var l2 = function() {\n    if (!--r2.__u) {\n      if (r2.state.__a) {\n        var n3 = r2.state.__a;\n        r2.__v.__k[0] = function n4(t4, e3, r3) {\n          return t4 && (t4.__v = null, t4.__k = t4.__k && t4.__k.map(function(t5) {\n            return n4(t5, e3, r3);\n          }), t4.__c && t4.__c.__P === e3 && (t4.__e && r3.insertBefore(t4.__e, t4.__d), t4.__c.__e = true, t4.__c.__P = r3)), t4;\n        }(n3, n3.__c.__P, n3.__c.__O);\n      }\n      var t3;\n      for (r2.setState({ __a: r2.__b = null }); t3 = r2.t.pop(); )\n        t3.forceUpdate();\n    }\n  }, f2 = t2.__h === true;\n  r2.__u++ || f2 || r2.setState({ __a: r2.__b = r2.__v.__k[0] }), n2.then(i2, i2);\n}, T.prototype.componentWillUnmount = function() {\n  this.t = [];\n}, T.prototype.render = function(n2, t2) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var e2 = document.createElement(\"div\"), r2 = this.__v.__k[0].__c;\n      this.__v.__k[0] = function n3(t3, e3, r3) {\n        return t3 && (t3.__c && t3.__c.__H && (t3.__c.__H.__.forEach(function(n4) {\n          typeof n4.__c == \"function\" && n4.__c();\n        }), t3.__c.__H = null), (t3 = S({}, t3)).__c != null && (t3.__c.__P === r3 && (t3.__c.__P = e3), t3.__c = null), t3.__k = t3.__k && t3.__k.map(function(t4) {\n          return n3(t4, e3, r3);\n        })), t3;\n      }(this.__b, e2, r2.__O = r2.__P);\n    }\n    this.__b = null;\n  }\n  var u2 = t2.__a && h$3(p$3, null, n2.fallback);\n  return u2 && (u2.__h = null), [h$3(p$3, null, t2.__a ? null : n2.children), u2];\n};\nvar F = function(n2, t2, e2) {\n  if (++e2[1] === e2[0] && n2.o.delete(t2), n2.props.revealOrder && (n2.props.revealOrder[0] !== \"t\" || !n2.o.size))\n    for (e2 = n2.u; e2; ) {\n      for (; e2.length > 3; )\n        e2.pop()();\n      if (e2[1] < e2[0])\n        break;\n      n2.u = e2 = e2[2];\n    }\n};\nfunction I(n2) {\n  return this.getChildContext = function() {\n    return n2.context;\n  }, n2.children;\n}\nfunction M(n2) {\n  var t2 = this, e2 = n2.i;\n  t2.componentWillUnmount = function() {\n    P$2(null, t2.l), t2.l = null, t2.i = null;\n  }, t2.i && t2.i !== e2 && t2.componentWillUnmount(), n2.__v ? (t2.l || (t2.i = e2, t2.l = { nodeType: 1, parentNode: e2, childNodes: [], appendChild: function(n3) {\n    this.childNodes.push(n3), t2.i.appendChild(n3);\n  }, insertBefore: function(n3, e3) {\n    this.childNodes.push(n3), t2.i.appendChild(n3);\n  }, removeChild: function(n3) {\n    this.childNodes.splice(this.childNodes.indexOf(n3) >>> 1, 1), t2.i.removeChild(n3);\n  } }), P$2(h$3(I, { context: t2.context }, n2.__v), t2.l)) : t2.l && t2.componentWillUnmount();\n}\nfunction V(n2, t2) {\n  var e2 = h$3(M, { __v: n2, i: t2 });\n  return e2.containerInfo = t2, e2;\n}\n(D.prototype = new d$3()).__a = function(n2) {\n  var t2 = this, e2 = L(t2.__v), r2 = t2.o.get(n2);\n  return r2[0]++, function(u2) {\n    var o2 = function() {\n      t2.props.revealOrder ? (r2.push(u2), F(t2, n2, r2)) : u2();\n    };\n    e2 ? e2(o2) : o2();\n  };\n}, D.prototype.render = function(n2) {\n  this.u = null, this.o = /* @__PURE__ */ new Map();\n  var t2 = x$3(n2.children);\n  n2.revealOrder && n2.revealOrder[0] === \"b\" && t2.reverse();\n  for (var e2 = t2.length; e2--; )\n    this.o.set(t2[e2], this.u = [1, 0, this.u]);\n  return n2.children;\n}, D.prototype.componentDidUpdate = D.prototype.componentDidMount = function() {\n  var n2 = this;\n  this.o.forEach(function(t2, e2) {\n    F(n2, e2, t2);\n  });\n};\nvar W = typeof Symbol != \"undefined\" && Symbol.for && Symbol.for(\"react.element\") || 60103, P = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, $ = typeof document != \"undefined\", j = function(n2) {\n  return (typeof Symbol != \"undefined\" && typeof Symbol() == \"symbol\" ? /fil|che|rad/i : /fil|che|ra/i).test(n2);\n};\nd$3.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(n2) {\n  Object.defineProperty(d$3.prototype, n2, { configurable: true, get: function() {\n    return this[\"UNSAFE_\" + n2];\n  }, set: function(t2) {\n    Object.defineProperty(this, n2, { configurable: true, writable: true, value: t2 });\n  } });\n});\nvar H = l$3.event;\nfunction Z() {\n}\nfunction Y() {\n  return this.cancelBubble;\n}\nfunction q() {\n  return this.defaultPrevented;\n}\nl$3.event = function(n2) {\n  return H && (n2 = H(n2)), n2.persist = Z, n2.isPropagationStopped = Y, n2.isDefaultPrevented = q, n2.nativeEvent = n2;\n};\nvar J = { configurable: true, get: function() {\n  return this.class;\n} }, K = l$3.vnode;\nl$3.vnode = function(n2) {\n  var t2 = n2.type, e2 = n2.props, r2 = e2;\n  if (typeof t2 == \"string\") {\n    var u2 = t2.indexOf(\"-\") === -1;\n    for (var o2 in r2 = {}, e2) {\n      var i2 = e2[o2];\n      $ && o2 === \"children\" && t2 === \"noscript\" || o2 === \"value\" && \"defaultValue\" in e2 && i2 == null || (o2 === \"defaultValue\" && \"value\" in e2 && e2.value == null ? o2 = \"value\" : o2 === \"download\" && i2 === true ? i2 = \"\" : /ondoubleclick/i.test(o2) ? o2 = \"ondblclick\" : /^onchange(textarea|input)/i.test(o2 + t2) && !j(e2.type) ? o2 = \"oninput\" : /^onfocus$/i.test(o2) ? o2 = \"onfocusin\" : /^onblur$/i.test(o2) ? o2 = \"onfocusout\" : /^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o2) ? o2 = o2.toLowerCase() : u2 && P.test(o2) ? o2 = o2.replace(/[A-Z0-9]/, \"-$&\").toLowerCase() : i2 === null && (i2 = void 0), /^oninput$/i.test(o2) && (o2 = o2.toLowerCase(), r2[o2] && (o2 = \"oninputCapture\")), r2[o2] = i2);\n    }\n    t2 == \"select\" && r2.multiple && Array.isArray(r2.value) && (r2.value = x$3(e2.children).forEach(function(n3) {\n      n3.props.selected = r2.value.indexOf(n3.props.value) != -1;\n    })), t2 == \"select\" && r2.defaultValue != null && (r2.value = x$3(e2.children).forEach(function(n3) {\n      n3.props.selected = r2.multiple ? r2.defaultValue.indexOf(n3.props.value) != -1 : r2.defaultValue == n3.props.value;\n    })), n2.props = r2, e2.class != e2.className && (J.enumerable = \"className\" in e2, e2.className != null && (r2.class = e2.className), Object.defineProperty(r2, \"className\", J));\n  }\n  n2.$$typeof = W, K && K(n2);\n};\nvar Q = l$3.__r;\nl$3.__r = function(n2) {\n  Q && Q(n2), n2.__c;\n};\nfunction un(n2) {\n  return !!n2.__k && (P$2(null, n2), true);\n}\nfunction ExceedCount({ index, exceedCount, isClicked, onClickExceedCount }) {\n  const clickExceedCount = () => onClickExceedCount(index);\n  const style = { display: isClicked ? \"none\" : \"\" };\n  return exceedCount && !isClicked ? /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"weekday-exceed-in-week\"),\n    onClick: clickExceedCount,\n    style\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"weekGridFooterExceed\",\n    param: exceedCount\n  })) : null;\n}\nfunction CollapseButton({ isClicked, isClickedIndex, onClickCollapseButton }) {\n  return isClicked && isClickedIndex ? /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"weekday-exceed-in-week\"),\n    onClick: onClickCollapseButton\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"collapseBtnTitle\"\n  })) : null;\n}\nfunction GridCell$1({\n  width,\n  left,\n  index,\n  exceedCount,\n  isClicked,\n  onClickExceedCount,\n  isClickedIndex,\n  onClickCollapseButton,\n  isLastCell\n}) {\n  const { borderRight, backgroundColor } = useTheme(T$1((theme) => theme.week.dayGrid, []));\n  const style = {\n    width,\n    left,\n    borderRight: isLastCell ? \"none\" : borderRight,\n    backgroundColor\n  };\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-grid\"),\n    style\n  }, /* @__PURE__ */ h$3(ExceedCount, {\n    index,\n    exceedCount,\n    isClicked,\n    onClickExceedCount\n  }), /* @__PURE__ */ h$3(CollapseButton, {\n    isClickedIndex,\n    isClicked,\n    onClickCollapseButton\n  }));\n}\nconst GridCells = g$1(function GridCells2({\n  uiModels,\n  weekDates,\n  narrowWeekend,\n  height,\n  clickedIndex,\n  isClickedCount,\n  onClickExceedCount,\n  onClickCollapseButton\n}) {\n  const eventTopMargin = 2;\n  const { widthList, leftList } = getGridWidthAndLeftPercentValues(weekDates, narrowWeekend, TOTAL_WIDTH);\n  const lastCellIndex = weekDates.length - 1;\n  return /* @__PURE__ */ h$3(p$3, null, weekDates.map((cell, index) => {\n    const width = toPercent(widthList[index]);\n    const left = toPercent(leftList[index]);\n    const uiModelsInCell = uiModels.filter(isInGrid(cell));\n    const exceedCount = getExceedCount(uiModelsInCell, height, EVENT_HEIGHT + eventTopMargin);\n    const isClickedIndex = index === clickedIndex;\n    const isLastCell = index === lastCellIndex;\n    return /* @__PURE__ */ h$3(GridCell$1, {\n      key: `panel-grid-${cell.getDate()}`,\n      width,\n      left,\n      index,\n      exceedCount,\n      isClicked: isClickedCount,\n      onClickExceedCount,\n      isClickedIndex,\n      onClickCollapseButton,\n      isLastCell\n    });\n  }));\n});\nfunction HorizontalEventResizeIcon({ onMouseDown }) {\n  return /* @__PURE__ */ h$3(\"span\", {\n    className: `${cls(\"weekday-resize-handle\")} ${cls(\"handle-y\")}`,\n    onMouseDown,\n    \"data-testid\": \"horizontal-event-resize-icon\"\n  }, /* @__PURE__ */ h$3(\"i\", {\n    className: `${cls(\"icon\")} ${cls(\"ic-handle-y\")}`\n  }));\n}\nconst LayoutContainerContext = B$1(null);\nconst LayoutContainerProvider = LayoutContainerContext.Provider;\nconst useLayoutContainer = () => {\n  const ref = q$2(LayoutContainerContext);\n  if (isUndefined_1(ref)) {\n    throw new Error(\"LayoutContainerProvider is not found\");\n  }\n  return ref;\n};\nconst DRAGGING_TYPE_CONSTANTS = {\n  panelResizer: \"panelResizer\"\n};\nconst DRAGGING_TYPE_CREATORS = {\n  resizeEvent: (area, id) => `event/${area}/resize/${id}`,\n  moveEvent: (area, id) => `event/${area}/move/${id}`,\n  gridSelection: (type) => `gridSelection/${type}`\n};\nfunction useCalendarById(calendarId) {\n  return useStore(T$1((state) => state.calendar.calendars.find((cal) => cal.id === calendarId), [calendarId]));\n}\nfunction useCalendarColor(model) {\n  var _a;\n  const calendar = useCalendarById((_a = model == null ? void 0 : model.calendarId) != null ? _a : null);\n  return F$2(() => ({\n    color: calendar == null ? void 0 : calendar.color,\n    borderColor: calendar == null ? void 0 : calendar.borderColor,\n    backgroundColor: calendar == null ? void 0 : calendar.backgroundColor,\n    dragBackgroundColor: calendar == null ? void 0 : calendar.dragBackgroundColor\n  }), [calendar]);\n}\nvar KEY = /* @__PURE__ */ ((KEY2) => {\n  KEY2[\"ESCAPE\"] = \"Escape\";\n  return KEY2;\n})(KEY || {});\nconst KEYCODE = {\n  [\"Escape\"]: 27\n};\nconst MINIMUM_DRAG_MOUSE_DISTANCE = 3;\nfunction useTransientUpdate(selector, subscriber) {\n  const store = useInternalStore();\n  const selectorRef = s$2(selector);\n  const subscriberRef = s$2(subscriber);\n  _$2(() => {\n    selectorRef.current = selector;\n    subscriberRef.current = subscriber;\n  }, [selector, subscriber]);\n  _$2(() => store.subscribe((slice) => subscriberRef.current(slice), (state) => selectorRef.current(state)), [selector, store]);\n}\nfunction isKeyPressed(e2, key) {\n  return e2.key ? e2.key === key : e2.keyCode === KEYCODE[key];\n}\nfunction isLeftClick(buttonNum) {\n  return buttonNum === 0;\n}\nfunction isMouseMoved(initX, initY, x2, y2) {\n  return Math.abs(initX - x2) >= MINIMUM_DRAG_MOUSE_DISTANCE || Math.abs(initY - y2) >= MINIMUM_DRAG_MOUSE_DISTANCE;\n}\nfunction useDrag(draggingItemType, { onInit, onDragStart, onDrag, onMouseUp, onPressESCKey } = {}) {\n  const { initDrag, setDragging, cancelDrag, reset } = useDispatch(\"dnd\");\n  const store = useInternalStore();\n  const dndSliceRef = s$2(store.getState().dnd);\n  useTransientUpdate(dndSelector, (dndState) => {\n    dndSliceRef.current = dndState;\n  });\n  const [isStarted, setStarted] = y$1(false);\n  const handleMouseMoveRef = s$2(null);\n  const handleMouseUpRef = s$2(null);\n  const handleKeyDownRef = s$2(null);\n  const handleMouseDown = T$1((e2) => {\n    if (!isLeftClick(e2.button)) {\n      return;\n    }\n    if (e2.currentTarget) {\n      e2.currentTarget.ondragstart = function() {\n        return false;\n      };\n    }\n    e2.preventDefault();\n    setStarted(true);\n    initDrag({\n      draggingItemType,\n      initX: e2.clientX,\n      initY: e2.clientY\n    });\n    onInit == null ? void 0 : onInit(e2, dndSliceRef.current);\n  }, [onInit, draggingItemType, initDrag]);\n  const handleMouseMove = T$1((e2) => {\n    const {\n      initX,\n      initY,\n      draggingState,\n      draggingItemType: currentDraggingItemType\n    } = dndSliceRef.current;\n    if (currentDraggingItemType !== draggingItemType) {\n      setStarted(false);\n      reset();\n      return;\n    }\n    if (isPresent(initX) && isPresent(initY) && !isMouseMoved(initX, initY, e2.clientX, e2.clientY)) {\n      return;\n    }\n    if (draggingState <= DraggingState.INIT) {\n      setDragging({ x: e2.clientX, y: e2.clientY });\n      onDragStart == null ? void 0 : onDragStart(e2, dndSliceRef.current);\n      return;\n    }\n    setDragging({ x: e2.clientX, y: e2.clientY });\n    onDrag == null ? void 0 : onDrag(e2, dndSliceRef.current);\n  }, [draggingItemType, onDrag, onDragStart, setDragging, reset]);\n  const handleMouseUp = T$1((e2) => {\n    e2.stopPropagation();\n    if (isStarted) {\n      onMouseUp == null ? void 0 : onMouseUp(e2, dndSliceRef.current);\n      setStarted(false);\n      reset();\n    }\n  }, [isStarted, onMouseUp, reset]);\n  const handleKeyDown = T$1((e2) => {\n    if (isKeyPressed(e2, KEY.ESCAPE)) {\n      setStarted(false);\n      cancelDrag();\n      onPressESCKey == null ? void 0 : onPressESCKey(e2, dndSliceRef.current);\n    }\n  }, [onPressESCKey, cancelDrag]);\n  _$2(() => {\n    handleMouseMoveRef.current = handleMouseMove;\n    handleMouseUpRef.current = handleMouseUp;\n    handleKeyDownRef.current = handleKeyDown;\n  }, [handleKeyDown, handleMouseMove, handleMouseUp]);\n  _$2(() => {\n    const wrappedHandleMouseMove = (e2) => {\n      var _a;\n      return (_a = handleMouseMoveRef.current) == null ? void 0 : _a.call(handleMouseMoveRef, e2);\n    };\n    const wrappedHandleMouseUp = (e2) => {\n      var _a;\n      return (_a = handleMouseUpRef.current) == null ? void 0 : _a.call(handleMouseUpRef, e2);\n    };\n    const wrappedHandleKeyDown = (e2) => {\n      var _a;\n      return (_a = handleKeyDownRef.current) == null ? void 0 : _a.call(handleKeyDownRef, e2);\n    };\n    if (isStarted) {\n      document.addEventListener(\"mousemove\", wrappedHandleMouseMove);\n      document.addEventListener(\"mouseup\", wrappedHandleMouseUp);\n      document.addEventListener(\"keydown\", wrappedHandleKeyDown);\n      return () => {\n        document.removeEventListener(\"mousemove\", wrappedHandleMouseMove);\n        document.removeEventListener(\"mouseup\", wrappedHandleMouseUp);\n        document.removeEventListener(\"keydown\", wrappedHandleKeyDown);\n      };\n    }\n    return noop;\n  }, [isStarted, reset]);\n  return handleMouseDown;\n}\nfunction passConditionalProp(condition, prop) {\n  return condition ? prop : void 0;\n}\nfunction getMargins(flat) {\n  return {\n    vertical: flat ? 5 : 2,\n    horizontal: 8\n  };\n}\nfunction getBorderRadius(exceedLeft, exceedRight) {\n  const leftBorderRadius = exceedLeft ? 0 : \"2px\";\n  const rightBorderRadius = exceedRight ? 0 : \"2px\";\n  return `${leftBorderRadius} ${rightBorderRadius} ${rightBorderRadius} ${leftBorderRadius}`;\n}\nfunction getEventItemStyle({\n  uiModel,\n  flat,\n  eventHeight,\n  isDraggingTarget,\n  calendarColor\n}) {\n  const { exceedLeft, exceedRight } = uiModel;\n  const { color, backgroundColor, dragBackgroundColor, borderColor } = getEventColors(uiModel, calendarColor);\n  const defaultItemStyle = {\n    color,\n    backgroundColor: isDraggingTarget ? dragBackgroundColor : backgroundColor,\n    borderLeft: exceedLeft ? \"none\" : `3px solid ${borderColor}`,\n    borderRadius: getBorderRadius(exceedLeft, exceedRight),\n    overflow: \"hidden\",\n    height: eventHeight,\n    lineHeight: toPx(eventHeight),\n    opacity: isDraggingTarget ? 0.5 : 1\n  };\n  const margins = getMargins(flat);\n  return flat ? __spreadValues({\n    marginTop: margins.vertical\n  }, defaultItemStyle) : __spreadValues({\n    marginLeft: exceedLeft ? 0 : margins.horizontal,\n    marginRight: exceedRight ? 0 : margins.horizontal\n  }, defaultItemStyle);\n}\nfunction getContainerStyle({\n  flat,\n  uiModel,\n  resizingWidth,\n  movingLeft,\n  eventHeight,\n  headerHeight\n}) {\n  const { top, left, width, model } = uiModel;\n  const margins = getMargins(flat);\n  const baseStyle = flat ? {} : {\n    width: resizingWidth || toPercent(width),\n    left: toPercent(movingLeft != null ? movingLeft : left),\n    top: (top - 1) * (eventHeight + margins.vertical) + headerHeight,\n    position: \"absolute\"\n  };\n  return Object.assign(baseStyle, model.customStyle);\n}\nfunction getTestId({ model }) {\n  const calendarId = model.calendarId ? `${model.calendarId}-` : \"\";\n  const id = model.id ? `${model.id}-` : \"\";\n  return `${calendarId}${id}${model.title}`;\n}\nconst classNames$k = {\n  eventBody: cls(\"weekday-event\"),\n  eventTitle: cls(\"weekday-event-title\"),\n  eventDot: cls(\"weekday-event-dot\"),\n  moveEvent: cls(\"dragging--move-event\"),\n  resizeEvent: cls(\"dragging--resize-horizontal-event\")\n};\nfunction HorizontalEvent({\n  flat = false,\n  uiModel,\n  eventHeight,\n  headerHeight,\n  resizingWidth = null,\n  movingLeft = null\n}) {\n  const { currentView } = useStore(viewSelector);\n  const { useDetailPopup, isReadOnly: isReadOnlyCalendar } = useStore(optionsSelector);\n  const { setDraggingEventUIModel } = useDispatch(\"dnd\");\n  const { showDetailPopup } = useDispatch(\"popup\");\n  const layoutContainer = useLayoutContainer();\n  const eventBus = useEventBus();\n  const calendarColor = useCalendarColor(uiModel.model);\n  const [isDraggingTarget, setIsDraggingTarget] = y$1(false);\n  const eventContainerRef = s$2(null);\n  const { isReadOnly, id, calendarId } = uiModel.model;\n  const isDraggableEvent2 = !isReadOnlyCalendar && !isReadOnly && isNil(resizingWidth) && isNil(movingLeft);\n  const startDragEvent = (className2) => {\n    setDraggingEventUIModel(uiModel);\n    layoutContainer == null ? void 0 : layoutContainer.classList.add(className2);\n  };\n  const endDragEvent = (className2) => {\n    setIsDraggingTarget(false);\n    layoutContainer == null ? void 0 : layoutContainer.classList.remove(className2);\n  };\n  useTransientUpdate(dndSelector, ({ draggingEventUIModel, draggingState }) => {\n    if (draggingState === DraggingState.DRAGGING && (draggingEventUIModel == null ? void 0 : draggingEventUIModel.cid()) === uiModel.cid() && isNil(resizingWidth) && isNil(movingLeft)) {\n      setIsDraggingTarget(true);\n    } else {\n      setIsDraggingTarget(false);\n    }\n  });\n  _$2(() => {\n    if (isDraggableEvent2) {\n      eventBus.fire(\"afterRenderEvent\", uiModel.model.toEventObject());\n    }\n  }, []);\n  const onResizeStart = useDrag(DRAGGING_TYPE_CREATORS.resizeEvent(\"dayGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => startDragEvent(classNames$k.resizeEvent),\n    onMouseUp: () => endDragEvent(classNames$k.resizeEvent),\n    onPressESCKey: () => endDragEvent(classNames$k.resizeEvent)\n  });\n  const onMoveStart = useDrag(DRAGGING_TYPE_CREATORS.moveEvent(\"dayGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => {\n      if (isDraggableEvent2) {\n        startDragEvent(classNames$k.moveEvent);\n      }\n    },\n    onMouseUp: (e2, { draggingState }) => {\n      endDragEvent(classNames$k.moveEvent);\n      const isClick = draggingState <= DraggingState.INIT;\n      if (isClick && useDetailPopup && eventContainerRef.current) {\n        showDetailPopup({\n          event: uiModel.model,\n          eventRect: eventContainerRef.current.getBoundingClientRect()\n        }, flat);\n      }\n      if (isClick) {\n        eventBus.fire(\"clickEvent\", { event: uiModel.model.toEventObject(), nativeEvent: e2 });\n      }\n    },\n    onPressESCKey: () => endDragEvent(classNames$k.moveEvent)\n  });\n  const handleResizeStart = (e2) => {\n    e2.stopPropagation();\n    if (isDraggableEvent2) {\n      onResizeStart(e2);\n    }\n  };\n  const handleMoveStart = (e2) => {\n    e2.stopPropagation();\n    onMoveStart(e2);\n  };\n  const isDotEvent = !isDraggingTarget && currentView === \"month\" && uiModel.model.category === \"time\" && isSameDate(uiModel.model.start, uiModel.model.end);\n  const shouldHideResizeHandler = !isDraggableEvent2 || flat || isDraggingTarget || uiModel.exceedRight;\n  const containerStyle = getContainerStyle({\n    uiModel,\n    eventHeight,\n    headerHeight,\n    flat,\n    movingLeft,\n    resizingWidth\n  });\n  const eventItemStyle = getEventItemStyle({\n    uiModel,\n    flat,\n    eventHeight,\n    isDraggingTarget,\n    calendarColor\n  });\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"weekday-event-block\", {\n      \"weekday-exceed-left\": uiModel.exceedLeft,\n      \"weekday-exceed-right\": uiModel.exceedRight\n    }),\n    style: containerStyle,\n    \"data-testid\": passConditionalProp(isDraggableEvent2, getTestId(uiModel)),\n    \"data-calendar-id\": calendarId,\n    \"data-event-id\": id,\n    ref: eventContainerRef\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$k.eventBody,\n    style: __spreadProps(__spreadValues({}, eventItemStyle), {\n      backgroundColor: isDotEvent ? null : eventItemStyle.backgroundColor,\n      borderLeft: isDotEvent ? null : eventItemStyle.borderLeft\n    }),\n    onMouseDown: handleMoveStart\n  }, isDotEvent ? /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$k.eventDot,\n    style: { backgroundColor: eventItemStyle.backgroundColor }\n  }) : null, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$k.eventTitle\n  }, /* @__PURE__ */ h$3(Template, {\n    template: uiModel.model.category,\n    param: uiModel.model\n  })), !shouldHideResizeHandler ? /* @__PURE__ */ h$3(HorizontalEventResizeIcon, {\n    onMouseDown: handleResizeStart\n  }) : null));\n}\nfunction useWhen(callback, condition) {\n  const callbackRef = s$2(callback);\n  _$2(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n  _$2(() => {\n    const invoke = () => callbackRef.current();\n    if (condition) {\n      invoke();\n    }\n  }, [condition]);\n}\nfunction useCurrentPointerPositionInGrid(gridPositionFinder) {\n  const [currentGridPos, setCurrentGridPos] = y$1(null);\n  useTransientUpdate(dndSelector, (dndState) => {\n    if (isPresent(dndState.x) && isPresent(dndState.y)) {\n      const gridPosition = gridPositionFinder({\n        clientX: dndState.x,\n        clientY: dndState.y\n      });\n      if (gridPosition) {\n        setCurrentGridPos(gridPosition);\n      }\n    }\n  });\n  const clearCurrentGridPos = T$1(() => setCurrentGridPos(null), []);\n  return [currentGridPos, clearCurrentGridPos];\n}\nconst getTargetEventId = (itemType, area, behavior) => {\n  function isEventDraggingType(_itemType) {\n    return new RegExp(`^event/${area}/${behavior}/\\\\d+$`).test(_itemType);\n  }\n  if (isNil(itemType)) {\n    return null;\n  }\n  return isEventDraggingType(itemType) ? last(itemType.split(\"/\")) : null;\n};\nfunction useDraggingEvent(area, behavior) {\n  const [isDraggingEnd, setIsDraggingEnd] = y$1(false);\n  const [isDraggingCanceled, setIsDraggingCanceled] = y$1(false);\n  const [draggingEvent, setDraggingEvent] = y$1(null);\n  useTransientUpdate(dndSelector, ({ draggingItemType, draggingEventUIModel, draggingState }) => {\n    const targetEventId = getTargetEventId(draggingItemType, area, behavior);\n    const hasMatchingTargetEvent = Number(targetEventId) === (draggingEventUIModel == null ? void 0 : draggingEventUIModel.cid());\n    const isIdle = draggingState === DraggingState.IDLE;\n    const isCanceled = draggingState === DraggingState.CANCELED;\n    if (isNil(draggingEvent) && hasMatchingTargetEvent) {\n      setDraggingEvent(draggingEventUIModel);\n    }\n    if (isPresent(draggingEvent) && (isIdle || isCanceled)) {\n      setIsDraggingEnd(true);\n      setIsDraggingCanceled(isCanceled);\n    }\n  });\n  const clearDraggingEvent = () => {\n    setDraggingEvent(null);\n    setIsDraggingEnd(false);\n    setIsDraggingCanceled(false);\n  };\n  return {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent,\n    clearDraggingEvent\n  };\n}\nfunction useAlldayGridRowEventMove({ rowStyleInfo, gridPositionFinder }) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: movingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"move\");\n  const startGridXRef = s$2(null);\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const { columnIndex } = currentGridPos != null ? currentGridPos : {};\n  const targetEventStartGridX = F$2(() => isNil(movingEvent) ? null : rowStyleInfo.findIndex(({ left }) => left === movingEvent.left), [rowStyleInfo, movingEvent]);\n  const currentMovingLeft = F$2(() => {\n    if (isNil(columnIndex) || isNil(startGridXRef.current) || isNil(targetEventStartGridX)) {\n      return null;\n    }\n    const newColumnIndex = targetEventStartGridX + columnIndex - startGridXRef.current;\n    return newColumnIndex < 0 ? -rowStyleInfo[-newColumnIndex].left : rowStyleInfo[newColumnIndex].left;\n  }, [columnIndex, rowStyleInfo, targetEventStartGridX]);\n  _$2(() => {\n    if (isNil(startGridXRef.current) && isPresent(columnIndex)) {\n      startGridXRef.current = columnIndex;\n    }\n  }, [columnIndex]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(movingEvent) && isPresent(columnIndex) && isPresent(currentMovingLeft) && columnIndex !== startGridXRef.current;\n    if (shouldUpdate && isPresent(startGridXRef.current)) {\n      const dateOffset = columnIndex - startGridXRef.current;\n      const newStartDate = new TZDate(movingEvent.model.getStarts());\n      const newEndDate = new TZDate(movingEvent.model.getEnds());\n      newStartDate.addDate(dateOffset);\n      newEndDate.addDate(dateOffset);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: movingEvent.model.toEventObject(),\n        changes: {\n          start: newStartDate,\n          end: newEndDate\n        }\n      });\n    }\n    clearDraggingEvent();\n    clearCurrentGridPos();\n    startGridXRef.current = null;\n  }, isDraggingEnd);\n  return F$2(() => ({\n    movingEvent,\n    movingLeft: currentMovingLeft\n  }), [currentMovingLeft, movingEvent]);\n}\nfunction MovingEventShadow$2({\n  rowStyleInfo,\n  gridPositionFinder\n}) {\n  const { movingEvent, movingLeft } = useAlldayGridRowEventMove({\n    rowStyleInfo,\n    gridPositionFinder\n  });\n  if (isNil(movingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(HorizontalEvent, {\n    uiModel: movingEvent,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0,\n    movingLeft\n  });\n}\nfunction getEventColIndex(uiModel, row) {\n  const start = getGridDateIndex(uiModel.getStarts(), row);\n  const end = getGridDateIndex(uiModel.getEnds(), row);\n  return { start, end };\n}\nfunction useAlldayGridRowEventResize({\n  weekDates,\n  gridColWidthMap,\n  gridPositionFinder\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: resizingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"resize\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const { columnIndex } = currentGridPos != null ? currentGridPos : {};\n  const targetEventGridIndices = F$2(() => {\n    if (resizingEvent) {\n      return getEventColIndex(resizingEvent, weekDates);\n    }\n    return { start: -1, end: -1 };\n  }, [weekDates, resizingEvent]);\n  const resizingWidth = F$2(() => {\n    if (targetEventGridIndices.start > -1 && isPresent(columnIndex)) {\n      return gridColWidthMap[targetEventGridIndices.start][columnIndex];\n    }\n    return null;\n  }, [columnIndex, gridColWidthMap, targetEventGridIndices.start]);\n  useWhen(() => {\n    const shouldUpdateEvent = !isDraggingCanceled && isPresent(resizingEvent) && isPresent(columnIndex) && targetEventGridIndices.start <= columnIndex && targetEventGridIndices.end !== columnIndex;\n    if (shouldUpdateEvent) {\n      const targetDate = weekDates[columnIndex];\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: resizingEvent.model.toEventObject(),\n        changes: { end: targetDate }\n      });\n    }\n    clearCurrentGridPos();\n    clearDraggingEvent();\n  }, isDraggingEnd);\n  return F$2(() => ({\n    resizingEvent,\n    resizingWidth\n  }), [resizingWidth, resizingEvent]);\n}\nfunction ResizingEventShadow({ weekDates, gridColWidthMap, gridPositionFinder }) {\n  const { resizingEvent, resizingWidth } = useAlldayGridRowEventResize({\n    weekDates,\n    gridColWidthMap,\n    gridPositionFinder\n  });\n  if (isNil(resizingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(HorizontalEvent, {\n    uiModel: resizingEvent,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0,\n    resizingWidth\n  });\n}\nfunction useDOMNode() {\n  const [node, setNode] = y$1(null);\n  const setNodeRef = T$1((ref) => {\n    if (ref) {\n      setNode(ref);\n    }\n  }, []);\n  return [node, setNodeRef];\n}\nfunction useGridRowHeightController(maxTop, category) {\n  const [clickedIndex, setClickedIndex] = y$1(0);\n  const [isClickedCount, setClickedCount] = y$1(false);\n  const { updateDayGridRowHeight } = useDispatch(\"weekViewLayout\");\n  const onClickExceedCount = T$1((index) => {\n    setClickedCount(true);\n    setClickedIndex(index);\n    updateDayGridRowHeight({\n      rowName: category,\n      height: (maxTop + 1) * EVENT_HEIGHT\n    });\n  }, [category, maxTop, updateDayGridRowHeight]);\n  const onClickCollapseButton = T$1(() => {\n    setClickedCount(false);\n    updateDayGridRowHeight({\n      rowName: category,\n      height: DEFAULT_PANEL_HEIGHT\n    });\n  }, [category, updateDayGridRowHeight]);\n  return {\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  };\n}\nfunction requestTimeout(fn2, delay, registerCancel) {\n  let start;\n  const loop = (timestamp) => {\n    if (!start) {\n      start = timestamp;\n    }\n    const elapsed = timestamp - start;\n    if (elapsed >= delay) {\n      fn2();\n      registerCancel(noop);\n      return;\n    }\n    const raf2 = requestAnimationFrame(loop);\n    registerCancel(() => cancelAnimationFrame(raf2));\n  };\n  const raf = requestAnimationFrame(loop);\n  registerCancel(() => cancelAnimationFrame(raf));\n}\nfunction useClickPrevention({\n  onClick,\n  onDblClick,\n  delay = 300\n}) {\n  const cancelCallback = s$2(noop);\n  const registerCancel = (fn2) => {\n    cancelCallback.current = fn2;\n  };\n  const cancelScheduledWork = () => {\n    cancelCallback.current();\n  };\n  _$2(() => cancelScheduledWork, []);\n  const handleClick = (e2) => {\n    cancelScheduledWork();\n    requestTimeout(onClick.bind(null, e2), delay, registerCancel);\n  };\n  const handleDblClick = (e2) => {\n    cancelScheduledWork();\n    onDblClick(e2);\n  };\n  return [handleClick, handleDblClick];\n}\nconst GRID_SELECTION_TYPE_MAP = {\n  dayGridMonth: \"month\",\n  dayGridWeek: \"allday\",\n  timeGrid: \"time\"\n};\nfunction sortDates(a2, b2) {\n  const isIncreased = a2 < b2;\n  return isIncreased ? [a2, b2] : [b2, a2];\n}\nfunction useGridSelection({\n  type,\n  selectionSorter,\n  dateGetter,\n  dateCollection,\n  gridPositionFinder\n}) {\n  const { useFormPopup, gridSelection: gridSelectionOptions } = useStore(optionsSelector);\n  const { enableDblClick, enableClick } = gridSelectionOptions;\n  const { setGridSelection, addGridSelection, clearAll } = useDispatch(\"gridSelection\");\n  const { hideAllPopup, showFormPopup } = useDispatch(\"popup\");\n  const eventBus = useEventBus();\n  const layoutContainer = useLayoutContainer();\n  const [initMousePosition, setInitMousePosition] = y$1(null);\n  const [initGridPosition, setInitGridPosition] = y$1(null);\n  const isSelectingGridRef = s$2(false);\n  const gridSelectionRef = s$2(null);\n  useTransientUpdate(T$1((state) => state.gridSelection[type], [type]), (gridSelection) => {\n    gridSelectionRef.current = gridSelection;\n  });\n  useTransientUpdate(dndSelector, ({ draggingState, draggingItemType }) => {\n    isSelectingGridRef.current = draggingItemType === currentGridSelectionType && draggingState >= DraggingState.INIT;\n  });\n  const currentGridSelectionType = DRAGGING_TYPE_CREATORS.gridSelection(type);\n  const setGridSelectionByPosition = (e2) => {\n    const gridPosition = gridPositionFinder(e2);\n    if (isPresent(initGridPosition) && isPresent(gridPosition)) {\n      setGridSelection(type, selectionSorter(initGridPosition, gridPosition));\n    }\n  };\n  const [handleClickWithDebounce, handleDblClickPreventingClick] = useClickPrevention({\n    onClick: (e2) => {\n      if (enableClick) {\n        onMouseUp(e2, true);\n      }\n    },\n    onDblClick: (e2) => {\n      if (enableDblClick) {\n        onMouseUp(e2, true);\n      }\n    },\n    delay: 250\n  });\n  const onMouseUpWithClick = (e2) => {\n    const isClick = e2.detail <= 1;\n    if (!enableClick && (!enableDblClick || isClick)) {\n      return;\n    }\n    if (enableClick) {\n      if (isClick) {\n        handleClickWithDebounce(e2);\n      } else {\n        handleDblClickPreventingClick(e2);\n      }\n      return;\n    }\n    onMouseUp(e2, true);\n  };\n  const onMouseUp = (e2, isClickEvent) => {\n    var _a;\n    if (isClickEvent) {\n      setGridSelectionByPosition(e2);\n    }\n    if (isPresent(gridSelectionRef.current)) {\n      const [startDate, endDate] = sortDates(...dateGetter(dateCollection, gridSelectionRef.current));\n      if (useFormPopup && isPresent(initMousePosition)) {\n        const popupArrowPointPosition = {\n          top: (e2.clientY + initMousePosition.y) / 2,\n          left: (e2.clientX + initMousePosition.x) / 2\n        };\n        showFormPopup({\n          isCreationPopup: true,\n          title: \"\",\n          location: \"\",\n          start: startDate,\n          end: endDate,\n          isAllday: type !== \"timeGrid\",\n          isPrivate: false,\n          popupArrowPointPosition,\n          close: clearAll\n        });\n      }\n      const gridSelectionSelector = `.${cls(GRID_SELECTION_TYPE_MAP[type])}.${cls(\"grid-selection\")}`;\n      const gridSelectionElements = Array.from((_a = layoutContainer == null ? void 0 : layoutContainer.querySelectorAll(gridSelectionSelector)) != null ? _a : []);\n      eventBus.fire(\"selectDateTime\", {\n        start: startDate.toDate(),\n        end: endDate.toDate(),\n        isAllday: type !== \"timeGrid\",\n        nativeEvent: e2,\n        gridSelectionElements\n      });\n    }\n  };\n  const clearGridSelection = T$1(() => {\n    setInitMousePosition(null);\n    setInitGridPosition(null);\n    setGridSelection(type, null);\n  }, [setGridSelection, type]);\n  const onMouseDown = useDrag(currentGridSelectionType, {\n    onInit: (e2) => {\n      if (useFormPopup) {\n        setInitMousePosition({\n          x: e2.clientX,\n          y: e2.clientY\n        });\n        hideAllPopup();\n      }\n      const gridPosition = gridPositionFinder(e2);\n      if (isPresent(gridPosition)) {\n        setInitGridPosition(gridPosition);\n      }\n      if (!useFormPopup) {\n        addGridSelection(type, gridSelectionRef.current);\n      }\n    },\n    onDragStart: (e2) => {\n      setGridSelectionByPosition(e2);\n    },\n    onDrag: (e2) => {\n      if (isSelectingGridRef.current) {\n        setGridSelectionByPosition(e2);\n      }\n    },\n    onMouseUp: (e2, { draggingState }) => {\n      e2.stopPropagation();\n      const isClickEvent = draggingState <= DraggingState.INIT;\n      if (isClickEvent) {\n        onMouseUpWithClick(e2);\n      } else {\n        onMouseUp(e2, isClickEvent);\n      }\n    },\n    onPressESCKey: clearGridSelection\n  });\n  _$2(() => clearGridSelection, [clearGridSelection]);\n  return onMouseDown;\n}\nconst rowTitleTemplate = `alldayTitle`;\nfunction AlldayGridRow({\n  events,\n  weekDates,\n  height = DEFAULT_PANEL_HEIGHT,\n  options = {},\n  rowStyleInfo,\n  gridColWidthMap\n}) {\n  const { isReadOnly } = useStore(optionsSelector);\n  const dayGridLeftTheme = useTheme(weekDayGridLeftSelector);\n  const [panelContainer, setPanelContainerRef] = useDOMNode();\n  const { narrowWeekend = false, startDayOfWeek = Day$2.SUN } = options;\n  const maxTop = F$2(() => Math.max(0, ...events.map(({ top }) => top)), [events]);\n  const gridPositionFinder = F$2(() => createGridPositionFinder({\n    container: panelContainer,\n    rowsCount: 1,\n    columnsCount: weekDates.length,\n    narrowWeekend,\n    startDayOfWeek\n  }), [panelContainer, weekDates.length, narrowWeekend, startDayOfWeek]);\n  const { clickedIndex, isClickedCount, onClickExceedCount, onClickCollapseButton } = useGridRowHeightController(maxTop, \"allday\");\n  const horizontalEvents = F$2(() => events.filter(isWithinHeight(height, EVENT_HEIGHT + WEEK_EVENT_MARGIN_TOP)).map((uiModel) => /* @__PURE__ */ h$3(HorizontalEvent, {\n    key: `allday-DayEvent-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0\n  })), [events, height]);\n  const startGridSelection = useGridSelection({\n    type: \"dayGridWeek\",\n    gridPositionFinder,\n    dateCollection: weekDates,\n    selectionSorter: alldayGridRowSelectionHelper.sortSelection,\n    dateGetter: alldayGridRowSelectionHelper.getDateFromCollection\n  });\n  const onMouseDown = (e2) => {\n    const target = e2.target;\n    if (isReadOnly || !target.classList.contains(cls(\"panel-grid\"))) {\n      return;\n    }\n    startGridSelection(e2);\n  };\n  return /* @__PURE__ */ h$3(p$3, null, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-title\"),\n    style: dayGridLeftTheme\n  }, /* @__PURE__ */ h$3(Template, {\n    template: rowTitleTemplate,\n    param: \"alldayTitle\"\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"allday-panel\"),\n    ref: setPanelContainerRef,\n    onMouseDown\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-grid-wrapper\")\n  }, /* @__PURE__ */ h$3(GridCells, {\n    uiModels: events,\n    weekDates,\n    narrowWeekend,\n    height,\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: cls(`panel-allday-events`)\n  }, horizontalEvents), /* @__PURE__ */ h$3(ResizingEventShadow, {\n    weekDates,\n    gridPositionFinder,\n    gridColWidthMap\n  }), /* @__PURE__ */ h$3(MovingEventShadow$2, {\n    rowStyleInfo,\n    gridPositionFinder\n  }), /* @__PURE__ */ h$3(AlldayGridSelection, {\n    weekDates,\n    narrowWeekend\n  })));\n}\nfunction OtherGridRow({\n  events,\n  weekDates,\n  category,\n  height = DEFAULT_PANEL_HEIGHT,\n  options = {}\n}) {\n  const dayGridLeftTheme = useTheme(weekDayGridLeftSelector);\n  const maxTop = F$2(() => Math.max(0, ...events.map(({ top }) => top)), [events]);\n  const { narrowWeekend = false } = options;\n  const rowTitleTemplate2 = `${category}Title`;\n  const { clickedIndex, isClickedCount, onClickExceedCount, onClickCollapseButton } = useGridRowHeightController(maxTop, category);\n  const horizontalEvents = F$2(() => events.filter(isWithinHeight(height, EVENT_HEIGHT + WEEK_EVENT_MARGIN_TOP)).map((uiModel) => /* @__PURE__ */ h$3(HorizontalEvent, {\n    key: `${category}-DayEvent-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: 0\n  })), [category, events, height]);\n  return /* @__PURE__ */ h$3(p$3, null, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-title\"),\n    style: dayGridLeftTheme\n  }, /* @__PURE__ */ h$3(Template, {\n    template: rowTitleTemplate2,\n    param: category\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"allday-panel\")\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-grid-wrapper\")\n  }, /* @__PURE__ */ h$3(GridCells, {\n    uiModels: events,\n    weekDates,\n    narrowWeekend,\n    height,\n    clickedIndex,\n    isClickedCount,\n    onClickExceedCount,\n    onClickCollapseButton\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: cls(`panel-${category}-events`)\n  }, horizontalEvents)));\n}\nconst classNames$j = {\n  detailItem: cls(\"detail-item\"),\n  detailItemIndent: cls(\"detail-item\", \"detail-item-indent\"),\n  detailItemSeparate: cls(\"detail-item\", \"detail-item-separate\"),\n  sectionDetail: cls(\"popup-section\", \"section-detail\"),\n  content: cls(\"content\"),\n  locationIcon: cls(\"icon\", \"ic-location-b\"),\n  repeatIcon: cls(\"icon\", \"ic-repeat-b\"),\n  userIcon: cls(\"icon\", \"ic-user-b\"),\n  stateIcon: cls(\"icon\", \"ic-state-b\"),\n  calendarDotIcon: cls(\"icon\", \"calendar-dot\")\n};\nfunction EventDetailSectionDetail({ event }) {\n  var _a, _b;\n  const { location: location2, recurrenceRule, attendees, state, calendarId, body } = event;\n  const calendar = useCalendarById(calendarId);\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.sectionDetail\n  }, location2 && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.locationIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailLocation\",\n    param: event,\n    as: \"span\"\n  }))), recurrenceRule && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.repeatIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailRecurrenceRule\",\n    param: event,\n    as: \"span\"\n  }))), attendees && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.detailItemIndent\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.userIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailAttendees\",\n    param: event,\n    as: \"span\"\n  }))), state && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.stateIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailState\",\n    param: event,\n    as: \"span\"\n  }))), calendar && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.detailItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.calendarDotIcon,\n    style: {\n      backgroundColor: (_a = calendar == null ? void 0 : calendar.backgroundColor) != null ? _a : \"\"\n    }\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.content\n  }, (_b = calendar == null ? void 0 : calendar.name) != null ? _b : \"\")), body && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$j.detailItemSeparate\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$j.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailBody\",\n    param: event,\n    as: \"span\"\n  }))));\n}\nconst classNames$i = {\n  sectionHeader: cls(\"popup-section\", \"section-header\"),\n  content: cls(\"content\"),\n  eventTitle: cls(\"event-title\")\n};\nfunction EventDetailSectionHeader({ event }) {\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$i.sectionHeader\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$i.eventTitle\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailTitle\",\n    param: event,\n    as: \"span\"\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$i.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDetailDate\",\n    param: event,\n    as: \"span\"\n  })));\n}\nconst SEE_MORE_POPUP_SLOT_CLASS_NAME = cls(\"see-more-popup-slot\");\nconst EVENT_FORM_POPUP_SLOT_CLASS_NAME = cls(\"event-form-popup-slot\");\nconst EVENT_DETAIL_POPUP_SLOT_CLASS_NAME = cls(\"event-detail-popup-slot\");\nconst HALF_OF_POPUP_ARROW_HEIGHT = 8;\nconst BOOLEAN_KEYS_OF_EVENT_MODEL_DATA = [\n  \"isPrivate\",\n  \"isAllday\",\n  \"isPending\",\n  \"isFocused\",\n  \"isVisible\",\n  \"isReadOnly\"\n];\nvar DetailPopupArrowDirection = /* @__PURE__ */ ((DetailPopupArrowDirection2) => {\n  DetailPopupArrowDirection2[\"right\"] = \"right\";\n  DetailPopupArrowDirection2[\"left\"] = \"left\";\n  return DetailPopupArrowDirection2;\n})(DetailPopupArrowDirection || {});\nvar FormPopupArrowDirection = /* @__PURE__ */ ((FormPopupArrowDirection2) => {\n  FormPopupArrowDirection2[\"top\"] = \"top\";\n  FormPopupArrowDirection2[\"bottom\"] = \"bottom\";\n  return FormPopupArrowDirection2;\n})(FormPopupArrowDirection || {});\nconst FloatingLayerContext = B$1(null);\nfunction FloatingLayerProvider({ children }) {\n  const [containerRef, containerRefCallback] = useDOMNode();\n  const [seeMorePopupSlotRef, seeMorePopupSlotRefCallback] = useDOMNode();\n  const [formPopupSlotRef, formPopupSlotRefCallback] = useDOMNode();\n  const [detailPopupSlotRef, detailPopupSlotRefCallback] = useDOMNode();\n  const floatingLayer = {\n    container: containerRef,\n    seeMorePopupSlot: seeMorePopupSlotRef,\n    formPopupSlot: formPopupSlotRef,\n    detailPopupSlot: detailPopupSlotRef\n  };\n  return /* @__PURE__ */ h$3(FloatingLayerContext.Provider, {\n    value: floatingLayer\n  }, children, /* @__PURE__ */ h$3(\"div\", {\n    ref: containerRefCallback,\n    className: cls(\"floating-layer\")\n  }, /* @__PURE__ */ h$3(\"div\", {\n    ref: seeMorePopupSlotRefCallback,\n    className: SEE_MORE_POPUP_SLOT_CLASS_NAME\n  }), /* @__PURE__ */ h$3(\"div\", {\n    ref: formPopupSlotRefCallback,\n    className: EVENT_FORM_POPUP_SLOT_CLASS_NAME\n  }), /* @__PURE__ */ h$3(\"div\", {\n    ref: detailPopupSlotRefCallback,\n    className: EVENT_DETAIL_POPUP_SLOT_CLASS_NAME\n  })));\n}\nconst useFloatingLayer = (floatingLayerType) => {\n  var _a;\n  const floatingLayers = q$2(FloatingLayerContext);\n  if (isUndefined_1(floatingLayers)) {\n    throw new Error(\"FloatingLayerProvider is not found\");\n  }\n  return (_a = floatingLayers == null ? void 0 : floatingLayers[floatingLayerType]) != null ? _a : null;\n};\nfunction isTopOutOfLayout(top, layoutRect, popupRect) {\n  return top + popupRect.height > layoutRect.top + layoutRect.height;\n}\nfunction isLeftOutOfLayout(left, layoutRect, popupRect) {\n  return left + popupRect.width > layoutRect.left + layoutRect.width;\n}\nconst eventFormPopupParamSelector = (state) => {\n  return state.popup[PopupType.Form];\n};\nconst eventDetailPopupParamSelector = (state) => {\n  return state.popup[PopupType.Detail];\n};\nconst seeMorePopupParamSelector = (state) => {\n  return state.popup[PopupType.SeeMore];\n};\nconst classNames$h = {\n  popupContainer: cls(\"popup-container\"),\n  detailContainer: cls(\"detail-container\"),\n  topLine: cls(\"popup-top-line\"),\n  border: cls(\"popup-arrow-border\"),\n  fill: cls(\"popup-arrow-fill\"),\n  sectionButton: cls(\"popup-section\", \"section-button\"),\n  content: cls(\"content\"),\n  editIcon: cls(\"icon\", \"ic-edit\"),\n  deleteIcon: cls(\"icon\", \"ic-delete\"),\n  editButton: cls(\"edit-button\"),\n  deleteButton: cls(\"delete-button\"),\n  verticalLine: cls(\"vertical-line\")\n};\nfunction calculatePopupPosition$1(eventRect, layoutRect, popupRect) {\n  let top = eventRect.top + eventRect.height / 2 - popupRect.height / 2;\n  let left = eventRect.left + eventRect.width;\n  if (isTopOutOfLayout(top, layoutRect, popupRect)) {\n    top = layoutRect.top + layoutRect.height - popupRect.height;\n  }\n  if (isLeftOutOfLayout(left, layoutRect, popupRect)) {\n    left = eventRect.left - popupRect.width;\n  }\n  return [\n    Math.max(top, layoutRect.top) + window.scrollY,\n    Math.max(left, layoutRect.left) + window.scrollX\n  ];\n}\nfunction calculatePopupArrowPosition(eventRect, layoutRect, popupRect) {\n  const top = eventRect.top + eventRect.height / 2 + window.scrollY;\n  const popupLeft = eventRect.left + eventRect.width;\n  const isOutOfLayout = popupLeft + popupRect.width > layoutRect.left + layoutRect.width;\n  const direction = isOutOfLayout ? DetailPopupArrowDirection.right : DetailPopupArrowDirection.left;\n  return { top, direction };\n}\nfunction EventDetailPopup() {\n  const { useFormPopup } = useStore(optionsSelector);\n  const popupParams = useStore(eventDetailPopupParamSelector);\n  const { event, eventRect } = popupParams != null ? popupParams : {};\n  const { showFormPopup, hideDetailPopup } = useDispatch(\"popup\");\n  const calendarColor = useCalendarColor(event);\n  const layoutContainer = useLayoutContainer();\n  const detailPopupSlot = useFloatingLayer(\"detailPopupSlot\");\n  const eventBus = useEventBus();\n  const popupContainerRef = s$2(null);\n  const [style, setStyle] = y$1({});\n  const [arrowTop, setArrowTop] = y$1(0);\n  const [arrowDirection, setArrowDirection] = y$1(DetailPopupArrowDirection.left);\n  const popupArrowClassName = F$2(() => {\n    const right = arrowDirection === DetailPopupArrowDirection.right;\n    const left = arrowDirection === DetailPopupArrowDirection.left;\n    return cls(\"popup-arrow\", { right, left });\n  }, [arrowDirection]);\n  h$2(() => {\n    if (popupContainerRef.current && eventRect && layoutContainer) {\n      const layoutRect = layoutContainer.getBoundingClientRect();\n      const popupRect = popupContainerRef.current.getBoundingClientRect();\n      const [top, left] = calculatePopupPosition$1(eventRect, layoutRect, popupRect);\n      const { top: arrowTopPosition, direction } = calculatePopupArrowPosition(eventRect, layoutRect, popupRect);\n      setStyle({ top, left });\n      setArrowTop(arrowTopPosition - top - HALF_OF_POPUP_ARROW_HEIGHT);\n      setArrowDirection(direction);\n    }\n  }, [eventRect, layoutContainer]);\n  if (isNil(event) || isNil(eventRect) || isNil(detailPopupSlot)) {\n    return null;\n  }\n  const {\n    title = \"\",\n    isAllday: isAllday2 = false,\n    start = new TZDate(),\n    end = new TZDate(),\n    location: location2,\n    state,\n    isReadOnly,\n    isPrivate\n  } = event;\n  const popupArrowPointPosition = {\n    top: eventRect.top + eventRect.height / 2,\n    left: eventRect.left + eventRect.width / 2\n  };\n  const onClickEditButton = () => {\n    if (useFormPopup) {\n      showFormPopup({\n        isCreationPopup: false,\n        event,\n        title,\n        location: location2,\n        start,\n        end,\n        isAllday: isAllday2,\n        isPrivate,\n        eventState: state,\n        popupArrowPointPosition\n      });\n    } else {\n      eventBus.fire(\"beforeUpdateEvent\", { event: event.toEventObject(), changes: {} });\n    }\n  };\n  const onClickDeleteButton = () => {\n    eventBus.fire(\"beforeDeleteEvent\", event.toEventObject());\n    hideDetailPopup();\n  };\n  return V(/* @__PURE__ */ h$3(\"div\", {\n    role: \"dialog\",\n    className: classNames$h.popupContainer,\n    ref: popupContainerRef,\n    style\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$h.detailContainer\n  }, /* @__PURE__ */ h$3(EventDetailSectionHeader, {\n    event\n  }), /* @__PURE__ */ h$3(EventDetailSectionDetail, {\n    event\n  }), !isReadOnly && /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$h.sectionButton\n  }, /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    className: classNames$h.editButton,\n    onClick: onClickEditButton\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$h.editIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$h.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupEdit\",\n    as: \"span\"\n  }))), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$h.verticalLine\n  }), /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    className: classNames$h.deleteButton,\n    onClick: onClickDeleteButton\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$h.deleteIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$h.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupDelete\",\n    as: \"span\"\n  }))))), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$h.topLine,\n    style: { backgroundColor: calendarColor.backgroundColor }\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: popupArrowClassName\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$h.border,\n    style: { top: arrowTop }\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$h.fill\n  })))), detailPopupSlot);\n}\nconst classNames$g = {\n  dropdownMenu: cls(\"dropdown-menu\"),\n  dropdownMenuItem: cls(\"dropdown-menu-item\"),\n  dotIcon: cls(\"icon\", \"dot\"),\n  content: cls(\"content\")\n};\nfunction DropdownMenuItem({ index, name, backgroundColor, onClick }) {\n  return /* @__PURE__ */ h$3(\"li\", {\n    className: classNames$g.dropdownMenuItem,\n    onClick: (e2) => onClick(e2, index)\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$g.dotIcon,\n    style: { backgroundColor }\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$g.content\n  }, name));\n}\nfunction CalendarDropdownMenu({ calendars, setOpened, onChangeIndex }) {\n  const handleDropdownMenuItemClick = (e2, index) => {\n    e2.stopPropagation();\n    setOpened(false);\n    onChangeIndex(index);\n  };\n  return /* @__PURE__ */ h$3(\"ul\", {\n    className: classNames$g.dropdownMenu\n  }, calendars.map(({ name, backgroundColor = \"000\" }, index) => /* @__PURE__ */ h$3(DropdownMenuItem, {\n    key: `dropdown-${name}-${index}`,\n    index,\n    name,\n    backgroundColor,\n    onClick: handleDropdownMenuItemClick\n  })));\n}\nfunction PopupSection({\n  children,\n  classNames: classNames2 = [],\n  onClick = noop\n}) {\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"popup-section\", ...classNames2),\n    onClick\n  }, children);\n}\nfunction useDropdownState() {\n  const [isOpened, setOpened] = y$1(false);\n  const toggleDropdown = () => setOpened((prev) => !prev);\n  return { isOpened, setOpened, toggleDropdown };\n}\nvar FormStateActionType = /* @__PURE__ */ ((FormStateActionType2) => {\n  FormStateActionType2[\"init\"] = \"init\";\n  FormStateActionType2[\"setCalendarId\"] = \"setCalendarId\";\n  FormStateActionType2[\"setTitle\"] = \"setTitle\";\n  FormStateActionType2[\"setLocation\"] = \"setLocation\";\n  FormStateActionType2[\"setPrivate\"] = \"setPrivate\";\n  FormStateActionType2[\"setAllday\"] = \"setAllday\";\n  FormStateActionType2[\"setState\"] = \"setState\";\n  FormStateActionType2[\"reset\"] = \"reset\";\n  return FormStateActionType2;\n})(FormStateActionType || {});\nconst defaultFormState = {\n  title: \"\",\n  location: \"\",\n  isAllday: false,\n  isPrivate: false,\n  state: \"Busy\"\n};\nfunction formStateReducer(state, action) {\n  switch (action.type) {\n    case \"init\":\n      return __spreadValues(__spreadValues({}, defaultFormState), action.event);\n    case \"setCalendarId\":\n      return __spreadProps(__spreadValues({}, state), { calendarId: action.calendarId });\n    case \"setTitle\":\n      return __spreadProps(__spreadValues({}, state), { title: action.title });\n    case \"setLocation\":\n      return __spreadProps(__spreadValues({}, state), { location: action.location });\n    case \"setPrivate\":\n      return __spreadProps(__spreadValues({}, state), { isPrivate: action.isPrivate });\n    case \"setAllday\":\n      return __spreadProps(__spreadValues({}, state), { isAllday: action.isAllday });\n    case \"setState\":\n      return __spreadProps(__spreadValues({}, state), { state: action.state });\n    case \"reset\":\n      return __spreadValues(__spreadValues({}, state), defaultFormState);\n    default:\n      return state;\n  }\n}\nfunction useFormState(initCalendarId) {\n  return d$2(formStateReducer, __spreadValues({ calendarId: initCalendarId }, defaultFormState));\n}\nconst classNames$f = {\n  popupSection: [\"dropdown-section\", \"calendar-section\"],\n  popupSectionItem: cls(\"popup-section-item\", \"popup-button\"),\n  dotIcon: cls(\"icon\", \"dot\"),\n  content: cls(\"content\", \"event-calendar\")\n};\nfunction CalendarSelector({ calendars, selectedCalendarId, formStateDispatch }) {\n  const { isOpened, setOpened, toggleDropdown } = useDropdownState();\n  const selectedCalendar = calendars.find((calendar) => calendar.id === selectedCalendarId);\n  const { backgroundColor = \"\", name = \"\" } = selectedCalendar != null ? selectedCalendar : {};\n  const changeIndex = (index) => formStateDispatch({ type: FormStateActionType.setCalendarId, calendarId: calendars[index].id });\n  return /* @__PURE__ */ h$3(PopupSection, {\n    onClick: toggleDropdown,\n    classNames: classNames$f.popupSection\n  }, /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    className: classNames$f.popupSectionItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$f.dotIcon,\n    style: { backgroundColor }\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$f.content\n  }, name), /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"icon\", \"ic-dropdown-arrow\", { open: isOpened })\n  })), isOpened && /* @__PURE__ */ h$3(CalendarDropdownMenu, {\n    calendars,\n    setOpened,\n    onChangeIndex: changeIndex\n  }));\n}\nconst classNames$e = {\n  closeButton: cls(\"popup-button\", \"popup-close\"),\n  closeIcon: cls(\"icon\", \"ic-close\")\n};\nfunction ClosePopupButton({ type, close }) {\n  const { hideAllPopup } = useDispatch(\"popup\");\n  const onClickHandler = () => {\n    hideAllPopup();\n    if (isFunction$2(close)) {\n      close();\n    }\n  };\n  return /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    className: classNames$e.closeButton,\n    onClick: onClickHandler\n  }, type === \"moreEvents\" ? /* @__PURE__ */ h$3(Template, {\n    template: \"monthMoreClose\"\n  }) : /* @__PURE__ */ h$3(\"i\", {\n    className: classNames$e.closeIcon\n  }));\n}\nconst classNames$d = {\n  confirmButton: cls(\"popup-button\", \"popup-confirm\")\n};\nfunction ConfirmPopupButton({ children }) {\n  return /* @__PURE__ */ h$3(\"button\", {\n    type: \"submit\",\n    className: classNames$d.confirmButton\n  }, /* @__PURE__ */ h$3(\"span\", null, children));\n}\nfunction useStringOnlyTemplate({\n  template,\n  model,\n  defaultValue = \"\"\n}) {\n  const templates2 = useStore(templateSelector);\n  const templateFunc = templates2[template];\n  if (isNil(templateFunc)) {\n    return defaultValue;\n  }\n  let result = templateFunc(model);\n  if (!isString_1(result)) {\n    result = defaultValue;\n  }\n  return result;\n}\nconst classNames$c = {\n  datePickerContainer: cls(\"datepicker-container\"),\n  datePicker: cls(\"popup-section-item\", \"popup-date-picker\"),\n  allday: cls(\"popup-section-item\", \"popup-section-allday\"),\n  dateIcon: cls(\"icon\", \"ic-date\"),\n  dateDash: cls(\"popup-date-dash\"),\n  content: cls(\"content\")\n};\nconst DateSelector = R(function DateSelector2({ start, end, isAllday: isAllday2 = false, formStateDispatch }, ref) {\n  const { usageStatistics } = useStore(optionsSelector);\n  const startPickerContainerRef = s$2(null);\n  const startPickerInputRef = s$2(null);\n  const endPickerContainerRef = s$2(null);\n  const endPickerInputRef = s$2(null);\n  const startDatePlaceholder = useStringOnlyTemplate({\n    template: \"startDatePlaceholder\",\n    defaultValue: \"Start Date\"\n  });\n  const endDatePlaceholder = useStringOnlyTemplate({\n    template: \"endDatePlaceholder\",\n    defaultValue: \"End Date\"\n  });\n  const toggleAllday = () => formStateDispatch({ type: FormStateActionType.setAllday, isAllday: !isAllday2 });\n  _$2(() => {\n    if (startPickerContainerRef.current && startPickerInputRef.current && endPickerContainerRef.current && endPickerInputRef.current) {\n      const startDate = new TZDate(start);\n      const endDate = new TZDate(end);\n      if (isAllday2) {\n        startDate.setHours(12, 0, 0);\n        endDate.setHours(13, 0, 0);\n      }\n      ref.current = DatePicker.createRangePicker({\n        startpicker: {\n          date: startDate.toDate(),\n          input: startPickerInputRef.current,\n          container: startPickerContainerRef.current\n        },\n        endpicker: {\n          date: endDate.toDate(),\n          input: endPickerInputRef.current,\n          container: endPickerContainerRef.current\n        },\n        format: isAllday2 ? \"yyyy-MM-dd\" : \"yyyy-MM-dd HH:mm\",\n        timePicker: isAllday2 ? false : {\n          showMeridiem: false,\n          usageStatistics\n        },\n        usageStatistics\n      });\n    }\n  }, [start, end, isAllday2, usageStatistics, ref]);\n  return /* @__PURE__ */ h$3(PopupSection, null, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$c.datePicker\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$c.dateIcon\n  }), /* @__PURE__ */ h$3(\"input\", {\n    name: \"start\",\n    className: classNames$c.content,\n    placeholder: startDatePlaceholder,\n    ref: startPickerInputRef\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$c.datePickerContainer,\n    ref: startPickerContainerRef\n  })), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$c.dateDash\n  }, \"-\"), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$c.datePicker\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$c.dateIcon\n  }), /* @__PURE__ */ h$3(\"input\", {\n    name: \"end\",\n    className: classNames$c.content,\n    placeholder: endDatePlaceholder,\n    ref: endPickerInputRef\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$c.datePickerContainer,\n    ref: endPickerContainerRef\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$c.allday,\n    onClick: toggleAllday\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"icon\", {\n      \"ic-checkbox-normal\": !isAllday2,\n      \"ic-checkbox-checked\": isAllday2\n    })\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$c.content\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"popupIsAllday\"\n  })), /* @__PURE__ */ h$3(\"input\", {\n    name: \"isAllday\",\n    type: \"checkbox\",\n    className: cls(\"hidden-input\"),\n    value: isAllday2 ? \"true\" : \"false\",\n    checked: isAllday2\n  })));\n});\nconst EVENT_STATES = [\"Busy\", \"Free\"];\nconst classNames$b = {\n  popupSectionItem: cls(\"popup-section-item\", \"dropdown-menu-item\"),\n  dropdownMenu: cls(\"dropdown-menu\"),\n  icon: cls(\"icon\"),\n  content: cls(\"content\")\n};\nfunction StateDropdownMenu({ setOpened, setEventState }) {\n  const onClickDropdown = (e2, state) => {\n    e2.stopPropagation();\n    setOpened(false);\n    setEventState(state);\n  };\n  return /* @__PURE__ */ h$3(\"ul\", {\n    className: classNames$b.dropdownMenu\n  }, EVENT_STATES.map((state) => /* @__PURE__ */ h$3(\"li\", {\n    key: state,\n    className: classNames$b.popupSectionItem,\n    onClick: (e2) => onClickDropdown(e2, state)\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$b.icon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$b.content\n  }, state === \"Busy\" ? /* @__PURE__ */ h$3(Template, {\n    template: \"popupStateBusy\"\n  }) : /* @__PURE__ */ h$3(Template, {\n    template: \"popupStateFree\"\n  })))));\n}\nconst classNames$a = {\n  popupSection: [\"dropdown-section\", \"state-section\"],\n  popupSectionItem: cls(\"popup-section-item\", \"popup-button\"),\n  stateIcon: cls(\"icon\", \"ic-state\"),\n  arrowIcon: cls(\"icon\", \"ic-dropdown-arrow\"),\n  content: cls(\"content\", \"event-state\")\n};\nfunction EventStateSelector({ eventState = \"Busy\", formStateDispatch }) {\n  const { isOpened, setOpened, toggleDropdown } = useDropdownState();\n  const handleChangeEventState = (state) => formStateDispatch({ type: FormStateActionType.setState, state });\n  return /* @__PURE__ */ h$3(PopupSection, {\n    onClick: toggleDropdown,\n    classNames: classNames$a.popupSection\n  }, /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    className: classNames$a.popupSectionItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$a.stateIcon\n  }), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$a.content\n  }, eventState === \"Busy\" ? /* @__PURE__ */ h$3(Template, {\n    template: \"popupStateBusy\"\n  }) : /* @__PURE__ */ h$3(Template, {\n    template: \"popupStateFree\"\n  })), /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$a.arrowIcon\n  })), isOpened && /* @__PURE__ */ h$3(StateDropdownMenu, {\n    setOpened,\n    setEventState: handleChangeEventState\n  }));\n}\nconst classNames$9 = {\n  popupSectionItem: cls(\"popup-section-item\", \"popup-section-location\"),\n  locationIcon: cls(\"icon\", \"ic-location\"),\n  content: cls(\"content\")\n};\nfunction LocationInputBox({ location: location2, formStateDispatch }) {\n  const locationPlaceholder = useStringOnlyTemplate({\n    template: \"locationPlaceholder\",\n    defaultValue: \"Location\"\n  });\n  const handleLocationChange = (e2) => {\n    formStateDispatch({ type: FormStateActionType.setLocation, location: e2.currentTarget.value });\n  };\n  return /* @__PURE__ */ h$3(PopupSection, null, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$9.popupSectionItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$9.locationIcon\n  }), /* @__PURE__ */ h$3(\"input\", {\n    name: \"location\",\n    className: classNames$9.content,\n    placeholder: locationPlaceholder,\n    value: location2,\n    onChange: handleLocationChange\n  })));\n}\nconst classNames$8 = {\n  popupSectionItem: cls(\"popup-section-item\", \"popup-section-title\"),\n  privateButton: cls(\"popup-section-item\", \"popup-section-private\", \"popup-button\"),\n  titleIcon: cls(\"icon\", \"ic-title\"),\n  content: cls(\"content\")\n};\nfunction TitleInputBox({ title, isPrivate = false, formStateDispatch }) {\n  const titlePlaceholder = useStringOnlyTemplate({\n    template: \"titlePlaceholder\",\n    defaultValue: \"Subject\"\n  });\n  const togglePrivate = () => formStateDispatch({ type: FormStateActionType.setPrivate, isPrivate: !isPrivate });\n  const handleInputChange = (e2) => {\n    formStateDispatch({ type: FormStateActionType.setTitle, title: e2.currentTarget.value });\n  };\n  return /* @__PURE__ */ h$3(PopupSection, null, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$8.popupSectionItem\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: classNames$8.titleIcon\n  }), /* @__PURE__ */ h$3(\"input\", {\n    name: \"title\",\n    className: classNames$8.content,\n    placeholder: titlePlaceholder,\n    value: title,\n    onChange: handleInputChange,\n    required: true\n  })), /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    className: classNames$8.privateButton,\n    onClick: togglePrivate\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"icon\", { \"ic-private\": isPrivate, \"ic-public\": !isPrivate })\n  }), /* @__PURE__ */ h$3(\"input\", {\n    name: \"isPrivate\",\n    type: \"checkbox\",\n    className: cls(\"hidden-input\"),\n    value: isPrivate ? \"true\" : \"false\",\n    checked: isPrivate\n  })));\n}\nconst classNames$7 = {\n  popupContainer: cls(\"popup-container\"),\n  formContainer: cls(\"form-container\"),\n  popupArrowBorder: cls(\"popup-arrow-border\"),\n  popupArrowFill: cls(\"popup-arrow-fill\")\n};\nfunction calculatePopupPosition(popupArrowPointPosition, layoutRect, popupRect) {\n  let top = popupArrowPointPosition.top - popupRect.height - HALF_OF_POPUP_ARROW_HEIGHT;\n  let left = popupArrowPointPosition.left - popupRect.width / 2;\n  let direction = FormPopupArrowDirection.bottom;\n  if (top < layoutRect.top) {\n    direction = FormPopupArrowDirection.top;\n    top = popupArrowPointPosition.top + HALF_OF_POPUP_ARROW_HEIGHT;\n  }\n  if (isTopOutOfLayout(top, layoutRect, popupRect)) {\n    top = layoutRect.top + layoutRect.height - popupRect.height;\n  }\n  if (isLeftOutOfLayout(left, layoutRect, popupRect)) {\n    left = layoutRect.left + layoutRect.width - popupRect.width;\n  }\n  return {\n    top: top + window.scrollY,\n    left: Math.max(left, layoutRect.left) + window.scrollX,\n    direction\n  };\n}\nfunction isBooleanKey(key) {\n  return BOOLEAN_KEYS_OF_EVENT_MODEL_DATA.indexOf(key) !== -1;\n}\nfunction getChanges(event, eventObject) {\n  return Object.entries(eventObject).reduce((changes, [key, value]) => {\n    const eventObjectKey = key;\n    if (event[eventObjectKey] instanceof TZDate) {\n      if (compare(event[eventObjectKey], value) !== 0) {\n        changes[eventObjectKey] = value;\n      }\n    } else if (event[eventObjectKey] !== value) {\n      changes[eventObjectKey] = value;\n    }\n    return changes;\n  }, {});\n}\nfunction EventFormPopup() {\n  var _a;\n  const { calendars } = useStore(calendarSelector);\n  const { hideAllPopup } = useDispatch(\"popup\");\n  const popupParams = useStore(eventFormPopupParamSelector);\n  const { start, end, popupArrowPointPosition, close, isCreationPopup, event } = popupParams != null ? popupParams : {};\n  const eventBus = useEventBus();\n  const formPopupSlot = useFloatingLayer(\"formPopupSlot\");\n  const [formState, formStateDispatch] = useFormState((_a = calendars[0]) == null ? void 0 : _a.id);\n  const datePickerRef = s$2(null);\n  const popupContainerRef = s$2(null);\n  const [style, setStyle] = y$1({});\n  const [arrowLeft, setArrowLeft] = y$1(0);\n  const [arrowDirection, setArrowDirection] = y$1(FormPopupArrowDirection.bottom);\n  const layoutContainer = useLayoutContainer();\n  const popupArrowClassName = F$2(() => {\n    const top = arrowDirection === FormPopupArrowDirection.top;\n    const bottom = arrowDirection === FormPopupArrowDirection.bottom;\n    return cls(\"popup-arrow\", { top, bottom });\n  }, [arrowDirection]);\n  h$2(() => {\n    if (popupContainerRef.current && popupArrowPointPosition && layoutContainer) {\n      const layoutRect = layoutContainer.getBoundingClientRect();\n      const popupRect = popupContainerRef.current.getBoundingClientRect();\n      const { top, left, direction } = calculatePopupPosition(popupArrowPointPosition, layoutRect, popupRect);\n      const arrowLeftPosition = popupArrowPointPosition.left - left;\n      setStyle({ left, top });\n      setArrowLeft(arrowLeftPosition);\n      setArrowDirection(direction);\n    }\n  }, [layoutContainer, popupArrowPointPosition]);\n  _$2(() => {\n    if (isPresent(popupParams) && isPresent(event)) {\n      formStateDispatch({\n        type: FormStateActionType.init,\n        event: {\n          title: popupParams.title,\n          location: popupParams.location,\n          isAllday: popupParams.isAllday,\n          isPrivate: popupParams.isPrivate,\n          calendarId: event.calendarId,\n          state: popupParams.eventState\n        }\n      });\n    }\n  }, [calendars, event, formStateDispatch, popupParams]);\n  _$2(() => {\n    if (isNil(popupParams)) {\n      formStateDispatch({ type: FormStateActionType.reset });\n    }\n  }, [formStateDispatch, popupParams]);\n  if (isNil(start) || isNil(end) || isNil(formPopupSlot)) {\n    return null;\n  }\n  const onSubmit = (e2) => {\n    var _a2, _b;\n    e2.preventDefault();\n    const formData = new FormData(e2.target);\n    const eventData = __spreadValues({}, formState);\n    formData.forEach((data, key) => {\n      eventData[key] = isBooleanKey(key) ? data === \"true\" : data;\n    });\n    eventData.start = new TZDate((_a2 = datePickerRef.current) == null ? void 0 : _a2.getStartDate());\n    eventData.end = new TZDate((_b = datePickerRef.current) == null ? void 0 : _b.getEndDate());\n    if (isCreationPopup) {\n      eventBus.fire(\"beforeCreateEvent\", eventData);\n    } else if (event) {\n      const changes = getChanges(event, eventData);\n      eventBus.fire(\"beforeUpdateEvent\", { event: event.toEventObject(), changes });\n    }\n    hideAllPopup();\n  };\n  return V(/* @__PURE__ */ h$3(\"div\", {\n    role: \"dialog\",\n    className: classNames$7.popupContainer,\n    ref: popupContainerRef,\n    style\n  }, /* @__PURE__ */ h$3(\"form\", {\n    onSubmit\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$7.formContainer\n  }, (calendars == null ? void 0 : calendars.length) ? /* @__PURE__ */ h$3(CalendarSelector, {\n    selectedCalendarId: formState.calendarId,\n    calendars,\n    formStateDispatch\n  }) : /* @__PURE__ */ h$3(PopupSection, null), /* @__PURE__ */ h$3(TitleInputBox, {\n    title: formState.title,\n    isPrivate: formState.isPrivate,\n    formStateDispatch\n  }), /* @__PURE__ */ h$3(LocationInputBox, {\n    location: formState.location,\n    formStateDispatch\n  }), /* @__PURE__ */ h$3(DateSelector, {\n    start,\n    end,\n    isAllday: formState.isAllday,\n    formStateDispatch,\n    ref: datePickerRef\n  }), /* @__PURE__ */ h$3(EventStateSelector, {\n    eventState: formState.state,\n    formStateDispatch\n  }), /* @__PURE__ */ h$3(ClosePopupButton, {\n    type: \"form\",\n    close\n  }), /* @__PURE__ */ h$3(PopupSection, null, /* @__PURE__ */ h$3(ConfirmPopupButton, null, isCreationPopup ? /* @__PURE__ */ h$3(Template, {\n    template: \"popupSave\"\n  }) : /* @__PURE__ */ h$3(Template, {\n    template: \"popupUpdate\"\n  })))), /* @__PURE__ */ h$3(\"div\", {\n    className: popupArrowClassName\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$7.popupArrowBorder,\n    style: { left: arrowLeft }\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$7.popupArrowFill\n  }))))), formPopupSlot);\n}\nfunction shownPopupParamSelector(state) {\n  return Object.values(state.popup).find((popup) => isPresent(popup));\n}\nfunction PopupOverlay() {\n  const shownPopupParam = useStore(shownPopupParamSelector);\n  const { hideAllPopup } = useDispatch(\"popup\");\n  const isPopupShown = isPresent(shownPopupParam);\n  const onClick = (ev) => {\n    var _a;\n    ev.stopPropagation();\n    (_a = shownPopupParam == null ? void 0 : shownPopupParam.close) == null ? void 0 : _a.call(shownPopupParam);\n    hideAllPopup();\n  };\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"popup-overlay\"),\n    style: { display: isPopupShown ? \"block\" : \"none\" },\n    onClick\n  });\n}\nconst classNames$6 = {\n  container: cls(\"see-more-container\"),\n  seeMore: cls(\"see-more\"),\n  header: cls(\"see-more-header\"),\n  list: cls(\"month-more-list\")\n};\nfunction SeeMoreEventsPopup() {\n  const popupParams = useStore(seeMorePopupParamSelector);\n  const { date: date2, events = [], popupPosition } = popupParams != null ? popupParams : {};\n  const { moreView, moreViewTitle } = useMonthTheme();\n  const seeMorePopupSlot = useFloatingLayer(\"seeMorePopupSlot\");\n  const eventBus = useEventBus();\n  const moreEventsPopupContainerRef = s$2(null);\n  const isHidden = isNil(date2) || isNil(popupPosition) || isNil(seeMorePopupSlot);\n  _$2(() => {\n    if (!isHidden && moreEventsPopupContainerRef.current) {\n      eventBus.fire(\"clickMoreEventsBtn\", {\n        date: date2.toDate(),\n        target: moreEventsPopupContainerRef.current\n      });\n    }\n  }, [date2, eventBus, isHidden]);\n  if (isHidden) {\n    return null;\n  }\n  const style = {\n    height: MONTH_MORE_VIEW_HEADER_HEIGHT,\n    marginBottom: MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM,\n    padding: MONTH_MORE_VIEW_HEADER_PADDING,\n    backgroundColor: moreViewTitle.backgroundColor\n  };\n  const moreTitle = {\n    ymd: toFormat(date2, \"YYYY-MM-DD\"),\n    day: date2.getDay(),\n    date: date2.getDate().toString().padStart(2, \"0\")\n  };\n  const moreViewListStyle = {\n    height: `calc(100% - ${MONTH_MORE_VIEW_HEADER_HEIGHT + MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM + MONTH_MORE_VIEW_HEADER_PADDING_TOP}px)`\n  };\n  return V(/* @__PURE__ */ h$3(\"div\", {\n    role: \"dialog\",\n    className: classNames$6.container,\n    style: popupPosition,\n    ref: moreEventsPopupContainerRef\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$6.seeMore,\n    style: moreView\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$6.header,\n    style\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"monthMoreTitleDate\",\n    param: moreTitle\n  }), /* @__PURE__ */ h$3(ClosePopupButton, {\n    type: \"moreEvents\"\n  })), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$6.list,\n    style: moreViewListStyle\n  }, events.map((uiModel) => /* @__PURE__ */ h$3(HorizontalEvent, {\n    key: `see-more-event-item-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: MONTH_EVENT_HEIGHT,\n    headerHeight: MONTH_MORE_VIEW_HEADER_HEIGHT,\n    flat: true\n  }))))), seeMorePopupSlot);\n}\nfunction getLayoutStylesFromInfo(width, height) {\n  const styles = { height: toPercent(100) };\n  if (width) {\n    styles.width = width;\n  }\n  if (height) {\n    styles.height = height;\n  }\n  return styles;\n}\nfunction Layout({\n  children,\n  width,\n  height,\n  className: className2 = \"\",\n  autoAdjustPanels = false\n}) {\n  const { backgroundColor } = useTheme(commonThemeSelector);\n  const [container, containerRefCallback] = useDOMNode();\n  const { setLastPanelType, updateLayoutHeight } = useDispatch(\"weekViewLayout\");\n  const layoutClassName = F$2(() => `${cls(\"layout\")} ${className2}`, [className2]);\n  h$2(() => {\n    if (container) {\n      const onResizeWindow = () => updateLayoutHeight(container.offsetHeight);\n      onResizeWindow();\n      window.addEventListener(\"resize\", onResizeWindow);\n      return () => window.removeEventListener(\"resize\", onResizeWindow);\n    }\n    return noop;\n  }, [container, updateLayoutHeight]);\n  h$2(() => {\n    if (container && autoAdjustPanels) {\n      const childArray = x$3(children);\n      const lastChild = childArray[childArray.length - 1];\n      if (!isString_1(lastChild) && !isNumber_1(lastChild) && !isNil(lastChild)) {\n        setLastPanelType(lastChild.props.name);\n      }\n    }\n  }, [children, setLastPanelType, autoAdjustPanels, container]);\n  return /* @__PURE__ */ h$3(LayoutContainerProvider, {\n    value: container\n  }, /* @__PURE__ */ h$3(\"div\", {\n    ref: containerRefCallback,\n    className: layoutClassName,\n    style: __spreadProps(__spreadValues({}, getLayoutStylesFromInfo(width, height)), { backgroundColor })\n  }, container ? children : null), /* @__PURE__ */ h$3(EventFormPopup, null), /* @__PURE__ */ h$3(EventDetailPopup, null), /* @__PURE__ */ h$3(SeeMoreEventsPopup, null), /* @__PURE__ */ h$3(PopupOverlay, null));\n}\nfunction getDefaultStyle(height, border) {\n  return {\n    height,\n    width: \"100%\",\n    cursor: \"row-resize\",\n    borderTop: border,\n    borderBottom: border\n  };\n}\nfunction PanelResizer({ name, height }) {\n  const border = useTheme(T$1((theme) => theme.week.panelResizer.border, []));\n  const style = getDefaultStyle(height, border);\n  const defaultGuideStyle = __spreadProps(__spreadValues({}, style), {\n    display: \"none\",\n    border: \"none\",\n    backgroundColor: \"#999\"\n  });\n  const [guideStyle, setGuideStyle] = y$1(defaultGuideStyle);\n  const startPos = s$2(null);\n  const { updateDayGridRowHeightByDiff } = useDispatch(\"weekViewLayout\");\n  const onMouseDown = useDrag(DRAGGING_TYPE_CONSTANTS.panelResizer, {\n    onDragStart: (e2) => {\n      startPos.current = { left: e2.pageX, top: e2.pageY };\n    },\n    onDrag: (e2) => {\n      if (startPos.current) {\n        const top = e2.pageY - startPos.current.top;\n        setGuideStyle((prev) => __spreadProps(__spreadValues({}, prev), { top, display: null }));\n      }\n    },\n    onMouseUp: (e2) => {\n      if (startPos.current) {\n        const diff = e2.pageY - startPos.current.top;\n        startPos.current = null;\n        setGuideStyle(defaultGuideStyle);\n        updateDayGridRowHeightByDiff({ rowName: name, diff });\n      }\n    }\n  });\n  return /* @__PURE__ */ h$3(\"div\", {\n    style: { position: \"relative\" }\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-resizer\"),\n    style,\n    onMouseDown\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel-resizer-guide\"),\n    style: guideStyle\n  }));\n}\nfunction getPanelSide(side, maxExpandableSide) {\n  return maxExpandableSide ? Math.min(maxExpandableSide, side) : side;\n}\nfunction getPanelStyle({\n  initialHeight,\n  initialWidth,\n  overflowX,\n  overflowY,\n  maxExpandableWidth,\n  maxExpandableHeight,\n  minHeight,\n  maxHeight,\n  minWidth,\n  maxWidth\n}) {\n  const style = {};\n  if (initialWidth) {\n    style.width = getPanelSide(initialWidth, maxExpandableWidth);\n    style.height = \"100%\";\n  }\n  if (initialHeight) {\n    style.width = \"100%\";\n    style.height = getPanelSide(initialHeight, maxExpandableHeight);\n  }\n  if (overflowX) {\n    style.overflowX = \"auto\";\n  }\n  if (overflowY) {\n    style.overflowY = \"auto\";\n  }\n  return __spreadProps(__spreadValues({}, style), { minHeight, maxHeight, minWidth, maxWidth });\n}\nconst Panel = R(function Panel2({\n  name,\n  initialWidth = DEFAULT_PANEL_HEIGHT,\n  initialHeight = DEFAULT_PANEL_HEIGHT,\n  overflowX,\n  overflowY,\n  maxExpandableWidth,\n  maxExpandableHeight,\n  minHeight,\n  maxHeight,\n  minWidth,\n  maxWidth,\n  resizerWidth = DEFAULT_RESIZER_LENGTH,\n  resizerHeight = DEFAULT_RESIZER_LENGTH,\n  resizable,\n  children\n}, ref) {\n  const { updateDayGridRowHeight } = useDispatch(\"weekViewLayout\");\n  const { height: dayGridRowHeight } = useStore(T$1((state) => {\n    var _a;\n    return (_a = state.weekViewLayout.dayGridRows[name]) != null ? _a : {};\n  }, [name]));\n  const height = dayGridRowHeight != null ? dayGridRowHeight : initialHeight;\n  h$2(() => {\n    updateDayGridRowHeight({ rowName: name, height: initialHeight });\n  }, [initialHeight, name, updateDayGridRowHeight]);\n  const styles = getPanelStyle({\n    initialWidth,\n    initialHeight: height,\n    overflowX,\n    overflowY,\n    maxExpandableWidth,\n    maxExpandableHeight,\n    minHeight,\n    maxHeight,\n    minWidth,\n    maxWidth\n  });\n  const isResizable = F$2(() => {\n    if (isNil(resizable) || isBoolean_1(resizable)) {\n      return !!resizable;\n    }\n    return resizable.includes(name);\n  }, [resizable, name]);\n  return /* @__PURE__ */ h$3(p$3, null, /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"panel\", name),\n    style: styles,\n    ref\n  }, children), isResizable ? /* @__PURE__ */ h$3(PanelResizer, {\n    name,\n    width: resizerWidth,\n    height: resizerHeight\n  }) : null);\n});\nconst className = \"timegrid\";\nconst addTimeGridPrefix = (selector) => `${className}-${selector}`;\nconst timeFormats = {\n  second: \"HH:mm:ss\",\n  minute: \"HH:mm\",\n  hour: \"HH:mm\",\n  date: \"HH:mm\",\n  month: \"MM.DD\",\n  year: \"YYYY.MM.DD\"\n};\nconst classNames$5 = {\n  time: cls(\"event-time\"),\n  content: cls(\"event-time-content\"),\n  travelTime: cls(\"travel-time\"),\n  resizeHandleX: cls(\"resize-handler-x\"),\n  moveEvent: cls(\"dragging--move-event\"),\n  resizeEvent: cls(\"dragging--resize-vertical-event\")\n};\nfunction getMarginLeft(left) {\n  const { percent, px } = extractPercentPx(`${left}`);\n  return left > 0 || percent > 0 || px > 0 ? TIME_EVENT_CONTAINER_MARGIN_LEFT : 0;\n}\nfunction getContainerWidth(width, marginLeft) {\n  if (isString_1(width)) {\n    return width;\n  }\n  if (width >= 0) {\n    return `calc(${toPercent(width)} - ${marginLeft}px)`;\n  }\n  return \"\";\n}\nfunction getStyles({\n  uiModel,\n  isDraggingTarget,\n  hasNextStartTime,\n  calendarColor,\n  minHeight\n}) {\n  const {\n    top,\n    left,\n    height,\n    width,\n    duplicateLeft,\n    duplicateWidth,\n    goingDurationHeight,\n    modelDurationHeight,\n    comingDurationHeight,\n    croppedStart,\n    croppedEnd\n  } = uiModel;\n  const travelBorderColor = \"white\";\n  const borderRadius = 2;\n  const defaultMarginBottom = 2;\n  const marginLeft = getMarginLeft(left);\n  const { color, backgroundColor, borderColor, dragBackgroundColor } = getEventColors(uiModel, calendarColor);\n  const containerStyle = {\n    width: getContainerWidth(duplicateWidth || width, marginLeft),\n    height: `calc(${toPercent(Math.max(height, minHeight))} - ${defaultMarginBottom}px)`,\n    top: toPercent(top),\n    left: duplicateLeft || toPercent(left),\n    borderRadius,\n    borderLeft: `3px solid ${borderColor}`,\n    marginLeft,\n    color,\n    backgroundColor: isDraggingTarget ? dragBackgroundColor : backgroundColor,\n    opacity: isDraggingTarget ? 0.5 : 1,\n    zIndex: hasNextStartTime ? 1 : 0\n  };\n  const goingDurationStyle = {\n    height: toPercent(goingDurationHeight),\n    borderBottom: `1px dashed ${travelBorderColor}`\n  };\n  const modelDurationStyle = {\n    height: toPercent(modelDurationHeight)\n  };\n  const comingDurationStyle = {\n    height: toPercent(comingDurationHeight),\n    borderTop: `1px dashed ${travelBorderColor}`\n  };\n  if (croppedStart) {\n    containerStyle.borderTopLeftRadius = 0;\n    containerStyle.borderTopRightRadius = 0;\n  }\n  if (croppedEnd) {\n    containerStyle.borderBottomLeftRadius = 0;\n    containerStyle.borderBottomRightRadius = 0;\n  }\n  return {\n    containerStyle,\n    goingDurationStyle,\n    modelDurationStyle,\n    comingDurationStyle\n  };\n}\nfunction isDraggableEvent({\n  uiModel,\n  isReadOnlyCalendar,\n  isDraggingTarget,\n  hasNextStartTime\n}) {\n  const { model } = uiModel;\n  return !isReadOnlyCalendar && !model.isReadOnly && !isDraggingTarget && !hasNextStartTime;\n}\nfunction TimeEvent({\n  uiModel,\n  nextStartTime,\n  isResizingGuide = false,\n  minHeight = 0\n}) {\n  const {\n    useDetailPopup,\n    isReadOnly: isReadOnlyCalendar,\n    week: weekOptions\n  } = useStore(optionsSelector);\n  const calendarColor = useCalendarColor(uiModel.model);\n  const { collapseDuplicateEvents } = weekOptions;\n  const layoutContainer = useLayoutContainer();\n  const { showDetailPopup } = useDispatch(\"popup\");\n  const { setDraggingEventUIModel } = useDispatch(\"dnd\");\n  const { setSelectedDuplicateEventCid } = useDispatch(\"weekViewLayout\");\n  const eventBus = useEventBus();\n  const eventContainerRef = s$2(null);\n  const [isDraggingTarget, setIsDraggingTarget] = y$1(false);\n  const { model, goingDurationHeight, modelDurationHeight, comingDurationHeight, croppedEnd } = uiModel;\n  const { id, calendarId, customStyle } = model;\n  const hasNextStartTime = isPresent(nextStartTime);\n  const { containerStyle, goingDurationStyle, modelDurationStyle, comingDurationStyle } = getStyles({ uiModel, isDraggingTarget, hasNextStartTime, calendarColor, minHeight });\n  const isGuide = hasNextStartTime || isResizingGuide;\n  useTransientUpdate(dndSelector, ({ draggingEventUIModel, draggingState }) => {\n    if (draggingState === DraggingState.DRAGGING && (draggingEventUIModel == null ? void 0 : draggingEventUIModel.cid()) === uiModel.cid() && !hasNextStartTime && !isResizingGuide) {\n      setIsDraggingTarget(true);\n    } else {\n      setIsDraggingTarget(false);\n    }\n  });\n  _$2(() => {\n    if (!isResizingGuide) {\n      eventBus.fire(\"afterRenderEvent\", uiModel.model.toEventObject());\n    }\n  }, []);\n  const startDragEvent = (className2) => {\n    setDraggingEventUIModel(uiModel);\n    layoutContainer == null ? void 0 : layoutContainer.classList.add(className2);\n  };\n  const endDragEvent = (className2) => {\n    setIsDraggingTarget(false);\n    layoutContainer == null ? void 0 : layoutContainer.classList.remove(className2);\n  };\n  const onMoveStart = useDrag(DRAGGING_TYPE_CREATORS.moveEvent(\"timeGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => {\n      if (isDraggable) {\n        startDragEvent(classNames$5.moveEvent);\n      }\n    },\n    onMouseUp: (e2, { draggingState }) => {\n      endDragEvent(classNames$5.moveEvent);\n      const isClick = draggingState <= DraggingState.INIT;\n      if (isClick && collapseDuplicateEvents) {\n        const selectedDuplicateEventCid = uiModel.duplicateEvents.length > 0 ? uiModel.cid() : DEFAULT_DUPLICATE_EVENT_CID;\n        setSelectedDuplicateEventCid(selectedDuplicateEventCid);\n      }\n      if (isClick && useDetailPopup && eventContainerRef.current) {\n        showDetailPopup({\n          event: uiModel.model,\n          eventRect: eventContainerRef.current.getBoundingClientRect()\n        }, false);\n      }\n      if (isClick) {\n        eventBus.fire(\"clickEvent\", { event: uiModel.model.toEventObject(), nativeEvent: e2 });\n      }\n    },\n    onPressESCKey: () => endDragEvent(classNames$5.moveEvent)\n  });\n  const handleMoveStart = (e2) => {\n    e2.stopPropagation();\n    onMoveStart(e2);\n  };\n  const onResizeStart = useDrag(DRAGGING_TYPE_CREATORS.resizeEvent(\"timeGrid\", `${uiModel.cid()}`), {\n    onDragStart: () => startDragEvent(classNames$5.resizeEvent),\n    onMouseUp: () => endDragEvent(classNames$5.resizeEvent),\n    onPressESCKey: () => endDragEvent(classNames$5.resizeEvent)\n  });\n  const handleResizeStart = (e2) => {\n    e2.stopPropagation();\n    onResizeStart(e2);\n  };\n  const isDraggable = isDraggableEvent({\n    uiModel,\n    isReadOnlyCalendar,\n    isDraggingTarget,\n    hasNextStartTime\n  });\n  const shouldShowResizeHandle = isDraggable && !croppedEnd;\n  return /* @__PURE__ */ h$3(\"div\", {\n    \"data-testid\": `${isGuide ? \"guide-\" : \"\"}time-event-${model.title}-${uiModel.cid()}`,\n    \"data-calendar-id\": calendarId,\n    \"data-event-id\": id,\n    className: classNames$5.time,\n    style: __spreadValues(__spreadValues({}, containerStyle), customStyle),\n    onMouseDown: handleMoveStart,\n    ref: eventContainerRef\n  }, goingDurationHeight ? /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$5.travelTime,\n    style: goingDurationStyle\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"goingDuration\",\n    param: model\n  })) : null, modelDurationHeight ? /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$5.content,\n    style: modelDurationStyle\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"time\",\n    param: __spreadProps(__spreadValues({}, model.toEventObject()), {\n      start: hasNextStartTime ? nextStartTime : model.start\n    })\n  })) : null, comingDurationHeight ? /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$5.travelTime,\n    style: comingDurationStyle\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"comingDuration\",\n    param: model\n  })) : null, shouldShowResizeHandle ? /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$5.resizeHandleX,\n    onMouseDown: handleResizeStart\n  }) : null);\n}\nfunction GridSelection({ top, height, text }) {\n  const { backgroundColor, border } = useTheme(T$1((theme) => theme.common.gridSelection, []));\n  const color = useTheme(T$1((theme) => theme.week.gridSelection.color, []));\n  const style = {\n    top: toPercent(top),\n    height: toPercent(height),\n    backgroundColor,\n    border\n  };\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"time\", \"grid-selection\"),\n    style,\n    \"data-testid\": `time-grid-selection-${top}-${height}`\n  }, text.length > 0 ? /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"grid-selection-label\"),\n    style: { color }\n  }, text) : null);\n}\nfunction GridSelectionByColumn({ columnIndex, timeGridRows }) {\n  const gridSelectionData = useStore(T$1((state) => timeGridSelectionHelper.calculateSelection(state.gridSelection.timeGrid, columnIndex, timeGridRows.length - 1), [columnIndex, timeGridRows]));\n  const gridSelectionProps = F$2(() => {\n    if (!gridSelectionData) {\n      return null;\n    }\n    const { startRowIndex, endRowIndex, isStartingColumn, isSelectingMultipleColumns } = gridSelectionData;\n    const { top: startRowTop, startTime: startRowStartTime } = timeGridRows[startRowIndex];\n    const {\n      top: endRowTop,\n      height: endRowHeight,\n      endTime: endRowEndTime\n    } = timeGridRows[endRowIndex];\n    const gridSelectionHeight = endRowTop + endRowHeight - startRowTop;\n    let text = `${startRowStartTime} - ${endRowEndTime}`;\n    if (isSelectingMultipleColumns) {\n      text = isStartingColumn ? startRowStartTime : \"\";\n    }\n    return {\n      top: startRowTop,\n      height: gridSelectionHeight,\n      text\n    };\n  }, [gridSelectionData, timeGridRows]);\n  if (isNil(gridSelectionProps)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(GridSelection, __spreadValues({}, gridSelectionProps));\n}\nfunction useTimeGridEventResize({\n  gridPositionFinder,\n  totalUIModels,\n  columnIndex,\n  timeGridData\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: resizingStartUIModel,\n    clearDraggingEvent\n  } = useDraggingEvent(\"timeGrid\", \"resize\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const [guideUIModel, setGuideUIModel] = y$1(null);\n  const clearStates = T$1(() => {\n    setGuideUIModel(null);\n    clearDraggingEvent();\n    clearCurrentGridPos();\n  }, [clearCurrentGridPos, clearDraggingEvent]);\n  const baseResizingInfo = F$2(() => {\n    if (isNil(resizingStartUIModel)) {\n      return null;\n    }\n    const { columns, rows } = timeGridData;\n    const resizeTargetUIModelColumns = totalUIModels.map((uiModels) => uiModels.filter((uiModel) => uiModel.cid() === resizingStartUIModel.cid()));\n    const findRowIndexOf = (targetDate, targetColumnIndex) => (row) => {\n      const rowStartTZDate = setTimeStrToDate(columns[targetColumnIndex].date, row.startTime);\n      const rowEndTZDate = setTimeStrToDate(timeGridData.columns[targetColumnIndex].date, row.endTime);\n      return rowStartTZDate <= targetDate && targetDate < rowEndTZDate;\n    };\n    const eventStartDateColumnIndex = resizeTargetUIModelColumns.findIndex((row) => row.length > 0);\n    const resizingStartEventUIModel = resizeTargetUIModelColumns[eventStartDateColumnIndex][0];\n    const { goingDuration = 0 } = resizingStartEventUIModel.model;\n    const renderStart = addMinutes(resizingStartEventUIModel.getStarts(), -goingDuration);\n    const eventStartDateRowIndex = Math.max(rows.findIndex(findRowIndexOf(renderStart, eventStartDateColumnIndex)), 0);\n    const eventEndDateColumnIndex = findLastIndex(resizeTargetUIModelColumns, (row) => row.length > 0);\n    const resizingEndEventUIModel = resizeTargetUIModelColumns[eventEndDateColumnIndex][0];\n    const { comingDuration = 0 } = resizingEndEventUIModel.model;\n    const renderEnd = addMinutes(resizingEndEventUIModel.getStarts(), comingDuration);\n    let eventEndDateRowIndex = rows.findIndex(findRowIndexOf(renderEnd, eventEndDateColumnIndex));\n    eventEndDateRowIndex = eventEndDateRowIndex >= 0 ? eventEndDateRowIndex : rows.length - 1;\n    return {\n      eventStartDateColumnIndex,\n      eventStartDateRowIndex,\n      eventEndDateColumnIndex,\n      eventEndDateRowIndex,\n      resizeTargetUIModelColumns\n    };\n  }, [resizingStartUIModel, timeGridData, totalUIModels]);\n  const canCalculateGuideUIModel = isPresent(baseResizingInfo) && isPresent(resizingStartUIModel) && isPresent(currentGridPos);\n  const oneRowHeight = F$2(() => baseResizingInfo ? timeGridData.rows[0].height : 0, [baseResizingInfo, timeGridData.rows]);\n  _$2(() => {\n    if (canCalculateGuideUIModel) {\n      const { eventStartDateRowIndex, eventStartDateColumnIndex, eventEndDateColumnIndex } = baseResizingInfo;\n      if (columnIndex === eventEndDateColumnIndex && eventStartDateColumnIndex === eventEndDateColumnIndex) {\n        const clonedUIModel = resizingStartUIModel.clone();\n        const { height, goingDurationHeight, comingDurationHeight } = clonedUIModel;\n        const newHeight = Math.max(oneRowHeight + goingDurationHeight * height / 100 + comingDurationHeight * height / 100, timeGridData.rows[currentGridPos.rowIndex].top - timeGridData.rows[eventStartDateRowIndex].top + oneRowHeight);\n        const newGoingDurationHeight = goingDurationHeight * height / newHeight;\n        const newComingDurationHeight = comingDurationHeight * height / newHeight;\n        clonedUIModel.setUIProps({\n          height: newHeight,\n          goingDurationHeight: newGoingDurationHeight,\n          comingDurationHeight: newComingDurationHeight,\n          modelDurationHeight: 100 - (newGoingDurationHeight + newComingDurationHeight)\n        });\n        setGuideUIModel(clonedUIModel);\n      }\n    }\n  }, [\n    baseResizingInfo,\n    canCalculateGuideUIModel,\n    columnIndex,\n    currentGridPos,\n    resizingStartUIModel,\n    timeGridData.rows,\n    oneRowHeight\n  ]);\n  _$2(() => {\n    if (canCalculateGuideUIModel) {\n      const { resizeTargetUIModelColumns, eventStartDateColumnIndex, eventEndDateColumnIndex } = baseResizingInfo;\n      if ((columnIndex === eventStartDateColumnIndex || columnIndex === eventEndDateColumnIndex) && eventStartDateColumnIndex !== eventEndDateColumnIndex) {\n        let clonedUIModel;\n        if (columnIndex === eventStartDateColumnIndex) {\n          clonedUIModel = resizeTargetUIModelColumns[columnIndex][0].clone();\n        } else {\n          clonedUIModel = resizingStartUIModel.clone();\n          clonedUIModel.setUIProps({\n            height: timeGridData.rows[currentGridPos.rowIndex].top + oneRowHeight\n          });\n        }\n        setGuideUIModel(clonedUIModel);\n      }\n    }\n  }, [\n    baseResizingInfo,\n    canCalculateGuideUIModel,\n    columnIndex,\n    currentGridPos,\n    resizingStartUIModel,\n    timeGridData.rows,\n    oneRowHeight\n  ]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(baseResizingInfo) && isPresent(currentGridPos) && isPresent(resizingStartUIModel) && baseResizingInfo.eventEndDateColumnIndex === columnIndex;\n    if (shouldUpdate) {\n      const { comingDuration = 0 } = resizingStartUIModel.model;\n      const targetEndDate = addMinutes(setTimeStrToDate(timeGridData.columns[columnIndex].date, timeGridData.rows[currentGridPos.rowIndex].endTime), -comingDuration);\n      const minEndDate = addMinutes(resizingStartUIModel.getStarts(), 30);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: resizingStartUIModel.model.toEventObject(),\n        changes: {\n          end: max(minEndDate, targetEndDate)\n        }\n      });\n    }\n    clearStates();\n  }, isDraggingEnd);\n  return guideUIModel;\n}\nfunction ResizingGuideByColumn({\n  gridPositionFinder,\n  totalUIModels,\n  columnIndex,\n  timeGridData\n}) {\n  const guideUIModel = useTimeGridEventResize({\n    gridPositionFinder,\n    totalUIModels,\n    columnIndex,\n    timeGridData\n  });\n  if (isNil(guideUIModel)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(TimeEvent, {\n    uiModel: guideUIModel,\n    isResizingGuide: true\n  });\n}\nconst classNames$4 = {\n  column: cls(\"column\"),\n  backgrounds: cls(\"background-events\"),\n  events: cls(\"events\")\n};\nfunction VerticalEvents({\n  eventUIModels,\n  minEventHeight\n}) {\n  const style = { marginRight: 8 };\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$4.events,\n    style\n  }, eventUIModels.map((eventUIModel) => /* @__PURE__ */ h$3(TimeEvent, {\n    key: `${eventUIModel.valueOf()}-${eventUIModel.cid()}`,\n    uiModel: eventUIModel,\n    minHeight: minEventHeight\n  })));\n}\nfunction backgroundColorSelector$1(theme) {\n  return {\n    defaultBackgroundColor: theme.week.dayGrid.backgroundColor,\n    todayBackgroundColor: theme.week.today.backgroundColor,\n    weekendBackgroundColor: theme.week.weekend.backgroundColor\n  };\n}\nfunction getBackgroundColor({\n  today,\n  columnDate,\n  defaultBackgroundColor,\n  todayBackgroundColor,\n  weekendBackgroundColor\n}) {\n  const isTodayColumn = isSameDate(today, columnDate);\n  const isWeekendColumn = isWeekend(columnDate.getDay());\n  if (isTodayColumn) {\n    return todayBackgroundColor;\n  }\n  if (isWeekendColumn) {\n    return weekendBackgroundColor;\n  }\n  return defaultBackgroundColor;\n}\nconst Column = g$1(function Column2({\n  columnDate,\n  columnWidth,\n  columnIndex,\n  totalUIModels,\n  gridPositionFinder,\n  timeGridData,\n  isLastColumn\n}) {\n  const { rows: timeGridRows } = timeGridData;\n  const borderRight = useTheme(T$1((theme) => theme.week.timeGrid.borderRight, []));\n  const backgroundColorTheme = useTheme(backgroundColorSelector$1);\n  const [, getNow] = usePrimaryTimezone();\n  const today = getNow();\n  const backgroundColor = getBackgroundColor(__spreadValues({ today, columnDate }, backgroundColorTheme));\n  const style = {\n    width: columnWidth,\n    backgroundColor,\n    borderRight: isLastColumn ? \"none\" : borderRight\n  };\n  const uiModelsByColumn = totalUIModels[columnIndex];\n  const minEventHeight = timeGridRows[0].height;\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$4.column,\n    style,\n    \"data-testid\": `timegrid-column-${columnDate.getDay()}`\n  }, /* @__PURE__ */ h$3(VerticalEvents, {\n    eventUIModels: uiModelsByColumn,\n    minEventHeight\n  }), /* @__PURE__ */ h$3(ResizingGuideByColumn, {\n    gridPositionFinder,\n    totalUIModels,\n    columnIndex,\n    timeGridData\n  }), /* @__PURE__ */ h$3(GridSelectionByColumn, {\n    columnIndex,\n    timeGridRows\n  }));\n});\nfunction gridLineBorderSelector(theme) {\n  return {\n    halfHourLineBorder: theme.week.timeGridHalfHourLine.borderBottom,\n    hourLineBorder: theme.week.timeGridHourLine.borderBottom\n  };\n}\nconst GridLines = g$1(function GridLines2({\n  timeGridRows\n}) {\n  const { halfHourLineBorder, hourLineBorder } = useTheme(gridLineBorderSelector);\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"gridlines\")\n  }, timeGridRows.map((time, index) => {\n    const isUpperLine = index % 2 === 0;\n    return /* @__PURE__ */ h$3(\"div\", {\n      key: `gridline-${time.startTime}-${time.endTime}`,\n      className: cls(\"gridline-half\"),\n      style: {\n        top: toPercent(time.top),\n        height: toPercent(time.height),\n        borderBottom: isUpperLine ? halfHourLineBorder : hourLineBorder\n      },\n      \"data-testid\": `gridline-${time.startTime}-${time.endTime}`\n    });\n  }));\n});\nconst THIRTY_MINUTES = 30;\nfunction getCurrentIndexByTime(time, hourStart) {\n  const hour = time.getHours() - hourStart;\n  const minutes = time.getMinutes();\n  return hour * 2 + Math.floor(minutes / THIRTY_MINUTES);\n}\nfunction getMovingEventPosition({\n  draggingEvent,\n  columnDiff,\n  rowDiff,\n  timeGridDataRows,\n  currentDate\n}) {\n  const rowHeight = timeGridDataRows[0].height;\n  const maxHeight = rowHeight * timeGridDataRows.length;\n  const millisecondsDiff = rowDiff * MS_PER_THIRTY_MINUTES + columnDiff * MS_PER_DAY;\n  const hourStart = Number(timeGridDataRows[0].startTime.split(\":\")[0]);\n  const { goingDuration = 0, comingDuration = 0 } = draggingEvent.model;\n  const goingStart = addMinutes(draggingEvent.getStarts(), -goingDuration);\n  const comingEnd = addMinutes(draggingEvent.getEnds(), comingDuration);\n  const nextStart = addMilliseconds(goingStart, millisecondsDiff);\n  const nextEnd = addMilliseconds(comingEnd, millisecondsDiff);\n  const startIndex = Math.max(getCurrentIndexByTime(nextStart, hourStart), 0);\n  const endIndex = Math.min(getCurrentIndexByTime(nextEnd, hourStart), timeGridDataRows.length - 1);\n  const isStartAtPrevDate = nextStart.getFullYear() < currentDate.getFullYear() || nextStart.getMonth() < currentDate.getMonth() || nextStart.getDate() < currentDate.getDate();\n  const isEndAtNextDate = nextEnd.getFullYear() > currentDate.getFullYear() || nextEnd.getMonth() > currentDate.getMonth() || nextEnd.getDate() > currentDate.getDate();\n  const indexDiff = endIndex - (isStartAtPrevDate ? 0 : startIndex);\n  const top = isStartAtPrevDate ? 0 : timeGridDataRows[startIndex].top;\n  const height = isEndAtNextDate ? maxHeight : Math.max(indexDiff, 1) * rowHeight;\n  return { top, height };\n}\nconst initXSelector = (state) => state.dnd.initX;\nconst initYSelector = (state) => state.dnd.initY;\nfunction useTimeGridEventMove({\n  gridPositionFinder,\n  timeGridData\n}) {\n  const initX = useStore(initXSelector);\n  const initY = useStore(initYSelector);\n  const eventBus = useEventBus();\n  const { isDraggingEnd, isDraggingCanceled, draggingEvent, clearDraggingEvent } = useDraggingEvent(\"timeGrid\", \"move\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const initGridPosRef = s$2(null);\n  _$2(() => {\n    if (isPresent(initX) && isPresent(initY)) {\n      initGridPosRef.current = gridPositionFinder({\n        clientX: initX,\n        clientY: initY\n      });\n    }\n  }, [gridPositionFinder, initX, initY]);\n  const gridDiff = F$2(() => {\n    if (isNil(initGridPosRef.current) || isNil(currentGridPos)) {\n      return null;\n    }\n    return {\n      columnDiff: currentGridPos.columnIndex - initGridPosRef.current.columnIndex,\n      rowDiff: currentGridPos.rowIndex - initGridPosRef.current.rowIndex\n    };\n  }, [currentGridPos]);\n  const startDateTime = F$2(() => {\n    if (isNil(draggingEvent)) {\n      return null;\n    }\n    return draggingEvent.getStarts();\n  }, [draggingEvent]);\n  const clearState = T$1(() => {\n    clearCurrentGridPos();\n    clearDraggingEvent();\n    initGridPosRef.current = null;\n  }, [clearCurrentGridPos, clearDraggingEvent]);\n  const nextStartTime = F$2(() => {\n    if (isNil(gridDiff) || isNil(startDateTime)) {\n      return null;\n    }\n    return addMilliseconds(startDateTime, gridDiff.rowDiff * MS_PER_THIRTY_MINUTES + gridDiff.columnDiff * MS_PER_DAY);\n  }, [gridDiff, startDateTime]);\n  const movingEvent = F$2(() => {\n    if (isNil(draggingEvent) || isNil(currentGridPos) || isNil(gridDiff)) {\n      return null;\n    }\n    const clonedEvent = draggingEvent.clone();\n    const { top, height } = getMovingEventPosition({\n      draggingEvent: clonedEvent,\n      columnDiff: gridDiff.columnDiff,\n      rowDiff: gridDiff.rowDiff,\n      timeGridDataRows: timeGridData.rows,\n      currentDate: timeGridData.columns[currentGridPos.columnIndex].date\n    });\n    clonedEvent.setUIProps({\n      left: timeGridData.columns[currentGridPos.columnIndex].left,\n      width: timeGridData.columns[currentGridPos.columnIndex].width,\n      top,\n      height\n    });\n    return clonedEvent;\n  }, [currentGridPos, draggingEvent, gridDiff, timeGridData.columns, timeGridData.rows]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(draggingEvent) && isPresent(currentGridPos) && isPresent(gridDiff) && isPresent(nextStartTime) && (gridDiff.rowDiff !== 0 || gridDiff.columnDiff !== 0);\n    if (shouldUpdate) {\n      const duration = draggingEvent.duration();\n      const nextEndTime = addMilliseconds(nextStartTime, duration);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: draggingEvent.model.toEventObject(),\n        changes: {\n          start: nextStartTime,\n          end: nextEndTime\n        }\n      });\n    }\n    clearState();\n  }, isDraggingEnd);\n  return {\n    movingEvent,\n    nextStartTime\n  };\n}\nfunction MovingEventShadow$1({\n  gridPositionFinder,\n  timeGridData\n}) {\n  const { movingEvent, nextStartTime } = useTimeGridEventMove({\n    gridPositionFinder,\n    timeGridData\n  });\n  if (isNil(movingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(TimeEvent, {\n    uiModel: movingEvent,\n    nextStartTime\n  });\n}\nconst TEST_IDS = {\n  NOW_INDICATOR: \"timegrid-now-indicator\",\n  NOW_INDICATOR_LABEL: \"timegrid-now-indicator-label\"\n};\nconst classNames$3 = {\n  line: cls(addTimeGridPrefix(\"now-indicator\")),\n  left: cls(addTimeGridPrefix(\"now-indicator-left\")),\n  marker: cls(addTimeGridPrefix(\"now-indicator-marker\")),\n  today: cls(addTimeGridPrefix(\"now-indicator-today\")),\n  right: cls(addTimeGridPrefix(\"now-indicator-right\"))\n};\nfunction nowIndicatorTheme(theme) {\n  return {\n    pastBorder: theme.week.nowIndicatorPast.border,\n    todayBorder: theme.week.nowIndicatorToday.border,\n    futureBorder: theme.week.nowIndicatorFuture.border,\n    bulletBackgroundColor: theme.week.nowIndicatorBullet.backgroundColor\n  };\n}\nfunction NowIndicator({ top, columnWidth, columnCount, columnIndex }) {\n  const { pastBorder, todayBorder, futureBorder, bulletBackgroundColor } = useTheme(nowIndicatorTheme);\n  const layoutContainer = useLayoutContainer();\n  const eventBus = useEventBus();\n  const indicatorRef = s$2(null);\n  const leftLine = {\n    left: toPercent(columnWidth * columnIndex),\n    width: toPercent(columnWidth * columnIndex)\n  };\n  const rightLine = {\n    left: toPercent(columnWidth * (columnIndex + 1)),\n    width: toPercent(columnWidth * (columnCount - columnIndex + 1))\n  };\n  _$2(() => {\n    const scrollToNow = (behavior) => {\n      var _a;\n      const scrollArea = (_a = layoutContainer == null ? void 0 : layoutContainer.querySelector(`.${cls(\"panel\")}.${cls(\"time\")}`)) != null ? _a : null;\n      if (scrollArea && indicatorRef.current) {\n        const { offsetHeight: scrollAreaOffsetHeight } = scrollArea;\n        const { offsetTop: targetOffsetTop } = indicatorRef.current;\n        const newScrollTop = targetOffsetTop - scrollAreaOffsetHeight / 2;\n        if (scrollArea.scrollTo) {\n          scrollArea.scrollTo({ top: newScrollTop, behavior });\n        } else {\n          scrollArea.scrollTop = newScrollTop;\n        }\n      }\n    };\n    eventBus.on(\"scrollToNow\", scrollToNow);\n    return () => eventBus.off(\"scrollToNow\", scrollToNow);\n  }, [eventBus, layoutContainer]);\n  _$2(() => {\n    eventBus.fire(\"scrollToNow\", \"smooth\");\n  }, [eventBus]);\n  return /* @__PURE__ */ h$3(\"div\", {\n    ref: indicatorRef,\n    className: classNames$3.line,\n    style: { top: toPercent(top) },\n    \"data-testid\": TEST_IDS.NOW_INDICATOR\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$3.left,\n    style: { width: leftLine.width, borderTop: pastBorder }\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$3.marker,\n    style: { left: leftLine.left, backgroundColor: bulletBackgroundColor }\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$3.today,\n    style: {\n      left: leftLine.left,\n      width: toPercent(columnWidth),\n      borderTop: todayBorder\n    }\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: classNames$3.right,\n    style: {\n      left: rightLine.left,\n      borderTop: futureBorder\n    }\n  }));\n}\nconst classNames$2 = {\n  now: addTimeGridPrefix(\"current-time\"),\n  dayDifference: addTimeGridPrefix(\"day-difference\")\n};\nfunction NowIndicatorLabel({ unit, top, now, zonedNow }) {\n  const color = useTheme(T$1((theme) => theme.week.nowIndicatorLabel.color, []));\n  const dateDifference = F$2(() => {\n    return getDateDifference(zonedNow, now);\n  }, [zonedNow, now]);\n  const model = {\n    unit,\n    time: zonedNow,\n    format: timeFormats[unit]\n  };\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(classNames$2.now),\n    style: { top: toPercent(top), color },\n    \"data-testid\": TEST_IDS.NOW_INDICATOR_LABEL\n  }, dateDifference !== 0 && /* @__PURE__ */ h$3(\"span\", {\n    className: cls(classNames$2.dayDifference)\n  }, `[${dateDifference > 0 ? \"+\" : \"-\"}${Math.abs(dateDifference)}]`), /* @__PURE__ */ h$3(Template, {\n    template: \"timegridNowIndicatorLabel\",\n    param: model,\n    as: \"span\"\n  }));\n}\nconst monthVisibleEventCountSelector = (state) => {\n  var _a;\n  return (_a = state.options.month.visibleEventCount) != null ? _a : 6;\n};\nconst showNowIndicatorOptionSelector = (state) => state.options.week.showNowIndicator;\nconst showTimezoneCollapseButtonOptionSelector = (state) => {\n  var _a;\n  return (_a = state.options.week.showTimezoneCollapseButton) != null ? _a : false;\n};\nconst timezonesCollapsedOptionSelector = (state) => {\n  var _a;\n  return (_a = state.options.week.timezonesCollapsed) != null ? _a : false;\n};\nconst classNames$1 = {\n  timeColumn: addTimeGridPrefix(\"time-column\"),\n  hourRows: addTimeGridPrefix(\"hour-rows\"),\n  time: addTimeGridPrefix(\"time\"),\n  timeLabel: addTimeGridPrefix(\"time-label\"),\n  first: addTimeGridPrefix(\"time-first\"),\n  last: addTimeGridPrefix(\"time-last\"),\n  hidden: addTimeGridPrefix(\"time-hidden\")\n};\nfunction backgroundColorSelector(theme) {\n  return {\n    primaryTimezoneBackgroundColor: theme.week.timeGridLeft.backgroundColor,\n    subTimezoneBackgroundColor: theme.week.timeGridLeftAdditionalTimezone.backgroundColor\n  };\n}\nfunction timeColorSelector(theme) {\n  return {\n    pastTimeColor: theme.week.pastTime.color,\n    futureTimeColor: theme.week.futureTime.color\n  };\n}\nfunction HourRows({ rowsInfo, isPrimary, borderRight, width, nowIndicatorState }) {\n  var _a;\n  const showNowIndicator = useStore(showNowIndicatorOptionSelector);\n  const { primaryTimezoneBackgroundColor, subTimezoneBackgroundColor } = useTheme(backgroundColorSelector);\n  const { pastTimeColor, futureTimeColor } = useTheme(timeColorSelector);\n  const zonedNow = isPresent(nowIndicatorState) ? addMinutes(nowIndicatorState.now, (_a = rowsInfo[0].diffFromPrimaryTimezone) != null ? _a : 0) : null;\n  const backgroundColor = isPrimary ? primaryTimezoneBackgroundColor : subTimezoneBackgroundColor;\n  return /* @__PURE__ */ h$3(\"div\", {\n    role: \"rowgroup\",\n    className: cls(classNames$1.hourRows),\n    style: { width: toPercent(width), borderRight, backgroundColor }\n  }, rowsInfo.map(({ date: date2, top, className: className2 }) => {\n    const isPast = isPresent(zonedNow) && date2 < zonedNow;\n    const color = isPast ? pastTimeColor : futureTimeColor;\n    return /* @__PURE__ */ h$3(\"div\", {\n      key: date2.getTime(),\n      className: className2,\n      style: {\n        top: toPercent(top),\n        color\n      },\n      role: \"row\"\n    }, /* @__PURE__ */ h$3(Template, {\n      template: `timegridDisplay${isPrimary ? \"Primary\" : \"\"}Time`,\n      param: { time: date2 },\n      as: \"span\"\n    }));\n  }), showNowIndicator && isPresent(nowIndicatorState) && isPresent(zonedNow) && /* @__PURE__ */ h$3(NowIndicatorLabel, {\n    unit: \"hour\",\n    top: nowIndicatorState.top,\n    now: nowIndicatorState.now,\n    zonedNow\n  }));\n}\nconst TimeColumn = g$1(function TimeColumn2({ timeGridRows, nowIndicatorState }) {\n  const showNowIndicator = useStore(showNowIndicatorOptionSelector);\n  const timezones = useStore(timezonesSelector);\n  const timezonesCollapsed = useStore(timezonesCollapsedOptionSelector);\n  const tzConverter = useTZConverter();\n  const { width, borderRight } = useTheme(weekTimeGridLeftSelector);\n  const rowsByHour = F$2(() => timeGridRows.filter((_2, index) => index % 2 === 0 || index === timeGridRows.length - 1), [timeGridRows]);\n  const hourRowsPropsMapper = T$1((row, index, diffFromPrimaryTimezone) => {\n    const shouldHideRow = ({ top: rowTop, height: rowHeight }) => {\n      if (!showNowIndicator || isNil(nowIndicatorState)) {\n        return false;\n      }\n      const indicatorTop = nowIndicatorState.top;\n      return rowTop - rowHeight <= indicatorTop && indicatorTop <= rowTop + rowHeight;\n    };\n    const isFirst = index === 0;\n    const isLast = index === rowsByHour.length - 1;\n    const className2 = cls(classNames$1.time, {\n      [classNames$1.first]: isFirst,\n      [classNames$1.last]: isLast,\n      [classNames$1.hidden]: shouldHideRow(row)\n    });\n    let date2 = setTimeStrToDate(new TZDate(), isLast ? row.endTime : row.startTime);\n    if (isPresent(diffFromPrimaryTimezone)) {\n      date2 = addMinutes(date2, diffFromPrimaryTimezone);\n    }\n    return {\n      date: date2,\n      top: row.top,\n      className: className2,\n      diffFromPrimaryTimezone\n    };\n  }, [rowsByHour, nowIndicatorState, showNowIndicator]);\n  const [primaryTimezone, ...otherTimezones] = timezones;\n  const hourRowsWidth = otherTimezones.length > 0 ? 100 / (otherTimezones.length + 1) : 100;\n  const primaryTimezoneHourRowsProps = rowsByHour.map((row, index) => hourRowsPropsMapper(row, index));\n  const otherTimezoneHourRowsProps = F$2(() => {\n    if (otherTimezones.length === 0) {\n      return [];\n    }\n    return otherTimezones.reverse().map((timezone) => {\n      const { timezoneName } = timezone;\n      const primaryTimezoneOffset = tzConverter(primaryTimezone.timezoneName).getTimezoneOffset();\n      const currentTimezoneOffset = tzConverter(timezoneName).getTimezoneOffset();\n      const diffFromPrimaryTimezone = currentTimezoneOffset - primaryTimezoneOffset;\n      return rowsByHour.map((row, index) => hourRowsPropsMapper(row, index, diffFromPrimaryTimezone));\n    });\n  }, [hourRowsPropsMapper, otherTimezones, primaryTimezone, rowsByHour, tzConverter]);\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(classNames$1.timeColumn),\n    style: { width },\n    \"data-testid\": \"timegrid-time-column\"\n  }, !timezonesCollapsed && otherTimezoneHourRowsProps.map((rowsInfo) => /* @__PURE__ */ h$3(HourRows, {\n    key: rowsInfo[0].diffFromPrimaryTimezone,\n    rowsInfo,\n    isPrimary: false,\n    borderRight,\n    width: hourRowsWidth,\n    nowIndicatorState\n  })), /* @__PURE__ */ h$3(HourRows, {\n    rowsInfo: primaryTimezoneHourRowsProps,\n    isPrimary: true,\n    borderRight,\n    width: timezonesCollapsed ? 100 : hourRowsWidth,\n    nowIndicatorState\n  }));\n});\nfunction getTopPercentByTime(date2, start, end) {\n  const startTime = start.getTime();\n  const endTime = end.getTime();\n  const time = limit(date2.getTime(), [startTime], [endTime]) - startTime;\n  const max2 = endTime - startTime;\n  const topPercent = ratio(max2, 100, time);\n  return limit(topPercent, [0], [100]);\n}\nfunction getTopHeightByTime(start, end, minTime, maxTime) {\n  const top = getTopPercentByTime(start, minTime, maxTime);\n  const bottom = getTopPercentByTime(end, minTime, maxTime);\n  const height = bottom - top;\n  return {\n    top,\n    height\n  };\n}\nconst MIN_HEIGHT_PERCENT = 1;\nfunction isBetween(startColumnTime, endColumnTime) {\n  return (uiModel) => {\n    const { goingDuration = 0, comingDuration = 0 } = uiModel.model;\n    const ownStarts = addMinutes(uiModel.getStarts(), -goingDuration);\n    const ownEnds = addMinutes(uiModel.getEnds(), comingDuration);\n    return !(ownEnds <= startColumnTime || ownStarts >= endColumnTime);\n  };\n}\nfunction setInnerHeights(uiModel, options) {\n  const { renderStart, renderEnd, modelStart, modelEnd } = options;\n  const { goingDuration = 0, comingDuration = 0 } = uiModel.model;\n  let modelDurationHeight = 100;\n  if (goingDuration > 0) {\n    const { height: goingDurationHeight } = getTopHeightByTime(renderStart, modelStart, renderStart, renderEnd);\n    uiModel.goingDurationHeight = goingDurationHeight;\n    modelDurationHeight -= goingDurationHeight;\n  }\n  if (comingDuration > 0) {\n    const { height: comingDurationHeight } = getTopHeightByTime(modelEnd, renderEnd, renderStart, renderEnd);\n    uiModel.comingDurationHeight = comingDurationHeight;\n    modelDurationHeight -= comingDurationHeight;\n  }\n  uiModel.modelDurationHeight = modelDurationHeight;\n}\nfunction setCroppedEdges(uiModel, options) {\n  const { goingStart, comingEnd, startColumnTime, endColumnTime } = options;\n  if (goingStart < startColumnTime) {\n    uiModel.croppedStart = true;\n  }\n  if (comingEnd > endColumnTime) {\n    uiModel.croppedEnd = true;\n  }\n}\nfunction getDuplicateLeft(uiModel, baseLeft) {\n  const { duplicateEvents, duplicateEventIndex } = uiModel;\n  const prevEvent = duplicateEvents[duplicateEventIndex - 1];\n  let left = baseLeft;\n  if (prevEvent) {\n    const { percent: leftPercent, px: leftPx } = extractPercentPx(`${prevEvent.duplicateLeft}`);\n    const { percent: widthPercent, px: widthPx } = extractPercentPx(`${prevEvent.duplicateWidth}`);\n    const percent = leftPercent + widthPercent;\n    const px = leftPx + widthPx + TIME_EVENT_CONTAINER_MARGIN_LEFT;\n    if (percent !== 0) {\n      left = `calc(${toPercent(percent)} ${px > 0 ? \"+\" : \"-\"} ${toPx(Math.abs(px))})`;\n    } else {\n      left = toPx(px);\n    }\n  } else {\n    left = toPercent(left);\n  }\n  return left;\n}\nfunction getDuplicateWidth(uiModel, baseWidth) {\n  const { collapse } = uiModel;\n  return collapse ? `${COLLAPSED_DUPLICATE_EVENT_WIDTH_PX}px` : `calc(${toPercent(baseWidth)} - ${toPx((COLLAPSED_DUPLICATE_EVENT_WIDTH_PX + TIME_EVENT_CONTAINER_MARGIN_LEFT) * (uiModel.duplicateEvents.length - 1) + TIME_EVENT_CONTAINER_MARGIN_LEFT)})`;\n}\nfunction setDimension(uiModel, options) {\n  const { startColumnTime, endColumnTime, baseWidth, columnIndex, renderStart, renderEnd } = options;\n  const { duplicateEvents } = uiModel;\n  const { top, height } = getTopHeightByTime(renderStart, renderEnd, startColumnTime, endColumnTime);\n  const dimension = {\n    top,\n    left: baseWidth * columnIndex,\n    width: baseWidth,\n    height: Math.max(MIN_HEIGHT_PERCENT, height),\n    duplicateLeft: \"\",\n    duplicateWidth: \"\"\n  };\n  if (duplicateEvents.length > 0) {\n    dimension.duplicateLeft = getDuplicateLeft(uiModel, dimension.left);\n    dimension.duplicateWidth = getDuplicateWidth(uiModel, dimension.width);\n  }\n  uiModel.setUIProps(dimension);\n}\nfunction getRenderInfoOptions(uiModel, columnIndex, baseWidth, startColumnTime, endColumnTime) {\n  const { goingDuration = 0, comingDuration = 0 } = uiModel.model;\n  const modelStart = uiModel.getStarts();\n  const modelEnd = uiModel.getEnds();\n  const goingStart = addMinutes(modelStart, -goingDuration);\n  const comingEnd = addMinutes(modelEnd, comingDuration);\n  const renderStart = max(goingStart, startColumnTime);\n  const renderEnd = min(comingEnd, endColumnTime);\n  return {\n    baseWidth,\n    columnIndex,\n    modelStart,\n    modelEnd,\n    renderStart,\n    renderEnd,\n    goingStart,\n    comingEnd,\n    startColumnTime,\n    endColumnTime,\n    duplicateEvents: uiModel.duplicateEvents\n  };\n}\nfunction setRenderInfo({\n  uiModel,\n  columnIndex,\n  baseWidth,\n  startColumnTime,\n  endColumnTime,\n  isDuplicateEvent = false\n}) {\n  if (!isDuplicateEvent && uiModel.duplicateEvents.length > 0) {\n    uiModel.duplicateEvents.forEach((event) => {\n      setRenderInfo({\n        uiModel: event,\n        columnIndex,\n        baseWidth,\n        startColumnTime,\n        endColumnTime,\n        isDuplicateEvent: true\n      });\n    });\n    return;\n  }\n  const renderInfoOptions = getRenderInfoOptions(uiModel, columnIndex, baseWidth, startColumnTime, endColumnTime);\n  setDimension(uiModel, renderInfoOptions);\n  setInnerHeights(uiModel, renderInfoOptions);\n  setCroppedEdges(uiModel, renderInfoOptions);\n}\nfunction setDuplicateEvents(uiModels, options, selectedDuplicateEventCid) {\n  const { getDuplicateEvents, getMainEvent } = options;\n  const eventObjects = uiModels.map((uiModel) => uiModel.model.toEventObject());\n  uiModels.forEach((targetUIModel) => {\n    if (targetUIModel.collapse || targetUIModel.duplicateEvents.length > 0) {\n      return;\n    }\n    const duplicateEvents = getDuplicateEvents(targetUIModel.model.toEventObject(), eventObjects);\n    if (duplicateEvents.length <= 1) {\n      return;\n    }\n    const mainEvent = getMainEvent(duplicateEvents);\n    const duplicateEventUIModels = duplicateEvents.map((event) => uiModels.find((uiModel) => uiModel.cid() === event.__cid));\n    const isSelectedGroup = !!(selectedDuplicateEventCid > DEFAULT_DUPLICATE_EVENT_CID && duplicateEvents.find((event) => event.__cid === selectedDuplicateEventCid));\n    const duplicateStarts = duplicateEvents.reduce((acc, { start, goingDuration }) => {\n      const renderStart = addMinutes(start, -goingDuration);\n      return min(acc, renderStart);\n    }, duplicateEvents[0].start);\n    const duplicateEnds = duplicateEvents.reduce((acc, { end, comingDuration }) => {\n      const renderEnd = addMinutes(end, comingDuration);\n      return max(acc, renderEnd);\n    }, duplicateEvents[0].end);\n    duplicateEventUIModels.forEach((event, index) => {\n      const isMain = event.cid() === mainEvent.__cid;\n      const collapse = !(isSelectedGroup && event.cid() === selectedDuplicateEventCid || !isSelectedGroup && isMain);\n      event.setUIProps({\n        duplicateEvents: duplicateEventUIModels,\n        duplicateEventIndex: index,\n        collapse,\n        isMain,\n        duplicateStarts,\n        duplicateEnds\n      });\n    });\n  });\n  return uiModels;\n}\nfunction setRenderInfoOfUIModels(events, startColumnTime, endColumnTime, selectedDuplicateEventCid, collapseDuplicateEventsOptions) {\n  const uiModels = events.filter(isTimeEvent).filter(isBetween(startColumnTime, endColumnTime)).sort(array.compare.event.asc);\n  if (collapseDuplicateEventsOptions) {\n    setDuplicateEvents(uiModels, collapseDuplicateEventsOptions, selectedDuplicateEventCid);\n  }\n  const expandedEvents = uiModels.filter((uiModel) => !uiModel.collapse);\n  const uiModelColl = createEventCollection(...expandedEvents);\n  const usingTravelTime = true;\n  const collisionGroups = getCollisionGroup(expandedEvents, usingTravelTime);\n  const matrices = getMatrices(uiModelColl, collisionGroups, usingTravelTime);\n  matrices.forEach((matrix) => {\n    const maxRowLength = Math.max(...matrix.map((row) => row.length));\n    const baseWidth = Math.round(100 / maxRowLength);\n    matrix.forEach((row) => {\n      row.forEach((uiModel, columnIndex) => {\n        setRenderInfo({ uiModel, columnIndex, baseWidth, startColumnTime, endColumnTime });\n      });\n    });\n  });\n  return uiModels;\n}\nfunction useInterval(callback, delay) {\n  const savedCallback = s$2(callback);\n  _$2(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  _$2(() => {\n    const tick = () => savedCallback.current();\n    const intervalDelay = delay != null ? delay : -1;\n    if (intervalDelay > 0) {\n      const id = setInterval(tick, intervalDelay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\nfunction useIsMounted() {\n  const isMountedRef = s$2(true);\n  _$2(() => {\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return T$1(() => isMountedRef.current, []);\n}\nconst classNames = {\n  timegrid: cls(className),\n  scrollArea: cls(addTimeGridPrefix(\"scroll-area\"))\n};\nfunction TimeGrid({ timeGridData, events }) {\n  const {\n    isReadOnly,\n    week: { narrowWeekend, startDayOfWeek, collapseDuplicateEvents }\n  } = useStore(optionsSelector);\n  const showNowIndicator = useStore(showNowIndicatorOptionSelector);\n  const selectedDuplicateEventCid = useStore((state) => state.weekViewLayout.selectedDuplicateEventCid);\n  const [, getNow] = usePrimaryTimezone();\n  const isMounted = useIsMounted();\n  const { width: timeGridLeftWidth } = useTheme(weekTimeGridLeftSelector);\n  const [nowIndicatorState, setNowIndicatorState] = y$1(null);\n  const { columns, rows } = timeGridData;\n  const lastColumnIndex = columns.length - 1;\n  const totalUIModels = F$2(() => columns.map(({ date: date2 }) => events.filter(isBetween(toStartOfDay(date2), toEndOfDay(date2))).map((uiModel) => uiModel.clone())).map((uiModelsByColumn, columnIndex) => setRenderInfoOfUIModels(uiModelsByColumn, setTimeStrToDate(columns[columnIndex].date, first(rows).startTime), setTimeStrToDate(columns[columnIndex].date, last(rows).endTime), selectedDuplicateEventCid, collapseDuplicateEvents)), [columns, rows, events, selectedDuplicateEventCid, collapseDuplicateEvents]);\n  const currentDateData = F$2(() => {\n    const now = getNow();\n    const currentDateIndexInColumns = columns.findIndex((column) => isSameDate(column.date, now));\n    if (currentDateIndexInColumns < 0) {\n      return null;\n    }\n    const startTime = setTimeStrToDate(columns[currentDateIndexInColumns].date, timeGridData.rows[0].startTime);\n    const endTime = setTimeStrToDate(columns[currentDateIndexInColumns].date, last(timeGridData.rows).endTime);\n    return {\n      startTime,\n      endTime,\n      currentDateIndex: currentDateIndexInColumns\n    };\n  }, [columns, getNow, timeGridData.rows]);\n  const [columnsContainer, setColumnsContainer] = useDOMNode();\n  const gridPositionFinder = F$2(() => createGridPositionFinder({\n    rowsCount: rows.length,\n    columnsCount: columns.length,\n    container: columnsContainer,\n    narrowWeekend,\n    startDayOfWeek\n  }), [columns.length, columnsContainer, narrowWeekend, rows.length, startDayOfWeek]);\n  const onMouseDown = useGridSelection({\n    type: \"timeGrid\",\n    gridPositionFinder,\n    selectionSorter: timeGridSelectionHelper.sortSelection,\n    dateGetter: timeGridSelectionHelper.getDateFromCollection,\n    dateCollection: timeGridData\n  });\n  const updateTimeGridIndicator = T$1(() => {\n    if (isPresent(currentDateData)) {\n      const { startTime, endTime } = currentDateData;\n      const now = getNow();\n      if (startTime <= now && now <= endTime) {\n        setNowIndicatorState({\n          top: getTopPercentByTime(now, startTime, endTime),\n          now\n        });\n      }\n    }\n  }, [currentDateData, getNow]);\n  h$2(() => {\n    var _a;\n    if (isMounted()) {\n      if (((_a = currentDateData == null ? void 0 : currentDateData.currentDateIndex) != null ? _a : -1) >= 0) {\n        updateTimeGridIndicator();\n      } else {\n        setNowIndicatorState(null);\n      }\n    }\n  }, [currentDateData, isMounted, updateTimeGridIndicator]);\n  useInterval(updateTimeGridIndicator, isPresent(currentDateData) ? MS_PER_MINUTES : null);\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: classNames.timegrid\n  }, /* @__PURE__ */ h$3(\"div\", {\n    className: classNames.scrollArea\n  }, /* @__PURE__ */ h$3(TimeColumn, {\n    timeGridRows: rows,\n    nowIndicatorState\n  }), /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"columns\"),\n    style: { left: timeGridLeftWidth },\n    ref: setColumnsContainer,\n    onMouseDown: passConditionalProp(!isReadOnly, onMouseDown)\n  }, /* @__PURE__ */ h$3(GridLines, {\n    timeGridRows: rows\n  }), /* @__PURE__ */ h$3(MovingEventShadow$1, {\n    gridPositionFinder,\n    timeGridData\n  }), columns.map((column, index) => /* @__PURE__ */ h$3(Column, {\n    key: column.date.toString(),\n    timeGridData,\n    columnDate: column.date,\n    columnWidth: toPercent(column.width),\n    columnIndex: index,\n    totalUIModels,\n    gridPositionFinder,\n    isLastColumn: index === lastColumnIndex\n  })), showNowIndicator && isPresent(currentDateData) && isPresent(nowIndicatorState) ? /* @__PURE__ */ h$3(NowIndicator, {\n    top: nowIndicatorState.top,\n    columnWidth: columns[0].width,\n    columnCount: columns.length,\n    columnIndex: currentDateData.currentDateIndex\n  }) : null)));\n}\nfunction TimezoneCollapseButton({ isCollapsed }) {\n  const eventBus = useEventBus();\n  const iconClassName = cls(\"icon\", {\n    \"ic-arrow-right\": isCollapsed,\n    \"ic-arrow-left\": !isCollapsed\n  });\n  return /* @__PURE__ */ h$3(\"button\", {\n    className: cls(addTimeGridPrefix(\"timezone-collapse-button\")),\n    \"aria-expanded\": !isCollapsed,\n    onClick: () => eventBus.fire(\"clickTimezonesCollapseBtn\", isCollapsed)\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: iconClassName,\n    role: \"img\"\n  }));\n}\nfunction TimezoneLabel({ label, offset, tooltip, width = 100, left }) {\n  return /* @__PURE__ */ h$3(\"div\", {\n    title: tooltip,\n    className: cls(addTimeGridPrefix(\"timezone-label\")),\n    style: {\n      width: toPercent(width),\n      height: toPercent(100),\n      left: toPercent(left)\n    },\n    role: \"gridcell\"\n  }, /* @__PURE__ */ h$3(Template, {\n    template: \"timezoneDisplayLabel\",\n    param: { displayLabel: label, timezoneOffset: offset },\n    as: \"span\"\n  }));\n}\nfunction useTimezoneCollapseOptions() {\n  const showTimezoneCollapseButton = useStore(showTimezoneCollapseButtonOptionSelector);\n  const timezonesCollapsed = useStore(timezonesCollapsedOptionSelector);\n  return F$2(() => {\n    return {\n      showTimezoneCollapseButton,\n      timezonesCollapsed\n    };\n  }, [showTimezoneCollapseButton, timezonesCollapsed]);\n}\nfunction TimezoneLabels({ top }) {\n  const timezones = useStore(timezonesSelector);\n  const { width } = useTheme(weekTimeGridLeftSelector);\n  const tzConverter = useTZConverter();\n  const { showTimezoneCollapseButton, timezonesCollapsed } = useTimezoneCollapseOptions();\n  if (timezones.length <= 1) {\n    return null;\n  }\n  const timezoneLabelProps = timezones.map(({ displayLabel, timezoneName, tooltip }) => {\n    return !isUndefined_1(displayLabel) ? { label: displayLabel, offset: null, tooltip: tooltip != null ? tooltip : timezoneName } : {\n      label: null,\n      offset: tzConverter(timezoneName).getTimezoneOffset(),\n      tooltip: tooltip != null ? tooltip : timezoneName\n    };\n  });\n  const [primaryTimezone, ...restTimezones] = timezoneLabelProps;\n  const subTimezones = restTimezones.reverse();\n  const timezonesCount = timezonesCollapsed ? 1 : timezones.length;\n  const timezoneLabelWidth = 100 / timezonesCount;\n  return /* @__PURE__ */ h$3(\"div\", {\n    style: {\n      top,\n      width\n    },\n    role: \"columnheader\",\n    className: cls(\"timezone-labels-slot\")\n  }, !timezonesCollapsed && subTimezones.map((subTimezone, index) => {\n    var _a;\n    return /* @__PURE__ */ h$3(TimezoneLabel, __spreadValues({\n      key: `subTimezone-${(_a = subTimezone.label) != null ? _a : subTimezone.offset}`,\n      width: timezoneLabelWidth,\n      left: timezoneLabelWidth * index\n    }, subTimezone));\n  }), showTimezoneCollapseButton && /* @__PURE__ */ h$3(TimezoneCollapseButton, {\n    isCollapsed: timezonesCollapsed\n  }), /* @__PURE__ */ h$3(TimezoneLabel, __spreadValues({\n    width: timezoneLabelWidth,\n    left: timezoneLabelWidth * subTimezones.length\n  }, primaryTimezone)));\n}\nconst VIEW_TYPE = {\n  MONTH: \"month\",\n  WEEK: \"week\",\n  DAY: \"day\"\n};\nconst DEFAULT_TASK_PANEL = [\"milestone\", \"task\"];\nconst DEFAULT_EVENT_PANEL = [\"allday\", \"time\"];\nfunction getActivePanels(taskView, eventView) {\n  const activePanels = [];\n  if (taskView === true) {\n    activePanels.push(...DEFAULT_TASK_PANEL);\n  } else if (Array.isArray(taskView)) {\n    activePanels.push(...taskView);\n  }\n  if (eventView === true) {\n    activePanels.push(...DEFAULT_EVENT_PANEL);\n  } else if (Array.isArray(eventView)) {\n    activePanels.push(...eventView);\n  }\n  return activePanels;\n}\nfunction useEventsWithTimezone(events) {\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const tzConverter = useTZConverter();\n  return F$2(() => {\n    if (primaryTimezoneName === \"Local\") {\n      return events;\n    }\n    const isSystemUsingDST = isUsingDST(new TZDate());\n    const {\n      timedEvents = createEventCollection(),\n      totalEvents = createEventCollection()\n    } = events.groupBy((eventModel) => eventModel.category === \"time\" ? \"timedEvents\" : \"totalEvents\");\n    timedEvents.each((eventModel) => {\n      const clonedEventModel = clone$1(eventModel);\n      let zonedStart = tzConverter(primaryTimezoneName, clonedEventModel.start);\n      let zonedEnd = tzConverter(primaryTimezoneName, clonedEventModel.end);\n      if (isSystemUsingDST) {\n        if (!isUsingDST(zonedStart)) {\n          zonedStart = zonedStart.addHours(1);\n        }\n        if (!isUsingDST(zonedEnd)) {\n          zonedEnd = zonedEnd.addHours(1);\n        }\n      } else {\n        if (isUsingDST(zonedStart)) {\n          zonedStart = zonedStart.addHours(-1);\n        }\n        if (isUsingDST(zonedEnd)) {\n          zonedEnd = zonedEnd.addHours(-1);\n        }\n      }\n      clonedEventModel.start = zonedStart;\n      clonedEventModel.end = zonedEnd;\n      totalEvents.add(clonedEventModel);\n    });\n    return totalEvents;\n  }, [events, primaryTimezoneName, tzConverter]);\n}\nfunction useCalendarData(calendar, ...filters) {\n  const filteredEvents = F$2(() => calendar.events.filter(Collection.and(...filters)), [calendar.events, filters]);\n  const filteredEventsWithTimezone = useEventsWithTimezone(filteredEvents);\n  return F$2(() => __spreadProps(__spreadValues({}, calendar), {\n    events: filteredEventsWithTimezone\n  }), [calendar, filteredEventsWithTimezone]);\n}\nfunction isTimeGridDraggingType(draggingItemType) {\n  return /^(event|gridSelection)\\/timeGrid/.test(draggingItemType != null ? draggingItemType : \"\");\n}\nfunction useTimeGridScrollSync(scrollArea, rowCount) {\n  useTransientUpdate(dndSelector, ({ y: y2, draggingItemType, draggingState }) => {\n    if (isPresent(scrollArea) && isTimeGridDraggingType(draggingItemType) && draggingState === DraggingState.DRAGGING && isPresent(y2)) {\n      const { offsetTop, offsetHeight, scrollHeight } = scrollArea;\n      const scrollBoundary = Math.floor(scrollHeight / rowCount);\n      const layoutHeight = offsetTop + offsetHeight;\n      if (y2 < offsetTop + scrollBoundary) {\n        const scrollDiff = y2 - (offsetTop + scrollBoundary);\n        scrollArea.scrollTop = Math.max(0, scrollArea.scrollTop + scrollDiff);\n      } else if (y2 > layoutHeight - scrollBoundary) {\n        const scrollDiff = y2 - (layoutHeight - scrollBoundary);\n        scrollArea.scrollTop = Math.min(offsetHeight, scrollArea.scrollTop + scrollDiff);\n      }\n    }\n  });\n}\nfunction timegridHeightSelector(state) {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = state.weekViewLayout) == null ? void 0 : _a.dayGridRows) == null ? void 0 : _b.time) == null ? void 0 : _c.height;\n}\nfunction useTimezoneLabelsTop(timePanel) {\n  const timeGridPanelHeight = useStore(timegridHeightSelector);\n  const [stickyTop, setStickyTop] = y$1(null);\n  h$2(() => {\n    if (isPresent(timeGridPanelHeight) && timePanel) {\n      setStickyTop(timePanel.offsetTop);\n    }\n  }, [timeGridPanelHeight, timePanel]);\n  return stickyTop;\n}\nfunction useDayViewState() {\n  const calendar = useStore(calendarSelector);\n  const options = useStore(optionsSelector);\n  const { dayGridRows: gridRowLayout, lastPanelType } = useStore(weekViewLayoutSelector);\n  const { renderDate } = useStore(viewSelector);\n  return F$2(() => ({\n    calendar,\n    options,\n    gridRowLayout,\n    lastPanelType,\n    renderDate\n  }), [calendar, options, gridRowLayout, lastPanelType, renderDate]);\n}\nfunction Day$1() {\n  var _a, _b;\n  const { calendar, options, gridRowLayout, lastPanelType, renderDate } = useDayViewState();\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const gridHeaderMarginLeft = useTheme(T$1((theme) => theme.week.dayGridLeft.width, []));\n  const [timePanel, setTimePanelRef] = useDOMNode();\n  const weekOptions = options.week;\n  const { narrowWeekend, startDayOfWeek, workweek, hourStart, hourEnd, eventView, taskView } = weekOptions;\n  const days = F$2(() => [renderDate], [renderDate]);\n  const dayNames = getDayNames(days, (_b = (_a = options.week) == null ? void 0 : _a.dayNames) != null ? _b : []);\n  const { rowStyleInfo, cellWidthMap } = getRowStyleInfo(days.length, narrowWeekend, startDayOfWeek, workweek);\n  const calendarData = useCalendarData(calendar, options.eventFilter);\n  const dayGridEvents = F$2(() => {\n    const getFilterRange = () => {\n      if (primaryTimezoneName === \"Local\") {\n        return [toStartOfDay(days[0]), toEndOfDay(days[0])];\n      }\n      return [toStartOfDay(addDate(days[0], -1)), toEndOfDay(addDate(days[0], 1))];\n    };\n    const [weekStartDate, weekEndDate] = getFilterRange();\n    return getWeekViewEvents(days, calendarData, {\n      narrowWeekend,\n      hourStart,\n      hourEnd,\n      weekStartDate,\n      weekEndDate\n    });\n  }, [calendarData, days, hourEnd, hourStart, narrowWeekend, primaryTimezoneName]);\n  const timeGridData = F$2(() => createTimeGridData(days, {\n    hourStart,\n    hourEnd,\n    narrowWeekend\n  }), [days, hourEnd, hourStart, narrowWeekend]);\n  const activePanels = getActivePanels(taskView, eventView);\n  const gridRows = activePanels.map((key) => {\n    var _a2, _b2;\n    if (key === \"time\") {\n      return null;\n    }\n    const rowType = key;\n    return /* @__PURE__ */ h$3(Panel, {\n      key: rowType,\n      name: rowType,\n      resizable: rowType !== lastPanelType\n    }, rowType === \"allday\" ? /* @__PURE__ */ h$3(AlldayGridRow, {\n      events: dayGridEvents[rowType],\n      rowStyleInfo,\n      gridColWidthMap: cellWidthMap,\n      weekDates: days,\n      height: (_a2 = gridRowLayout[rowType]) == null ? void 0 : _a2.height,\n      options: weekOptions\n    }) : /* @__PURE__ */ h$3(OtherGridRow, {\n      category: rowType,\n      events: dayGridEvents[rowType],\n      weekDates: days,\n      height: (_b2 = gridRowLayout[rowType]) == null ? void 0 : _b2.height,\n      options: weekOptions,\n      gridColWidthMap: cellWidthMap\n    }));\n  });\n  useTimeGridScrollSync(timePanel, timeGridData.rows.length);\n  const stickyTop = useTimezoneLabelsTop(timePanel);\n  return /* @__PURE__ */ h$3(Layout, {\n    className: cls(\"day-view\"),\n    autoAdjustPanels: true\n  }, /* @__PURE__ */ h$3(Panel, {\n    name: \"day-view-day-names\",\n    initialHeight: WEEK_DAY_NAME_HEIGHT + WEEK_DAY_NAME_BORDER\n  }, /* @__PURE__ */ h$3(GridHeader, {\n    type: \"week\",\n    dayNames,\n    marginLeft: gridHeaderMarginLeft,\n    rowStyleInfo\n  })), gridRows, activePanels.includes(\"time\") ? /* @__PURE__ */ h$3(Panel, {\n    name: \"time\",\n    autoSize: 1,\n    ref: setTimePanelRef\n  }, /* @__PURE__ */ h$3(TimeGrid, {\n    events: dayGridEvents.time,\n    timeGridData\n  }), /* @__PURE__ */ h$3(TimezoneLabels, {\n    top: stickyTop\n  })) : null);\n}\nfunction AccumulatedGridSelection({ rowIndex, weekDates, narrowWeekend }) {\n  const gridSelectionDataByRow = useStore(T$1((state) => state.gridSelection.accumulated.dayGridMonth.map((gridSelection) => dayGridMonthSelectionHelper.calculateSelection(gridSelection, rowIndex, weekDates.length)), [rowIndex, weekDates]));\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"accumulated-grid-selection\")\n  }, gridSelectionDataByRow.map((gridSelectionData) => gridSelectionData ? /* @__PURE__ */ h$3(GridSelection$1, {\n    type: \"accumulated\",\n    gridSelectionData,\n    weekDates,\n    narrowWeekend\n  }) : null));\n}\nfunction MoreEventsButton({ type, number, onClickButton, className: className2 }) {\n  const { reset } = useDispatch(\"dnd\");\n  const handleMouseDown = (e2) => {\n    e2.stopPropagation();\n  };\n  const handleClick = () => {\n    reset();\n    onClickButton();\n  };\n  const exceedButtonTemplate = `monthGrid${type === CellBarType.header ? \"Header\" : \"Footer\"}Exceed`;\n  return /* @__PURE__ */ h$3(\"button\", {\n    type: \"button\",\n    onMouseDown: handleMouseDown,\n    onClick: handleClick,\n    className: className2\n  }, /* @__PURE__ */ h$3(Template, {\n    template: exceedButtonTemplate,\n    param: number\n  }));\n}\nfunction getDateColor({\n  date: date2,\n  theme,\n  renderDate,\n  isToday\n}) {\n  const dayIndex = date2.getDay();\n  const thisMonth = renderDate.getMonth();\n  const isSameMonth2 = thisMonth === date2.getMonth();\n  const {\n    common: { holiday, saturday, today, dayName },\n    month: { dayExceptThisMonth, holidayExceptThisMonth }\n  } = theme;\n  if (isToday) {\n    return today.color;\n  }\n  if (isSunday(dayIndex)) {\n    return isSameMonth2 ? holiday.color : holidayExceptThisMonth.color;\n  }\n  if (isSaturday(dayIndex)) {\n    return isSameMonth2 ? saturday.color : dayExceptThisMonth.color;\n  }\n  if (!isSameMonth2) {\n    return dayExceptThisMonth.color;\n  }\n  return dayName.color;\n}\nfunction useCellHeaderTheme() {\n  const common = useCommonTheme();\n  const month = useMonthTheme();\n  return F$2(() => ({ common, month }), [common, month]);\n}\nfunction CellHeader({\n  type = CellBarType.header,\n  exceedCount = 0,\n  date: date2,\n  onClickExceedCount\n}) {\n  const { renderDate } = useStore(viewSelector);\n  const [, getNow] = usePrimaryTimezone();\n  const theme = useCellHeaderTheme();\n  const height = theme.month.gridCell[`${type}Height`];\n  const ymd = toFormat(date2, \"YYYYMMDD\");\n  const todayYmd = toFormat(getNow(), \"YYYYMMDD\");\n  const isToday = ymd === todayYmd;\n  const templateParam = {\n    date: toFormat(date2, \"YYYY-MM-DD\"),\n    day: date2.getDay(),\n    hiddenEventCount: exceedCount,\n    isOtherMonth: date2.getMonth() !== renderDate.getMonth(),\n    isToday: ymd === todayYmd,\n    month: date2.getMonth(),\n    ymd\n  };\n  const gridCellDateStyle = { color: getDateColor({ date: date2, theme, isToday, renderDate }) };\n  const monthGridTemplate = `monthGrid${capitalize(type)}`;\n  if (isNil(height)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(`grid-cell-${type}`),\n    style: { height }\n  }, /* @__PURE__ */ h$3(\"span\", {\n    className: cls(\"grid-cell-date\"),\n    style: gridCellDateStyle\n  }, /* @__PURE__ */ h$3(Template, {\n    template: monthGridTemplate,\n    param: templateParam\n  })), exceedCount ? /* @__PURE__ */ h$3(MoreEventsButton, {\n    type,\n    number: exceedCount,\n    onClickButton: onClickExceedCount,\n    className: cls(\"grid-cell-more-events\")\n  }) : null);\n}\nfunction getSeeMorePopupSize({\n  grid,\n  offsetWidth,\n  eventLength,\n  layerSize\n}) {\n  const minHeight = getSize(grid).height + MONTH_MORE_VIEW_PADDING * 2;\n  let width = offsetWidth + MONTH_MORE_VIEW_PADDING * 2;\n  const { width: moreViewWidth, height: moreViewHeight } = layerSize;\n  const MAX_DISPLAY_EVENT_COUNT = 10;\n  width = Math.max(width, MONTH_MORE_VIEW_MIN_WIDTH);\n  let height = MONTH_MORE_VIEW_HEADER_HEIGHT + MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM + MONTH_MORE_VIEW_PADDING;\n  const eventHeight = MONTH_EVENT_HEIGHT + MONTH_EVENT_MARGIN_TOP;\n  if (eventLength <= MAX_DISPLAY_EVENT_COUNT) {\n    height += eventHeight * eventLength;\n  } else {\n    height += eventHeight * MAX_DISPLAY_EVENT_COUNT;\n  }\n  if (moreViewWidth) {\n    width = moreViewWidth;\n  }\n  if (moreViewHeight) {\n    height = moreViewHeight;\n  }\n  if (isNaN(height) || height < minHeight) {\n    height = minHeight;\n  }\n  return { width, height };\n}\nfunction getSeeMorePopupPosition(popupSize, appContainerSize, cellRect) {\n  const {\n    width: containerWidth,\n    height: containerHeight,\n    left: containerLeft,\n    top: containerTop\n  } = appContainerSize;\n  const { width: popupWidth, height: popupHeight } = popupSize;\n  const containerRight = containerLeft + containerWidth;\n  const containerBottom = containerTop + containerHeight;\n  let left = cellRect.left + cellRect.width / 2 - popupWidth / 2;\n  let { top } = cellRect;\n  const isLeftOutOfContainer = left < containerLeft;\n  const isRightOutOfContainer = left + popupWidth > containerRight;\n  const isUpperOutOfContainer = top < containerTop;\n  const isLowerOutOfContainer = top + popupHeight > containerBottom;\n  if (isLeftOutOfContainer) {\n    left = containerLeft;\n  }\n  if (isRightOutOfContainer) {\n    left = containerRight - popupWidth;\n  }\n  if (isUpperOutOfContainer) {\n    top = containerTop;\n  }\n  if (isLowerOutOfContainer) {\n    top = containerBottom - popupHeight;\n  }\n  return { top: top + window.scrollY, left: left + window.scrollX };\n}\nfunction getSeeMorePopupRect({\n  layoutContainer,\n  cell,\n  popupSize\n}) {\n  const containerRect = layoutContainer.getBoundingClientRect();\n  const cellRect = cell.getBoundingClientRect();\n  const popupPosition = getSeeMorePopupPosition(popupSize, containerRect, cellRect);\n  return __spreadValues(__spreadValues({}, popupSize), popupPosition);\n}\nfunction usePopupPosition(eventLength, parentContainer, layoutContainer) {\n  const { width: moreViewWidth, height: moreViewHeight } = useTheme(monthMoreViewSelector);\n  const [container, containerRefCallback] = useDOMNode();\n  const [popupPosition, setPopupPosition] = y$1(null);\n  _$2(() => {\n    if (layoutContainer && parentContainer && container) {\n      const popupSize = getSeeMorePopupSize({\n        grid: parentContainer,\n        offsetWidth: container.offsetWidth,\n        eventLength,\n        layerSize: {\n          width: moreViewWidth,\n          height: moreViewHeight\n        }\n      });\n      const rect = getSeeMorePopupRect({\n        cell: container,\n        layoutContainer,\n        popupSize\n      });\n      setPopupPosition(rect);\n    }\n  }, [layoutContainer, container, eventLength, parentContainer, moreViewWidth, moreViewHeight]);\n  return { popupPosition, containerRefCallback };\n}\nfunction weekendBackgroundColorSelector(theme) {\n  return theme.month.weekend.backgroundColor;\n}\nfunction GridCell({ date: date2, events = [], style, parentContainer, contentAreaHeight }) {\n  const layoutContainer = useLayoutContainer();\n  const { showSeeMorePopup } = useDispatch(\"popup\");\n  const backgroundColor = useTheme(weekendBackgroundColorSelector);\n  const { popupPosition, containerRefCallback } = usePopupPosition(events.length, parentContainer, layoutContainer);\n  const onOpenSeeMorePopup = T$1(() => {\n    if (popupPosition) {\n      showSeeMorePopup({\n        date: date2,\n        popupPosition,\n        events\n      });\n    }\n  }, [date2, events, popupPosition, showSeeMorePopup]);\n  const exceedCount = getExceedCount(events, contentAreaHeight, MONTH_EVENT_HEIGHT + MONTH_EVENT_MARGIN_TOP);\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"daygrid-cell\"),\n    style: __spreadProps(__spreadValues({}, style), { backgroundColor: isWeekend(date2.getDay()) ? backgroundColor : \"inherit\" }),\n    ref: containerRefCallback\n  }, /* @__PURE__ */ h$3(CellHeader, {\n    type: CellBarType.header,\n    exceedCount,\n    date: date2,\n    onClickExceedCount: onOpenSeeMorePopup\n  }), /* @__PURE__ */ h$3(CellHeader, {\n    type: CellBarType.footer,\n    exceedCount,\n    date: date2,\n    onClickExceedCount: onOpenSeeMorePopup\n  }));\n}\nconst GridRow = g$1(function GridRow2({\n  week,\n  rowInfo,\n  gridDateEventModelMap = {},\n  contentAreaHeight\n}) {\n  const [container, containerRefCallback] = useDOMNode();\n  const border = useTheme(T$1((theme) => theme.common.border, []));\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"weekday-grid\"),\n    style: { borderTop: border },\n    ref: containerRefCallback\n  }, week.map((date2, columnIndex) => {\n    const dayIndex = date2.getDay();\n    const { width, left } = rowInfo[columnIndex];\n    const ymd = toFormat(toStartOfDay(date2), \"YYYYMMDD\");\n    return /* @__PURE__ */ h$3(GridCell, {\n      key: `daygrid-cell-${dayIndex}`,\n      date: date2,\n      style: {\n        width: toPercent(width),\n        left: toPercent(left)\n      },\n      parentContainer: container,\n      events: gridDateEventModelMap[ymd],\n      contentAreaHeight\n    });\n  }));\n});\nfunction GridSelectionByRow({ weekDates, narrowWeekend, rowIndex }) {\n  const gridSelectionDataByRow = useStore(T$1((state) => dayGridMonthSelectionHelper.calculateSelection(state.gridSelection.dayGridMonth, rowIndex, weekDates.length), [rowIndex, weekDates.length]));\n  if (isNil(gridSelectionDataByRow)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(GridSelection$1, {\n    type: \"month\",\n    gridSelectionData: gridSelectionDataByRow,\n    weekDates,\n    narrowWeekend\n  });\n}\nconst MonthEvents = g$1(function MonthEvents2({\n  contentAreaHeight,\n  eventHeight = EVENT_HEIGHT,\n  events,\n  name,\n  className: className2\n}) {\n  const { headerHeight } = useTheme(monthGridCellSelector);\n  const dayEvents = events.filter(isWithinHeight(contentAreaHeight, eventHeight + MONTH_EVENT_MARGIN_TOP)).map((uiModel) => /* @__PURE__ */ h$3(HorizontalEvent, {\n    key: `${name}-DayEvent-${uiModel.cid()}`,\n    uiModel,\n    eventHeight,\n    headerHeight: headerHeight != null ? headerHeight : MONTH_CELL_BAR_HEIGHT\n  }));\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: className2\n  }, dayEvents);\n});\nfunction useDayGridMonthEventMove({\n  dateMatrix,\n  rowInfo,\n  gridPositionFinder,\n  rowIndex\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: movingEvent,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"move\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const movingEventUIModel = F$2(() => {\n    var _a, _b;\n    let shadowEventUIModel = null;\n    if (movingEvent && (currentGridPos == null ? void 0 : currentGridPos.rowIndex) === rowIndex) {\n      shadowEventUIModel = movingEvent;\n      shadowEventUIModel.left = rowInfo[(_a = currentGridPos == null ? void 0 : currentGridPos.columnIndex) != null ? _a : 0].left;\n      shadowEventUIModel.width = rowInfo[(_b = currentGridPos == null ? void 0 : currentGridPos.columnIndex) != null ? _b : 0].width;\n    }\n    return shadowEventUIModel;\n  }, [movingEvent, currentGridPos == null ? void 0 : currentGridPos.rowIndex, currentGridPos == null ? void 0 : currentGridPos.columnIndex, rowIndex, rowInfo]);\n  useWhen(() => {\n    const shouldUpdate = !isDraggingCanceled && isPresent(movingEventUIModel) && isPresent(currentGridPos);\n    if (shouldUpdate) {\n      const preStartDate = movingEventUIModel.model.getStarts();\n      const eventDuration = movingEventUIModel.duration();\n      const currentDate = dateMatrix[currentGridPos.rowIndex][currentGridPos.columnIndex];\n      const timeOffsetPerDay = getDateDifference(currentDate, preStartDate) * MS_PER_DAY;\n      const newStartDate = new TZDate(preStartDate.getTime() + timeOffsetPerDay);\n      const newEndDate = new TZDate(newStartDate.getTime() + eventDuration);\n      eventBus.fire(\"beforeUpdateEvent\", {\n        event: movingEventUIModel.model.toEventObject(),\n        changes: {\n          start: newStartDate,\n          end: newEndDate\n        }\n      });\n    }\n    clearDraggingEvent();\n    clearCurrentGridPos();\n  }, isDraggingEnd);\n  return movingEventUIModel;\n}\nfunction MovingEventShadow({ dateMatrix, gridPositionFinder, rowInfo, rowIndex }) {\n  const movingEvent = useDayGridMonthEventMove({\n    dateMatrix,\n    rowInfo,\n    gridPositionFinder,\n    rowIndex\n  });\n  if (isNil(movingEvent)) {\n    return null;\n  }\n  return /* @__PURE__ */ h$3(HorizontalEvent, {\n    uiModel: movingEvent,\n    movingLeft: movingEvent.left,\n    eventHeight: EVENT_HEIGHT,\n    headerHeight: MONTH_CELL_PADDING_TOP + MONTH_CELL_BAR_HEIGHT\n  });\n}\nfunction getRowPosOfUIModel(uiModel, dateRow) {\n  const startColumnIndex = Math.max(getGridDateIndex(uiModel.getStarts(), dateRow), 0);\n  const endColumnIndex = getGridDateIndex(uiModel.getEnds(), dateRow);\n  return {\n    startColumnIndex,\n    endColumnIndex\n  };\n}\nfunction useDayGridMonthEventResize({\n  dateMatrix,\n  gridPositionFinder,\n  renderedUIModels,\n  cellWidthMap,\n  rowIndex\n}) {\n  const eventBus = useEventBus();\n  const {\n    isDraggingEnd,\n    isDraggingCanceled,\n    draggingEvent: resizingStartUIModel,\n    clearDraggingEvent\n  } = useDraggingEvent(\"dayGrid\", \"resize\");\n  const [currentGridPos, clearCurrentGridPos] = useCurrentPointerPositionInGrid(gridPositionFinder);\n  const [guideProps, setGuideProps] = y$1(null);\n  const clearStates = T$1(() => {\n    setGuideProps(null);\n    clearCurrentGridPos();\n    clearDraggingEvent();\n  }, [clearCurrentGridPos, clearDraggingEvent]);\n  const baseResizingInfo = F$2(() => {\n    if (isNil(resizingStartUIModel)) {\n      return null;\n    }\n    const resizeTargetUIModelRows = renderedUIModels.map(({ uiModels }) => uiModels.filter((uiModel) => uiModel.cid() === resizingStartUIModel.cid()));\n    const eventStartDateRowIndex = resizeTargetUIModelRows.findIndex((row) => row.length > 0);\n    const eventEndDateRowIndex = findLastIndex(resizeTargetUIModelRows, (row) => row.length > 0);\n    const eventStartUIModelPos = getRowPosOfUIModel(resizeTargetUIModelRows[eventStartDateRowIndex][0], dateMatrix[eventStartDateRowIndex]);\n    const eventEndUIModelPos = getRowPosOfUIModel(resizeTargetUIModelRows[eventEndDateRowIndex][0], dateMatrix[eventEndDateRowIndex]);\n    return {\n      eventStartDateColumnIndex: eventStartUIModelPos.startColumnIndex,\n      eventStartDateRowIndex,\n      eventEndDateColumnIndex: eventEndUIModelPos.endColumnIndex,\n      eventEndDateRowIndex,\n      resizeTargetUIModelRows\n    };\n  }, [dateMatrix, renderedUIModels, resizingStartUIModel]);\n  const canCalculateProps = isPresent(baseResizingInfo) && isPresent(resizingStartUIModel) && isPresent(currentGridPos);\n  _$2(() => {\n    if (canCalculateProps && rowIndex === baseResizingInfo.eventStartDateRowIndex) {\n      const { eventStartDateRowIndex, eventStartDateColumnIndex } = baseResizingInfo;\n      const clonedUIModel = baseResizingInfo.resizeTargetUIModelRows[eventStartDateRowIndex][0].clone();\n      let height;\n      if (eventStartDateRowIndex === currentGridPos.rowIndex) {\n        height = cellWidthMap[eventStartDateColumnIndex][Math.max(eventStartDateColumnIndex, currentGridPos.columnIndex)];\n      } else if (eventStartDateRowIndex > currentGridPos.rowIndex) {\n        height = cellWidthMap[eventStartDateColumnIndex][eventStartDateColumnIndex];\n      } else {\n        height = cellWidthMap[eventStartDateColumnIndex][dateMatrix[rowIndex].length - 1];\n        clonedUIModel.setUIProps({ exceedRight: true });\n      }\n      setGuideProps([clonedUIModel, height]);\n    }\n  }, [baseResizingInfo, canCalculateProps, cellWidthMap, currentGridPos, dateMatrix, rowIndex]);\n  _$2(() => {\n    if (canCalculateProps && baseResizingInfo.eventStartDateRowIndex < rowIndex && rowIndex < currentGridPos.rowIndex) {\n      const clonedUIModel = resizingStartUIModel.clone();\n      clonedUIModel.setUIProps({ left: 0, exceedLeft: true, exceedRight: true });\n      setGuideProps([clonedUIModel, \"100%\"]);\n    }\n  }, [baseResizingInfo, canCalculateProps, currentGridPos, resizingStartUIModel, rowIndex]);\n  _$2(() => {\n    if (canCalculateProps && baseResizingInfo.eventStartDateRowIndex < currentGridPos.rowIndex && rowIndex === currentGridPos.rowIndex) {\n      const clonedUIModel = resizingStartUIModel.clone();\n      clonedUIModel.setUIProps({ left: 0, exceedLeft: true });\n      setGuideProps([clonedUIModel, cellWidthMap[0][currentGridPos.columnIndex]]);\n    }\n  }, [\n    baseResizingInfo,\n    canCalculateProps,\n    cellWidthMap,\n    currentGridPos,\n    resizingStartUIModel,\n    rowIndex\n  ]);\n  _$2(() => {\n    if (canCalculateProps && rowIndex > baseResizingInfo.eventStartDateRowIndex && rowIndex > currentGridPos.rowIndex) {\n      setGuideProps(null);\n    }\n  }, [canCalculateProps, currentGridPos, baseResizingInfo, rowIndex]);\n  useWhen(() => {\n    if (canCalculateProps) {\n      const { eventStartDateColumnIndex, eventStartDateRowIndex } = baseResizingInfo;\n      const shouldUpdate = !isDraggingCanceled && (currentGridPos.rowIndex === eventStartDateRowIndex && currentGridPos.columnIndex >= eventStartDateColumnIndex || currentGridPos.rowIndex > eventStartDateRowIndex);\n      if (shouldUpdate) {\n        const targetEndDate = dateMatrix[currentGridPos.rowIndex][currentGridPos.columnIndex];\n        eventBus.fire(\"beforeUpdateEvent\", {\n          event: resizingStartUIModel.model.toEventObject(),\n          changes: {\n            end: targetEndDate\n          }\n        });\n      }\n    }\n    clearStates();\n  }, isDraggingEnd);\n  return guideProps;\n}\nfunction ResizingGuideByRow({\n  dateMatrix,\n  cellWidthMap,\n  gridPositionFinder,\n  renderedUIModels,\n  rowIndex\n}) {\n  const resizingGuideProps = useDayGridMonthEventResize({\n    dateMatrix,\n    gridPositionFinder,\n    cellWidthMap,\n    renderedUIModels,\n    rowIndex\n  });\n  if (isNil(resizingGuideProps)) {\n    return null;\n  }\n  const [uiModel, resizingWidth] = resizingGuideProps;\n  return /* @__PURE__ */ h$3(\"div\", {\n    className: cls(\"weekday-events\")\n  }, /* @__PURE__ */ h$3(HorizontalEvent, {\n    key: `resizing-event-${uiModel.cid()}`,\n    uiModel,\n    eventHeight: MONTH_EVENT_HEIGHT,\n    headerHeight: MONTH_CELL_PADDING_TOP + MONTH_CELL_BAR_HEIGHT,\n    resizingWidth\n  }));\n}\nconst TOTAL_PERCENT_HEIGHT = 100;\nfunction useCellContentAreaHeight(eventHeight) {\n  const visibleEventCount = useStore(monthVisibleEventCountSelector);\n  const { headerHeight: themeHeaderHeight, footerHeight: themeFooterHeight } = useTheme(monthGridCellSelector);\n  const ref = s$2(null);\n  const [cellContentAreaHeight, setCellContentAreaHeight] = y$1(0);\n  _$2(() => {\n    if (ref.current) {\n      const rowHeight = getSize(ref.current).height;\n      const headerHeight = MONTH_CELL_PADDING_TOP + (themeHeaderHeight != null ? themeHeaderHeight : MONTH_CELL_BAR_HEIGHT);\n      const footerHeight = themeFooterHeight != null ? themeFooterHeight : 0;\n      const baseContentAreaHeight = rowHeight - headerHeight - footerHeight;\n      const visibleEventCountHeight = visibleEventCount * (eventHeight + MONTH_EVENT_MARGIN_TOP);\n      setCellContentAreaHeight(Math.min(baseContentAreaHeight, visibleEventCountHeight));\n    }\n  }, [themeFooterHeight, themeHeaderHeight, eventHeight, visibleEventCount]);\n  return { ref, cellContentAreaHeight };\n}\nfunction DayGridMonth({ dateMatrix = [], rowInfo = [], cellWidthMap = [] }) {\n  const [gridContainer, setGridContainerRef] = useDOMNode();\n  const calendar = useStore(calendarSelector);\n  const { ref, cellContentAreaHeight } = useCellContentAreaHeight(MONTH_EVENT_HEIGHT);\n  const { eventFilter, month: monthOptions, isReadOnly } = useStore(optionsSelector);\n  const { narrowWeekend, startDayOfWeek } = monthOptions;\n  const rowHeight = TOTAL_PERCENT_HEIGHT / dateMatrix.length;\n  const gridPositionFinder = F$2(() => createGridPositionFinder({\n    container: gridContainer,\n    rowsCount: dateMatrix.length,\n    columnsCount: dateMatrix[0].length,\n    narrowWeekend,\n    startDayOfWeek\n  }), [dateMatrix, gridContainer, narrowWeekend, startDayOfWeek]);\n  const calendarData = useCalendarData(calendar, eventFilter);\n  const renderedEventUIModels = F$2(() => dateMatrix.map((week) => getRenderedEventUIModels(week, calendarData, narrowWeekend)), [calendarData, dateMatrix, narrowWeekend]);\n  const onMouseDown = useGridSelection({\n    type: \"dayGridMonth\",\n    gridPositionFinder,\n    dateCollection: dateMatrix,\n    dateGetter: dayGridMonthSelectionHelper.getDateFromCollection,\n    selectionSorter: dayGridMonthSelectionHelper.sortSelection\n  });\n  return /* @__PURE__ */ h$3(\"div\", {\n    ref: setGridContainerRef,\n    onMouseDown: passConditionalProp(!isReadOnly, onMouseDown),\n    className: cls(\"month-daygrid\")\n  }, dateMatrix.map((week, rowIndex) => {\n    const { uiModels, gridDateEventModelMap } = renderedEventUIModels[rowIndex];\n    return /* @__PURE__ */ h$3(\"div\", {\n      key: `dayGrid-events-${rowIndex}`,\n      className: cls(\"month-week-item\"),\n      style: { height: toPercent(rowHeight) },\n      ref\n    }, /* @__PURE__ */ h$3(\"div\", {\n      className: cls(\"weekday\")\n    }, /* @__PURE__ */ h$3(GridRow, {\n      gridDateEventModelMap,\n      week,\n      rowInfo,\n      contentAreaHeight: cellContentAreaHeight\n    }), /* @__PURE__ */ h$3(MonthEvents, {\n      name: \"month\",\n      events: uiModels,\n      contentAreaHeight: cellContentAreaHeight,\n      eventHeight: MONTH_EVENT_HEIGHT,\n      className: cls(\"weekday-events\")\n    }), /* @__PURE__ */ h$3(GridSelectionByRow, {\n      weekDates: week,\n      narrowWeekend,\n      rowIndex\n    }), /* @__PURE__ */ h$3(AccumulatedGridSelection, {\n      rowIndex,\n      weekDates: week,\n      narrowWeekend\n    })), /* @__PURE__ */ h$3(ResizingGuideByRow, {\n      dateMatrix,\n      gridPositionFinder,\n      rowIndex,\n      cellWidthMap,\n      renderedUIModels: renderedEventUIModels\n    }), /* @__PURE__ */ h$3(MovingEventShadow, {\n      dateMatrix,\n      gridPositionFinder,\n      rowIndex,\n      rowInfo\n    }));\n  }));\n}\nfunction getMonthDayNames(options) {\n  const { dayNames, startDayOfWeek, workweek } = options.month;\n  const dayIndices = [...Array(7)].map((_2, i2) => (startDayOfWeek + i2) % 7);\n  const monthDayNames = dayIndices.map((i2) => ({\n    day: i2,\n    label: capitalize(dayNames[i2])\n  }));\n  return monthDayNames.filter((dayNameInfo) => workweek ? !isWeekend(dayNameInfo.day) : true);\n}\nfunction Month$1() {\n  const options = useStore(optionsSelector);\n  const { renderDate } = useStore(viewSelector);\n  const dayNames = getMonthDayNames(options);\n  const monthOptions = options.month;\n  const { narrowWeekend, startDayOfWeek, workweek } = monthOptions;\n  const dateMatrix = F$2(() => createDateMatrixOfMonth(renderDate, monthOptions), [monthOptions, renderDate]);\n  const { rowStyleInfo, cellWidthMap } = F$2(() => getRowStyleInfo(dayNames.length, narrowWeekend, startDayOfWeek, workweek), [dayNames.length, narrowWeekend, startDayOfWeek, workweek]);\n  const rowInfo = rowStyleInfo.map((cellStyleInfo, index) => __spreadProps(__spreadValues({}, cellStyleInfo), {\n    date: dateMatrix[0][index]\n  }));\n  return /* @__PURE__ */ h$3(Layout, {\n    className: cls(\"month\")\n  }, /* @__PURE__ */ h$3(GridHeader, {\n    type: \"month\",\n    dayNames,\n    options: monthOptions,\n    rowStyleInfo\n  }), /* @__PURE__ */ h$3(DayGridMonth, {\n    dateMatrix,\n    rowInfo,\n    cellWidthMap\n  }));\n}\nfunction useWeekViewState() {\n  const options = useStore(optionsSelector);\n  const calendar = useStore(calendarSelector);\n  const { dayGridRows: gridRowLayout, lastPanelType } = useStore(weekViewLayoutSelector);\n  const { renderDate } = useStore(viewSelector);\n  return F$2(() => ({\n    options,\n    calendar,\n    gridRowLayout,\n    lastPanelType,\n    renderDate\n  }), [calendar, gridRowLayout, lastPanelType, options, renderDate]);\n}\nfunction Week$1() {\n  var _a, _b;\n  const { options, calendar, gridRowLayout, lastPanelType, renderDate } = useWeekViewState();\n  const gridHeaderMarginLeft = useTheme(T$1((theme) => theme.week.dayGridLeft.width, []));\n  const primaryTimezoneName = useStore(primaryTimezoneSelector);\n  const [timePanel, setTimePanelRef] = useDOMNode();\n  const weekOptions = options.week;\n  const { narrowWeekend, startDayOfWeek, workweek, hourStart, hourEnd, eventView, taskView } = weekOptions;\n  const weekDates = F$2(() => getWeekDates(renderDate, weekOptions), [renderDate, weekOptions]);\n  const dayNames = getDayNames(weekDates, (_b = (_a = options.week) == null ? void 0 : _a.dayNames) != null ? _b : []);\n  const { rowStyleInfo, cellWidthMap } = getRowStyleInfo(weekDates.length, narrowWeekend, startDayOfWeek, workweek);\n  const calendarData = useCalendarData(calendar, options.eventFilter);\n  const eventByPanel = F$2(() => {\n    const getFilterRange = () => {\n      if (primaryTimezoneName === \"Local\") {\n        return [toStartOfDay(first(weekDates)), toEndOfDay(last(weekDates))];\n      }\n      return [toStartOfDay(addDate(first(weekDates), -1)), toEndOfDay(addDate(last(weekDates), 1))];\n    };\n    const [weekStartDate, weekEndDate] = getFilterRange();\n    return getWeekViewEvents(weekDates, calendarData, {\n      narrowWeekend,\n      hourStart,\n      hourEnd,\n      weekStartDate,\n      weekEndDate\n    });\n  }, [calendarData, hourEnd, hourStart, narrowWeekend, primaryTimezoneName, weekDates]);\n  const timeGridData = F$2(() => createTimeGridData(weekDates, {\n    hourStart,\n    hourEnd,\n    narrowWeekend\n  }), [hourEnd, hourStart, narrowWeekend, weekDates]);\n  const activePanels = getActivePanels(taskView, eventView);\n  const dayGridRows = activePanels.map((key) => {\n    var _a2, _b2;\n    if (key === \"time\") {\n      return null;\n    }\n    const rowType = key;\n    return /* @__PURE__ */ h$3(Panel, {\n      name: rowType,\n      key: rowType,\n      resizable: rowType !== lastPanelType\n    }, rowType === \"allday\" ? /* @__PURE__ */ h$3(AlldayGridRow, {\n      events: eventByPanel[rowType],\n      rowStyleInfo,\n      gridColWidthMap: cellWidthMap,\n      weekDates,\n      height: (_a2 = gridRowLayout[rowType]) == null ? void 0 : _a2.height,\n      options: weekOptions\n    }) : /* @__PURE__ */ h$3(OtherGridRow, {\n      category: rowType,\n      events: eventByPanel[rowType],\n      weekDates,\n      height: (_b2 = gridRowLayout[rowType]) == null ? void 0 : _b2.height,\n      options: weekOptions,\n      gridColWidthMap: cellWidthMap\n    }));\n  });\n  const hasTimePanel = F$2(() => activePanels.includes(\"time\"), [activePanels]);\n  useTimeGridScrollSync(timePanel, timeGridData.rows.length);\n  const stickyTop = useTimezoneLabelsTop(timePanel);\n  return /* @__PURE__ */ h$3(Layout, {\n    className: cls(\"week-view\"),\n    autoAdjustPanels: true\n  }, /* @__PURE__ */ h$3(Panel, {\n    name: \"week-view-day-names\",\n    initialHeight: WEEK_DAY_NAME_HEIGHT + WEEK_DAY_NAME_BORDER * 2\n  }, /* @__PURE__ */ h$3(GridHeader, {\n    type: \"week\",\n    dayNames,\n    marginLeft: gridHeaderMarginLeft,\n    options: weekOptions,\n    rowStyleInfo\n  })), dayGridRows, hasTimePanel ? /* @__PURE__ */ h$3(Panel, {\n    name: \"time\",\n    autoSize: 1,\n    ref: setTimePanelRef\n  }, /* @__PURE__ */ h$3(TimeGrid, {\n    events: eventByPanel.time,\n    timeGridData\n  }), /* @__PURE__ */ h$3(TimezoneLabels, {\n    top: stickyTop\n  })) : null);\n}\nconst views = {\n  month: Month$1,\n  week: Week$1,\n  day: Day$1\n};\nfunction Main() {\n  const { currentView } = useStore(viewSelector);\n  const CurrentViewComponent = F$2(() => views[currentView] || (() => null), [currentView]);\n  return /* @__PURE__ */ h$3(CurrentViewComponent, null);\n}\nvar r = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i, n = /[&<>\"]/;\nfunction o(e2) {\n  var t2 = String(e2);\n  return n.test(t2) ? t2.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\") : t2;\n}\nvar a = function(e2, t2) {\n  return String(e2).replace(/(\\n+)/g, \"$1\" + (t2 || \"\t\"));\n}, i = function(e2, t2, r2) {\n  return String(e2).length > (t2 || 40) || !r2 && String(e2).indexOf(\"\\n\") !== -1 || String(e2).indexOf(\"<\") !== -1;\n}, l = {};\nfunction s(e2) {\n  var t2 = \"\";\n  for (var n2 in e2) {\n    var o2 = e2[n2];\n    o2 != null && o2 !== \"\" && (t2 && (t2 += \" \"), t2 += n2[0] == \"-\" ? n2 : l[n2] || (l[n2] = n2.replace(/([A-Z])/g, \"-$1\").toLowerCase()), t2 += \": \", t2 += o2, typeof o2 == \"number\" && r.test(n2) === false && (t2 += \"px\"), t2 += \";\");\n  }\n  return t2 || void 0;\n}\nfunction f(e2, t2) {\n  for (var r2 in t2)\n    e2[r2] = t2[r2];\n  return e2;\n}\nfunction u(e2, t2) {\n  return Array.isArray(t2) ? t2.reduce(u, e2) : t2 != null && t2 !== false && e2.push(t2), e2;\n}\nvar c = { shallow: true }, p = [], _ = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/, d = /[\\s\\n\\\\/='\"\\0<>]/;\nfunction v() {\n  this.__d = true;\n}\nm.render = m;\nvar g = function(e2, t2) {\n  return m(e2, t2, c);\n}, h = [];\nfunction m(t2, r2, n2) {\n  r2 = r2 || {}, n2 = n2 || {};\n  var o2 = l$3.__s;\n  l$3.__s = true;\n  var a2 = x(t2, r2, n2);\n  return l$3.__c && l$3.__c(t2, h), h.length = 0, l$3.__s = o2, a2;\n}\nfunction x(r2, n2, l2, c2, g2, h2) {\n  if (r2 == null || typeof r2 == \"boolean\")\n    return \"\";\n  if (typeof r2 != \"object\")\n    return o(r2);\n  var m2 = l2.pretty, y2 = m2 && typeof m2 == \"string\" ? m2 : \"\t\";\n  if (Array.isArray(r2)) {\n    for (var b2 = \"\", S2 = 0; S2 < r2.length; S2++)\n      m2 && S2 > 0 && (b2 += \"\\n\"), b2 += x(r2[S2], n2, l2, c2, g2, h2);\n    return b2;\n  }\n  var k2, w2 = r2.type, O2 = r2.props, C2 = false;\n  if (typeof w2 == \"function\") {\n    if (C2 = true, !l2.shallow || !c2 && l2.renderRootComponent !== false) {\n      if (w2 === p$3) {\n        var A2 = [];\n        return u(A2, r2.props.children), x(A2, n2, l2, l2.shallowHighOrder !== false, g2, h2);\n      }\n      var H2, j2 = r2.__c = { __v: r2, context: n2, props: r2.props, setState: v, forceUpdate: v, __d: true, __h: [] };\n      l$3.__b && l$3.__b(r2);\n      var F2 = l$3.__r;\n      if (w2.prototype && typeof w2.prototype.render == \"function\") {\n        var M2 = w2.contextType, T2 = M2 && n2[M2.__c], $2 = M2 != null ? T2 ? T2.props.value : M2.__ : n2;\n        (j2 = r2.__c = new w2(O2, $2)).__v = r2, j2._dirty = j2.__d = true, j2.props = O2, j2.state == null && (j2.state = {}), j2._nextState == null && j2.__s == null && (j2._nextState = j2.__s = j2.state), j2.context = $2, w2.getDerivedStateFromProps ? j2.state = f(f({}, j2.state), w2.getDerivedStateFromProps(j2.props, j2.state)) : j2.componentWillMount && (j2.componentWillMount(), j2.state = j2._nextState !== j2.state ? j2._nextState : j2.__s !== j2.state ? j2.__s : j2.state), F2 && F2(r2), H2 = j2.render(j2.props, j2.state, j2.context);\n      } else\n        for (var L2 = w2.contextType, E2 = L2 && n2[L2.__c], D2 = L2 != null ? E2 ? E2.props.value : L2.__ : n2, N2 = 0; j2.__d && N2++ < 25; )\n          j2.__d = false, F2 && F2(r2), H2 = w2.call(r2.__c, O2, D2);\n      return j2.getChildContext && (n2 = f(f({}, n2), j2.getChildContext())), l$3.diffed && l$3.diffed(r2), x(H2, n2, l2, l2.shallowHighOrder !== false, g2, h2);\n    }\n    w2 = (k2 = w2).displayName || k2 !== Function && k2.name || function(e2) {\n      var t2 = (Function.prototype.toString.call(e2).match(/^\\s*function\\s+([^( ]+)/) || \"\")[1];\n      if (!t2) {\n        for (var r3 = -1, n3 = p.length; n3--; )\n          if (p[n3] === e2) {\n            r3 = n3;\n            break;\n          }\n        r3 < 0 && (r3 = p.push(e2) - 1), t2 = \"UnnamedComponent\" + r3;\n      }\n      return t2;\n    }(k2);\n  }\n  var P2, R2, U2 = \"<\" + w2;\n  if (O2) {\n    var W2 = Object.keys(O2);\n    l2 && l2.sortAttributes === true && W2.sort();\n    for (var q2 = 0; q2 < W2.length; q2++) {\n      var z2 = W2[q2], I2 = O2[z2];\n      if (z2 !== \"children\") {\n        if (!d.test(z2) && (l2 && l2.allAttributes || z2 !== \"key\" && z2 !== \"ref\" && z2 !== \"__self\" && z2 !== \"__source\")) {\n          if (z2 === \"defaultValue\")\n            z2 = \"value\";\n          else if (z2 === \"defaultChecked\")\n            z2 = \"checked\";\n          else if (z2 === \"defaultSelected\")\n            z2 = \"selected\";\n          else if (z2 === \"className\") {\n            if (O2.class !== void 0)\n              continue;\n            z2 = \"class\";\n          } else\n            g2 && /^xlink:?./.test(z2) && (z2 = z2.toLowerCase().replace(/^xlink:?/, \"xlink:\"));\n          if (z2 === \"htmlFor\") {\n            if (O2.for)\n              continue;\n            z2 = \"for\";\n          }\n          z2 === \"style\" && I2 && typeof I2 == \"object\" && (I2 = s(I2)), z2[0] === \"a\" && z2[1] === \"r\" && typeof I2 == \"boolean\" && (I2 = String(I2));\n          var V2 = l2.attributeHook && l2.attributeHook(z2, I2, n2, l2, C2);\n          if (V2 || V2 === \"\")\n            U2 += V2;\n          else if (z2 === \"dangerouslySetInnerHTML\")\n            R2 = I2 && I2.__html;\n          else if (w2 === \"textarea\" && z2 === \"value\")\n            P2 = I2;\n          else if ((I2 || I2 === 0 || I2 === \"\") && typeof I2 != \"function\") {\n            if (!(I2 !== true && I2 !== \"\" || (I2 = z2, l2 && l2.xml))) {\n              U2 = U2 + \" \" + z2;\n              continue;\n            }\n            if (z2 === \"value\") {\n              if (w2 === \"select\") {\n                h2 = I2;\n                continue;\n              }\n              w2 === \"option\" && h2 == I2 && O2.selected === void 0 && (U2 += \" selected\");\n            }\n            U2 = U2 + \" \" + z2 + '=\"' + o(I2) + '\"';\n          }\n        }\n      } else\n        P2 = I2;\n    }\n  }\n  if (m2) {\n    var Z2 = U2.replace(/\\n\\s*/, \" \");\n    Z2 === U2 || ~Z2.indexOf(\"\\n\") ? m2 && ~U2.indexOf(\"\\n\") && (U2 += \"\\n\") : U2 = Z2;\n  }\n  if (U2 += \">\", d.test(w2))\n    throw new Error(w2 + \" is not a valid HTML tag name in \" + U2);\n  var B2, G2 = _.test(w2) || l2.voidElements && l2.voidElements.test(w2), J2 = [];\n  if (R2)\n    m2 && i(R2) && (R2 = \"\\n\" + y2 + a(R2, y2)), U2 += R2;\n  else if (P2 != null && u(B2 = [], P2).length) {\n    for (var K2 = m2 && ~U2.indexOf(\"\\n\"), Q2 = false, X2 = 0; X2 < B2.length; X2++) {\n      var Y2 = B2[X2];\n      if (Y2 != null && Y2 !== false) {\n        var ee = x(Y2, n2, l2, true, w2 === \"svg\" || w2 !== \"foreignObject\" && g2, h2);\n        if (m2 && !K2 && i(ee) && (K2 = true), ee)\n          if (m2) {\n            var te = ee.length > 0 && ee[0] != \"<\";\n            Q2 && te ? J2[J2.length - 1] += ee : J2.push(ee), Q2 = te;\n          } else\n            J2.push(ee);\n      }\n    }\n    if (m2 && K2)\n      for (var re = J2.length; re--; )\n        J2[re] = \"\\n\" + y2 + a(J2[re], y2);\n  }\n  if (J2.length || R2)\n    U2 += J2.join(\"\");\n  else if (l2 && l2.xml)\n    return U2.substring(0, U2.length - 1) + \" />\";\n  return !G2 || B2 || R2 ? (m2 && ~U2.indexOf(\"\\n\") && (U2 += \"\\n\"), U2 = U2 + \"</\" + w2 + \">\") : U2 = U2.replace(/>$/, \" />\"), U2;\n}\nm.shallowRender = g;\nfunction forEachOwnProperties$2(obj, iteratee, context) {\n  var key;\n  context = context || null;\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (iteratee.call(context, obj[key], key, obj) === false) {\n        break;\n      }\n    }\n  }\n}\nvar forEachOwnProperties_1 = forEachOwnProperties$2;\nvar forEachOwnProperties$1 = forEachOwnProperties_1;\nfunction imagePing$1(url, trackingInfo) {\n  var trackingElement = document.createElement(\"img\");\n  var queryString = \"\";\n  forEachOwnProperties$1(trackingInfo, function(value, key) {\n    queryString += \"&\" + key + \"=\" + value;\n  });\n  queryString = queryString.substring(1);\n  trackingElement.src = url + \"?\" + queryString;\n  trackingElement.style.display = \"none\";\n  document.body.appendChild(trackingElement);\n  document.body.removeChild(trackingElement);\n  return trackingElement;\n}\nvar imagePing_1 = imagePing$1;\nvar isUndefined$1 = isUndefined_1;\nvar imagePing = imagePing_1;\nvar ms7days = 7 * 24 * 60 * 60 * 1e3;\nfunction isExpired(date2) {\n  var now = new Date().getTime();\n  return now - date2 > ms7days;\n}\nfunction sendHostname(appName, trackingId) {\n  var url = \"https://www.google-analytics.com/collect\";\n  var hostname = location.hostname;\n  var hitType = \"event\";\n  var eventCategory = \"use\";\n  var applicationKeyForStorage = \"TOAST UI \" + appName + \" for \" + hostname + \": Statistics\";\n  var date2 = window.localStorage.getItem(applicationKeyForStorage);\n  if (!isUndefined$1(window.tui) && window.tui.usageStatistics === false) {\n    return;\n  }\n  if (date2 && !isExpired(date2)) {\n    return;\n  }\n  window.localStorage.setItem(applicationKeyForStorage, new Date().getTime());\n  setTimeout(function() {\n    if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n      imagePing(url, {\n        v: 1,\n        t: hitType,\n        tid: trackingId,\n        cid: hostname,\n        dp: hostname,\n        dh: appName,\n        el: appName,\n        ec: eventCategory\n      });\n    }\n  }, 1e3);\n}\nvar sendHostname_1 = sendHostname;\nfunction CalendarContainer({ theme, store, eventBus, children }) {\n  return /* @__PURE__ */ h$3(EventBusProvider, {\n    value: eventBus\n  }, /* @__PURE__ */ h$3(ThemeProvider, {\n    store: theme\n  }, /* @__PURE__ */ h$3(StoreProvider, {\n    store\n  }, /* @__PURE__ */ h$3(FloatingLayerProvider, null, children))));\n}\nconst GA_TRACKING_ID = \"UA-129951699-1\";\nfunction extend$1(target, objects) {\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n  var source, prop, i2, len;\n  for (i2 = 1, len = arguments.length; i2 < len; i2 += 1) {\n    source = arguments[i2];\n    for (prop in source) {\n      if (hasOwnProp.call(source, prop)) {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nvar extend_1 = extend$1;\nfunction isNull$1(obj) {\n  return obj === null;\n}\nvar isNull_1 = isNull$1;\nvar isUndefined = isUndefined_1;\nvar isNull = isNull_1;\nfunction isExisty$1(param) {\n  return !isUndefined(param) && !isNull(param);\n}\nvar isExisty_1 = isExisty$1;\nfunction isArray$2(obj) {\n  return obj instanceof Array;\n}\nvar isArray_1 = isArray$2;\nfunction isFunction$1(obj) {\n  return obj instanceof Function;\n}\nvar isFunction_1 = isFunction$1;\nfunction forEachArray$1(arr, iteratee, context) {\n  var index = 0;\n  var len = arr.length;\n  context = context || null;\n  for (; index < len; index += 1) {\n    if (iteratee.call(context, arr[index], index, arr) === false) {\n      break;\n    }\n  }\n}\nvar forEachArray_1 = forEachArray$1;\nvar isArray$1 = isArray_1;\nvar forEachArray = forEachArray_1;\nvar forEachOwnProperties = forEachOwnProperties_1;\nfunction forEach$1(obj, iteratee, context) {\n  if (isArray$1(obj)) {\n    forEachArray(obj, iteratee, context);\n  } else {\n    forEachOwnProperties(obj, iteratee, context);\n  }\n}\nvar forEach_1 = forEach$1;\nvar extend = extend_1;\nvar isExisty = isExisty_1;\nvar isString = isString_1;\nvar isObject = isObject_1;\nvar isArray = isArray_1;\nvar isFunction = isFunction_1;\nvar forEach = forEach_1;\nvar R_EVENTNAME_SPLIT = /\\s+/g;\nfunction CustomEvents() {\n  this.events = null;\n  this.contexts = null;\n}\nCustomEvents.mixin = function(func) {\n  extend(func.prototype, CustomEvents.prototype);\n};\nCustomEvents.prototype._getHandlerItem = function(handler, context) {\n  var item = { handler };\n  if (context) {\n    item.context = context;\n  }\n  return item;\n};\nCustomEvents.prototype._safeEvent = function(eventName) {\n  var events = this.events;\n  var byName;\n  if (!events) {\n    events = this.events = {};\n  }\n  if (eventName) {\n    byName = events[eventName];\n    if (!byName) {\n      byName = [];\n      events[eventName] = byName;\n    }\n    events = byName;\n  }\n  return events;\n};\nCustomEvents.prototype._safeContext = function() {\n  var context = this.contexts;\n  if (!context) {\n    context = this.contexts = [];\n  }\n  return context;\n};\nCustomEvents.prototype._indexOfContext = function(ctx) {\n  var context = this._safeContext();\n  var index = 0;\n  while (context[index]) {\n    if (ctx === context[index][0]) {\n      return index;\n    }\n    index += 1;\n  }\n  return -1;\n};\nCustomEvents.prototype._memorizeContext = function(ctx) {\n  var context, index;\n  if (!isExisty(ctx)) {\n    return;\n  }\n  context = this._safeContext();\n  index = this._indexOfContext(ctx);\n  if (index > -1) {\n    context[index][1] += 1;\n  } else {\n    context.push([ctx, 1]);\n  }\n};\nCustomEvents.prototype._forgetContext = function(ctx) {\n  var context, contextIndex;\n  if (!isExisty(ctx)) {\n    return;\n  }\n  context = this._safeContext();\n  contextIndex = this._indexOfContext(ctx);\n  if (contextIndex > -1) {\n    context[contextIndex][1] -= 1;\n    if (context[contextIndex][1] <= 0) {\n      context.splice(contextIndex, 1);\n    }\n  }\n};\nCustomEvents.prototype._bindEvent = function(eventName, handler, context) {\n  var events = this._safeEvent(eventName);\n  this._memorizeContext(context);\n  events.push(this._getHandlerItem(handler, context));\n};\nCustomEvents.prototype.on = function(eventName, handler, context) {\n  var self2 = this;\n  if (isString(eventName)) {\n    eventName = eventName.split(R_EVENTNAME_SPLIT);\n    forEach(eventName, function(name) {\n      self2._bindEvent(name, handler, context);\n    });\n  } else if (isObject(eventName)) {\n    context = handler;\n    forEach(eventName, function(func, name) {\n      self2.on(name, func, context);\n    });\n  }\n};\nCustomEvents.prototype.once = function(eventName, handler, context) {\n  var self2 = this;\n  if (isObject(eventName)) {\n    context = handler;\n    forEach(eventName, function(func, name) {\n      self2.once(name, func, context);\n    });\n    return;\n  }\n  function onceHandler() {\n    handler.apply(context, arguments);\n    self2.off(eventName, onceHandler, context);\n  }\n  this.on(eventName, onceHandler, context);\n};\nCustomEvents.prototype._spliceMatches = function(arr, predicate) {\n  var i2 = 0;\n  var len;\n  if (!isArray(arr)) {\n    return;\n  }\n  for (len = arr.length; i2 < len; i2 += 1) {\n    if (predicate(arr[i2]) === true) {\n      arr.splice(i2, 1);\n      len -= 1;\n      i2 -= 1;\n    }\n  }\n};\nCustomEvents.prototype._matchHandler = function(handler) {\n  var self2 = this;\n  return function(item) {\n    var needRemove = handler === item.handler;\n    if (needRemove) {\n      self2._forgetContext(item.context);\n    }\n    return needRemove;\n  };\n};\nCustomEvents.prototype._matchContext = function(context) {\n  var self2 = this;\n  return function(item) {\n    var needRemove = context === item.context;\n    if (needRemove) {\n      self2._forgetContext(item.context);\n    }\n    return needRemove;\n  };\n};\nCustomEvents.prototype._matchHandlerAndContext = function(handler, context) {\n  var self2 = this;\n  return function(item) {\n    var matchHandler = handler === item.handler;\n    var matchContext = context === item.context;\n    var needRemove = matchHandler && matchContext;\n    if (needRemove) {\n      self2._forgetContext(item.context);\n    }\n    return needRemove;\n  };\n};\nCustomEvents.prototype._offByEventName = function(eventName, handler) {\n  var self2 = this;\n  var andByHandler = isFunction(handler);\n  var matchHandler = self2._matchHandler(handler);\n  eventName = eventName.split(R_EVENTNAME_SPLIT);\n  forEach(eventName, function(name) {\n    var handlerItems = self2._safeEvent(name);\n    if (andByHandler) {\n      self2._spliceMatches(handlerItems, matchHandler);\n    } else {\n      forEach(handlerItems, function(item) {\n        self2._forgetContext(item.context);\n      });\n      self2.events[name] = [];\n    }\n  });\n};\nCustomEvents.prototype._offByHandler = function(handler) {\n  var self2 = this;\n  var matchHandler = this._matchHandler(handler);\n  forEach(this._safeEvent(), function(handlerItems) {\n    self2._spliceMatches(handlerItems, matchHandler);\n  });\n};\nCustomEvents.prototype._offByObject = function(obj, handler) {\n  var self2 = this;\n  var matchFunc;\n  if (this._indexOfContext(obj) < 0) {\n    forEach(obj, function(func, name) {\n      self2.off(name, func);\n    });\n  } else if (isString(handler)) {\n    matchFunc = this._matchContext(obj);\n    self2._spliceMatches(this._safeEvent(handler), matchFunc);\n  } else if (isFunction(handler)) {\n    matchFunc = this._matchHandlerAndContext(handler, obj);\n    forEach(this._safeEvent(), function(handlerItems) {\n      self2._spliceMatches(handlerItems, matchFunc);\n    });\n  } else {\n    matchFunc = this._matchContext(obj);\n    forEach(this._safeEvent(), function(handlerItems) {\n      self2._spliceMatches(handlerItems, matchFunc);\n    });\n  }\n};\nCustomEvents.prototype.off = function(eventName, handler) {\n  if (isString(eventName)) {\n    this._offByEventName(eventName, handler);\n  } else if (!arguments.length) {\n    this.events = {};\n    this.contexts = [];\n  } else if (isFunction(eventName)) {\n    this._offByHandler(eventName);\n  } else if (isObject(eventName)) {\n    this._offByObject(eventName, handler);\n  }\n};\nCustomEvents.prototype.fire = function(eventName) {\n  this.invoke.apply(this, arguments);\n};\nCustomEvents.prototype.invoke = function(eventName) {\n  var events, args, index, item;\n  if (!this.hasListener(eventName)) {\n    return true;\n  }\n  events = this._safeEvent(eventName);\n  args = Array.prototype.slice.call(arguments, 1);\n  index = 0;\n  while (events[index]) {\n    item = events[index];\n    if (item.handler.apply(item.context, args) === false) {\n      return false;\n    }\n    index += 1;\n  }\n  return true;\n};\nCustomEvents.prototype.hasListener = function(eventName) {\n  return this.getListenerLength(eventName) > 0;\n};\nCustomEvents.prototype.getListenerLength = function(eventName) {\n  var events = this._safeEvent(eventName);\n  return events.length;\n};\nvar customEvents = CustomEvents;\nclass EventBusImpl extends customEvents {\n  on(eventName, handler) {\n    super.on(eventName, handler);\n    return this;\n  }\n  off(eventName, handler) {\n    super.off(eventName, handler);\n    return this;\n  }\n  fire(eventName, ...args) {\n    super.fire(eventName, ...args);\n    return this;\n  }\n  once(eventName, handler) {\n    super.once(eventName, handler);\n    return this;\n  }\n}\nclass CalendarCore {\n  constructor(container, options = {}) {\n    var _a;\n    this.container = isString_1(container) ? (_a = document == null ? void 0 : document.querySelector(container)) != null ? _a : null : container;\n    this.theme = initThemeStore(options.theme);\n    this.eventBus = new EventBusImpl();\n    this.store = initCalendarStore(options);\n    this.renderRange = this.calculateRenderRange(toStartOfDay());\n    addAttributeHooks();\n    if (this.getStoreState().options.usageStatistics === true) {\n      sendHostname_1(\"calendar\", GA_TRACKING_ID);\n    }\n  }\n  getStoreState(group) {\n    const state = this.store.getState();\n    return group ? state[group] : state;\n  }\n  getStoreDispatchers(group) {\n    const dispatchers = this.store.getState().dispatch;\n    return group ? dispatchers[group] : dispatchers;\n  }\n  destroy() {\n    if (this.container) {\n      un(this.container);\n    }\n    this.store.clearListeners();\n    this.theme.clearListeners();\n    this.eventBus.off();\n    removeAttributeHooks();\n    for (const key in this) {\n      if (this.hasOwnProperty(key)) {\n        delete this[key];\n      }\n    }\n  }\n  calculateMonthRenderDate({\n    renderDate,\n    offset,\n    monthOptions\n  }) {\n    let newRenderDate = new TZDate(renderDate);\n    const { visibleWeeksCount } = monthOptions;\n    if (visibleWeeksCount > 0) {\n      newRenderDate = addDate(newRenderDate, offset * 7 * visibleWeeksCount);\n    } else {\n      newRenderDate = addMonths(newRenderDate, offset);\n    }\n    const dateMatrix = createDateMatrixOfMonth(newRenderDate, monthOptions);\n    const [[start]] = dateMatrix;\n    const end = last(last(dateMatrix));\n    return {\n      renderDate: newRenderDate,\n      renderRange: { start, end }\n    };\n  }\n  calculateWeekRenderDate({\n    renderDate,\n    offset,\n    weekOptions\n  }) {\n    const newRenderDate = new TZDate(renderDate);\n    newRenderDate.addDate(offset * 7);\n    const weekDates = getWeekDates(newRenderDate, weekOptions);\n    const [start] = weekDates;\n    const end = last(weekDates);\n    return {\n      renderDate: newRenderDate,\n      renderRange: { start, end }\n    };\n  }\n  calculateDayRenderDate({ renderDate, offset }) {\n    const newRenderDate = new TZDate(renderDate);\n    newRenderDate.addDate(offset);\n    const start = toStartOfDay(newRenderDate);\n    const end = toEndOfDay(newRenderDate);\n    return {\n      renderDate: newRenderDate,\n      renderRange: { start, end }\n    };\n  }\n  move(offset) {\n    if (isNil(offset)) {\n      return;\n    }\n    const { currentView, renderDate } = this.getStoreState().view;\n    const { options } = this.getStoreState();\n    const { setRenderDate } = this.getStoreDispatchers().view;\n    const newRenderDate = new TZDate(renderDate);\n    let calculatedRenderDate = {\n      renderDate: newRenderDate,\n      renderRange: { start: new TZDate(newRenderDate), end: new TZDate(newRenderDate) }\n    };\n    if (currentView === \"month\") {\n      calculatedRenderDate = this.calculateMonthRenderDate({\n        renderDate,\n        offset,\n        monthOptions: options.month\n      });\n    } else if (currentView === \"week\") {\n      calculatedRenderDate = this.calculateWeekRenderDate({\n        renderDate,\n        offset,\n        weekOptions: options.week\n      });\n    } else if (currentView === \"day\") {\n      calculatedRenderDate = this.calculateDayRenderDate({ renderDate, offset });\n    }\n    setRenderDate(calculatedRenderDate.renderDate);\n    this.renderRange = calculatedRenderDate.renderRange;\n  }\n  createEvents(events) {\n    const { createEvents: createEvents2 } = this.getStoreDispatchers(\"calendar\");\n    createEvents2(events);\n  }\n  getEventModel(eventId, calendarId) {\n    const { events } = this.getStoreState(\"calendar\");\n    return events.find(({ id, calendarId: eventCalendarId }) => id === eventId && eventCalendarId === calendarId);\n  }\n  getEvent(eventId, calendarId) {\n    var _a, _b;\n    return (_b = (_a = this.getEventModel(eventId, calendarId)) == null ? void 0 : _a.toEventObject()) != null ? _b : null;\n  }\n  updateEvent(eventId, calendarId, changes) {\n    const { updateEvent: updateEvent2 } = this.getStoreDispatchers(\"calendar\");\n    const event = this.getEventModel(eventId, calendarId);\n    if (event) {\n      updateEvent2({ event, eventData: changes });\n    }\n  }\n  deleteEvent(eventId, calendarId) {\n    const { deleteEvent: deleteEvent2 } = this.getStoreDispatchers(\"calendar\");\n    const event = this.getEventModel(eventId, calendarId);\n    if (event) {\n      deleteEvent2(event);\n    }\n  }\n  setCalendarVisibility(calendarId, isVisible) {\n    const { setCalendarVisibility } = this.getStoreDispatchers(\"calendar\");\n    const calendarIds = Array.isArray(calendarId) ? calendarId : [calendarId];\n    setCalendarVisibility(calendarIds, isVisible);\n  }\n  render() {\n    if (isPresent(this.container)) {\n      P$2(/* @__PURE__ */ h$3(CalendarContainer, {\n        theme: this.theme,\n        store: this.store,\n        eventBus: this.eventBus\n      }, this.getComponent()), this.container);\n    }\n    return this;\n  }\n  renderToString() {\n    return m(/* @__PURE__ */ h$3(CalendarContainer, {\n      theme: this.theme,\n      store: this.store,\n      eventBus: this.eventBus\n    }, this.getComponent()));\n  }\n  clear() {\n    const { clearEvents: clearEvents2 } = this.getStoreDispatchers(\"calendar\");\n    clearEvents2();\n  }\n  scrollToNow(scrollBehavior = \"auto\") {\n    this.eventBus.fire(\"scrollToNow\", scrollBehavior);\n  }\n  calculateRenderRange(renderDate) {\n    const { currentView } = this.getStoreState().view;\n    const { options } = this.getStoreState();\n    const newRenderDate = new TZDate(renderDate);\n    let newRenderRange = { start: new TZDate(newRenderDate), end: new TZDate(newRenderDate) };\n    if (currentView === \"month\") {\n      newRenderRange = this.calculateMonthRenderDate({\n        renderDate,\n        offset: 0,\n        monthOptions: options.month\n      }).renderRange;\n    } else if (currentView === \"week\") {\n      newRenderRange = this.calculateWeekRenderDate({\n        renderDate,\n        offset: 0,\n        weekOptions: options.week\n      }).renderRange;\n    } else if (currentView === \"day\") {\n      newRenderRange = this.calculateDayRenderDate({ renderDate, offset: 0 }).renderRange;\n    }\n    return newRenderRange;\n  }\n  today() {\n    const { setRenderDate } = this.getStoreDispatchers().view;\n    const today = new TZDate();\n    setRenderDate(today);\n    this.renderRange = this.calculateRenderRange(today);\n  }\n  setDate(date2) {\n    const { setRenderDate } = this.getStoreDispatchers(\"view\");\n    const dateToChange = new TZDate(date2);\n    setRenderDate(dateToChange);\n    this.renderRange = this.calculateRenderRange(dateToChange);\n  }\n  next() {\n    this.move(1);\n  }\n  prev() {\n    this.move(-1);\n  }\n  setCalendarColor(calendarId, colorOptions) {\n    const { setCalendarColor } = this.getStoreDispatchers().calendar;\n    setCalendarColor(calendarId, colorOptions);\n  }\n  changeView(viewName) {\n    const { changeView } = this.getStoreDispatchers(\"view\");\n    changeView(viewName);\n    this.renderRange = this.calculateRenderRange(this.getDate());\n  }\n  getElement(eventId, calendarId) {\n    const event = this.getEvent(eventId, calendarId);\n    if (event && this.container) {\n      return this.container.querySelector(`[data-event-id=\"${eventId}\"][data-calendar-id=\"${calendarId}\"]`);\n    }\n    return null;\n  }\n  setTheme(theme) {\n    const { setTheme } = this.theme.getState().dispatch;\n    setTheme(theme);\n  }\n  getOptions() {\n    const { options, template } = this.getStoreState();\n    const _a = this.theme.getState(), { dispatch } = _a, theme = __objRest(_a, [\"dispatch\"]);\n    return __spreadProps(__spreadValues({}, options), {\n      template,\n      theme\n    });\n  }\n  setOptions(options) {\n    const _a = options, { theme, template } = _a, restOptions = __objRest(_a, [\"theme\", \"template\"]);\n    const { setTheme } = this.theme.getState().dispatch;\n    const {\n      options: { setOptions },\n      template: { setTemplate }\n    } = this.getStoreDispatchers();\n    if (isPresent(theme)) {\n      setTheme(theme);\n    }\n    if (isPresent(template)) {\n      setTemplate(template);\n    }\n    setOptions(restOptions);\n  }\n  getDate() {\n    const { renderDate } = this.getStoreState().view;\n    return renderDate;\n  }\n  getDateRangeStart() {\n    return this.renderRange.start;\n  }\n  getDateRangeEnd() {\n    return this.renderRange.end;\n  }\n  getViewName() {\n    const { currentView } = this.getStoreState(\"view\");\n    return currentView;\n  }\n  setCalendars(calendars) {\n    const { setCalendars } = this.getStoreDispatchers().calendar;\n    setCalendars(calendars);\n  }\n  openFormPopup(event) {\n    const { showFormPopup } = this.getStoreDispatchers().popup;\n    const eventModel = new EventModel(event);\n    const { title, location: location2, start, end, isAllday: isAllday2, isPrivate, state: eventState } = eventModel;\n    showFormPopup({\n      isCreationPopup: true,\n      event: eventModel,\n      title,\n      location: location2,\n      start,\n      end,\n      isAllday: isAllday2,\n      isPrivate,\n      eventState\n    });\n  }\n  clearGridSelections() {\n    const { clearAll } = this.getStoreDispatchers().gridSelection;\n    clearAll();\n  }\n  fire(eventName, ...args) {\n    this.eventBus.fire(eventName, ...args);\n    return this;\n  }\n  off(eventName, handler) {\n    this.eventBus.off(eventName, handler);\n    return this;\n  }\n  on(eventName, handler) {\n    this.eventBus.on(eventName, handler);\n    return this;\n  }\n  once(eventName, handler) {\n    this.eventBus.once(eventName, handler);\n    return this;\n  }\n}\nfunction isValidViewType(viewType) {\n  return !!Object.values(VIEW_TYPE).find((type) => type === viewType);\n}\nclass Calendar extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    const { defaultView = \"week\" } = options;\n    if (!isValidViewType(defaultView)) {\n      throw new InvalidViewTypeError(defaultView);\n    }\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */ h$3(Main, null);\n  }\n}\nclass Day extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */ h$3(Day$1, null);\n  }\n}\nclass Month extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */ h$3(Month$1, null);\n  }\n  hideMoreView() {\n    const { hideSeeMorePopup } = this.getStoreDispatchers().popup;\n    hideSeeMorePopup();\n  }\n}\nclass Week extends CalendarCore {\n  constructor(container, options = {}) {\n    super(container, options);\n    this.render();\n  }\n  getComponent() {\n    return /* @__PURE__ */ h$3(Week$1, null);\n  }\n}\nexport { Day, Month, TZDate, Week, Calendar as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}